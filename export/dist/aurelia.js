"bundle";System.registerDynamic("github:systemjs/plugin-text@0.0.3/text.js",[],!0,function(a,c,t){return c.translate=function(a){return'define(function() {\nreturn "'+a.source.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")+'";\n});'},t.exports}),System.registerDynamic("github:systemjs/plugin-text@0.0.3.js",["github:systemjs/plugin-text@0.0.3/text"],!0,function(a,c,t){return t.exports=a("github:systemjs/plugin-text@0.0.3/text"),t.exports}),function(){var a=System.amdDefine;a("npm:aurelia-animator-css@1.0.0-beta.1.2.0/aurelia-animator-css.js",["exports","aurelia-templating","aurelia-pal"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function e(a,t){var y=a.container.get(d);a.container.get(c.TemplatingEngine).configureAnimator(y),"function"==typeof t&&t(y)}Object.defineProperty(a,"__esModule",{value:!0}),a.CssAnimator=void 0,a.configure=e;var d=a.CssAnimator=function(){function a(){y(this,a),this.useAnimationDoneClasses=!1,this.animationEnteredClass="au-entered",this.animationLeftClass="au-left",this.isAnimating=!1,this.verifyKeyframesExist=!0}return a.prototype._addMultipleEventListener=function(a,c,t){for(var y=c.split(" "),e=0,d=y.length;d>e;++e)a.addEventListener(y[e],t,!1)},a.prototype._getElementAnimationDelay=function(a){var c=t.DOM.getComputedStyle(a),y=void 0,e=void 0;if(c.getPropertyValue("animation-delay"))y="animation-delay";else if(c.getPropertyValue("-webkit-animation-delay"))y="-webkit-animation-delay";else{if(!c.getPropertyValue("-moz-animation-delay"))return 0;y="-moz-animation-delay"}return e=c.getPropertyValue(y),e=Number(e.replace(/[^\d\.]/g,"")),1e3*e},a.prototype._getElementAnimationNames=function(a){var c=t.DOM.getComputedStyle(a),y=void 0;if(c.getPropertyValue("animation-name"))y="";else if(c.getPropertyValue("-webkit-animation-name"))y="-webkit-";else{if(!c.getPropertyValue("-moz-animation-name"))return[];y="-moz-"}var e=c.getPropertyValue(y+"animation-name");return e?e.split(" "):[]},a.prototype._performSingleAnimate=function(a,t){var y=this;return this._triggerDOMEvent(c.animationEvent.animateBegin,a),this.addClass(a,t,!0).then(function(e){return y._triggerDOMEvent(c.animationEvent.animateActive,a),e!==!1?y.removeClass(a,t,!0).then(function(){y._triggerDOMEvent(c.animationEvent.animateDone,a)}):!1})["catch"](function(){y._triggerDOMEvent(c.animationEvent.animateTimeout,a)})},a.prototype._triggerDOMEvent=function(a,c){var y=t.DOM.createCustomEvent(a,{bubbles:!0,cancelable:!0,detail:c});t.DOM.dispatchEvent(y)},a.prototype._animationChangeWithValidKeyframe=function(a,c){var t=a.filter(function(a){return-1===c.indexOf(a)});if(0===t.length)return!1;if(!this.verifyKeyframesExist)return!0;var y=window.CSSRule.KEYFRAMES_RULE||window.CSSRule.MOZ_KEYFRAMES_RULE||window.CSSRule.WEBKIT_KEYFRAMES_RULE,e=document.styleSheets;try{for(var d=0;d<e.length;++d){var h=e[d].cssRules;if(h)for(var i=0;i<h.length;++i){var k=h[i];if(k.type===y&&-1!==t.indexOf(k.name))return!0}}}catch(l){}return!1},a.prototype.animate=function(a,c){var t=this;return Array.isArray(a)?Promise.all(a.map(function(a){return t._performSingleAnimate(a,c)})):this._performSingleAnimate(a,c)},a.prototype.runSequence=function(a){var t=this;return this._triggerDOMEvent(c.animationEvent.sequenceBegin,null),a.reduce(function(a,c){return a.then(function(){return t.animate(c.element,c.className)})},Promise.resolve(!0)).then(function(){t._triggerDOMEvent(c.animationEvent.sequenceDone,null)})},a.prototype.enter=function(a){var t=this;return new Promise(function(y,e){var d=a.classList;t._triggerDOMEvent(c.animationEvent.enterBegin,a),t.useAnimationDoneClasses&&(d.remove(t.animationEnteredClass),d.remove(t.animationLeftClass)),d.add("au-enter");var h=t._getElementAnimationNames(a),i=void 0,k=!1;t._addMultipleEventListener(a,"webkitAnimationStart animationstart",i=function(y){k=!0,t.isAnimating=!0,t._triggerDOMEvent(c.animationEvent.enterActive,a),y.stopPropagation(),y.target.removeEventListener(y.type,i)},!1);var l=void 0;t._addMultipleEventListener(a,"webkitAnimationEnd animationend",l=function(e){k&&(e.stopPropagation(),d.remove("au-enter-active"),d.remove("au-enter"),e.target.removeEventListener(e.type,l),t.useAnimationDoneClasses&&void 0!==t.animationEnteredClass&&null!==t.animationEnteredClass&&d.add(t.animationEnteredClass),t.isAnimating=!1,t._triggerDOMEvent(c.animationEvent.enterDone,a),y(!0))},!1);var n=a.parentElement,o=0,p=function(){var e=t._getElementAnimationNames(a);t._animationChangeWithValidKeyframe(e,h)||(d.remove("au-enter-active"),d.remove("au-enter"),t._triggerDOMEvent(c.animationEvent.enterTimeout,a),y(!1))};if(null!==n&&void 0!==n&&(n.classList.contains("au-stagger")||n.classList.contains("au-stagger-enter"))){var r=Array.prototype.indexOf.call(n.children,a);o=t._getElementAnimationDelay(n)*r,t._triggerDOMEvent(c.animationEvent.staggerNext,a),setTimeout(function(){d.add("au-enter-active"),p()},o)}else d.add("au-enter-active"),p()})},a.prototype.leave=function(a){var t=this;return new Promise(function(y,e){var d=a.classList;t._triggerDOMEvent(c.animationEvent.leaveBegin,a),t.useAnimationDoneClasses&&(d.remove(t.animationEnteredClass),d.remove(t.animationLeftClass)),d.add("au-leave");var h=t._getElementAnimationNames(a),i=void 0,k=!1;t._addMultipleEventListener(a,"webkitAnimationStart animationstart",i=function(y){k=!0,t.isAnimating=!0,t._triggerDOMEvent(c.animationEvent.leaveActive,a),y.stopPropagation(),y.target.removeEventListener(y.type,i)},!1);var l=void 0;t._addMultipleEventListener(a,"webkitAnimationEnd animationend",l=function(e){k&&(e.stopPropagation(),d.remove("au-leave-active"),d.remove("au-leave"),e.target.removeEventListener(e.type,l),t.useAnimationDoneClasses&&void 0!==t.animationLeftClass&&null!==t.animationLeftClass&&d.add(t.animationLeftClass),t.isAnimating=!1,t._triggerDOMEvent(c.animationEvent.leaveDone,a),y(!0))},!1);var n=a.parentElement,o=0,p=function(){var e=t._getElementAnimationNames(a);t._animationChangeWithValidKeyframe(e,h)||(d.remove("au-leave-active"),d.remove("au-leave"),t._triggerDOMEvent(c.animationEvent.leaveTimeout,a),y(!1))};if(null!==n&&void 0!==n&&(n.classList.contains("au-stagger")||n.classList.contains("au-stagger-leave"))){var r=Array.prototype.indexOf.call(n.children,a);o=t._getElementAnimationDelay(n)*r,t._triggerDOMEvent(c.animationEvent.staggerNext,a),setTimeout(function(){d.add("au-leave-active"),p()},o)}else d.add("au-leave-active"),p()})},a.prototype.removeClass=function(a,t){var y=this,e=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return new Promise(function(d,h){var i=a.classList;if(!i.contains(t)&&!i.contains(t+"-add"))return void d(!1);e!==!0&&y._triggerDOMEvent(c.animationEvent.removeClassBegin,a),i.remove(t);var k=y._getElementAnimationNames(a),l=void 0,n=!1;y._addMultipleEventListener(a,"webkitAnimationStart animationstart",l=function(t){n=!0,y.isAnimating=!0,e!==!0&&y._triggerDOMEvent(c.animationEvent.removeClassActive,a),t.stopPropagation(),t.target.removeEventListener(t.type,l)},!1);var o=void 0;y._addMultipleEventListener(a,"webkitAnimationEnd animationend",o=function(h){n&&(h.stopPropagation(),i.remove(t+"-remove"),h.target.removeEventListener(h.type,o),y.isAnimating=!1,e!==!0&&y._triggerDOMEvent(c.animationEvent.removeClassDone,a),d(!0))},!1),i.add(t+"-remove");var p=y._getElementAnimationNames(a);y._animationChangeWithValidKeyframe(p,k)||(i.remove(t+"-remove"),i.remove(t),e!==!0&&y._triggerDOMEvent(c.animationEvent.removeClassTimeout,a),d(!1))})},a.prototype.addClass=function(a,t){var y=this,e=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return new Promise(function(d,h){var i=a.classList;e!==!0&&y._triggerDOMEvent(c.animationEvent.addClassBegin,a);var k=void 0,l=!1;y._addMultipleEventListener(a,"webkitAnimationStart animationstart",k=function(t){l=!0,y.isAnimating=!0,e!==!0&&y._triggerDOMEvent(c.animationEvent.addClassActive,a),t.stopPropagation(),t.target.removeEventListener(t.type,k)},!1);var n=void 0;y._addMultipleEventListener(a,"webkitAnimationEnd animationend",n=function(h){l&&(h.stopPropagation(),i.add(t),i.remove(t+"-add"),h.target.removeEventListener(h.type,n),y.isAnimating=!1,e!==!0&&y._triggerDOMEvent(c.animationEvent.addClassDone,a),d(!0))},!1);var o=y._getElementAnimationNames(a);i.add(t+"-add");var p=y._getElementAnimationNames(a);y._animationChangeWithValidKeyframe(p,o)||(i.remove(t+"-add"),i.add(t),e!==!0&&y._triggerDOMEvent(c.animationEvent.addClassTimeout,a),d(!1))})},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-animator-css@1.0.0-beta.1.2.0.js",["npm:aurelia-animator-css@1.0.0-beta.1.2.0/aurelia-animator-css"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-pal-browser@1.0.0-beta.1.2.0/aurelia-pal-browser.js",["exports","aurelia-pal"],function(a,c){"use strict";function t(){function a(){}a.name||Object.defineProperty(Function.prototype,"name",{get:function(){var a=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:a}),a}})}function y(){if("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))){var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var c=function(a){var c=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){for(var t=0,y=arguments.length;y>t;++t)a=arguments[t],c.call(this,a)}};c("add"),c("remove")}a.classList.toggle("c3",!1),a.classList.contains("c3")&&!function(){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,t){return 1 in arguments&&!this.contains(c)==!t?t:a.call(this,c)}}(),a=null}else!function(){var a="prototype",c=String.prototype.trim,t=Array.prototype.indexOf,y=[],e=function(a,c){this.name=a,this.code=DOMException[a],this.message=c},d=function(a,c){if(""===c)throw new e("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(c))throw new e("INVALID_CHARACTER_ERR","String contains an invalid character");return t.call(a,c)},h=function(a){for(var t=c.call(a.getAttribute("class")||""),e=t?t.split(/\s+/):y,d=0,h=e.length;h>d;++d)this.push(e[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},i=h[a]=[];e[a]=Error[a],i.item=function(a){return this[a]||null},i.contains=function(a){return a+="",-1!==d(this,a)},i.add=function(){var a=arguments,c=0,t=a.length,y=void 0,e=!1;do y=a[c]+"",-1===d(this,y)&&(this.push(y),e=!0);while(++c<t);e&&this._updateClassName()},i.remove=function(){var a=arguments,c=0,t=a.length,y=void 0,e=!1,h=void 0;do for(y=a[c]+"",h=d(this,y);-1!==h;)this.splice(h,1),e=!0,h=d(this,y);while(++c<t);e&&this._updateClassName()},i.toggle=function(a,c){a+="";var t=this.contains(a),y=t?c!==!0&&"remove":c!==!1&&"add";return y&&this[y](a),c===!0||c===!1?c:!t},i.toString=function(){return this.join(" ")},Object.defineProperty(Element.prototype,"classList",{get:function(){return new h(this)},enumerable:!0,configurable:!0})}()}function e(){"performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1&&!function(){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-a}}()}function d(){if(!window.CustomEvent||"function"!=typeof window.CustomEvent){var a=function(a,c){c=c||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(a,c.bubbles,c.cancelable,c.detail),t};a.prototype=window.Event.prototype,window.CustomEvent=a}}function h(){if(Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}}function i(){function a(a){return"template"===a.tagName&&"http://www.w3.org/2000/svg"===a.namespaceURI}function c(a){var c=a.ownerDocument.createElement("template"),y=a.attributes,e=y.length,d=void 0;for(a.parentNode.insertBefore(c,a);e-- >0;)d=y[e],c.setAttribute(d.name,d.value),a.removeAttribute(d.name);return a.parentNode.removeChild(a),t(c)}function t(a){for(var c=a.content=document.createDocumentFragment(),t=void 0;t=a.firstChild;)c.appendChild(t);return a}function y(y){for(var e=t(y).content,d=e.querySelectorAll("template"),h=0,i=d.length;i>h;++h){var k=d[h];a(k)?c(k):t(k)}return y}l.htmlTemplateElement?l.ensureHTMLTemplateElement=function(a){return a}:l.ensureHTMLTemplateElement=y}function k(){r||(r=!0,d(),t(),i(),h(),y(),e(),(0,c.initializePAL)(function(a,c,t){Object.assign(a,p),Object.assign(c,l),Object.assign(t,o),Object.defineProperty(t,"title",{get:function(){return document.title},set:function(a){document.title=a}}),Object.defineProperty(t,"activeElement",{get:function(){return document.activeElement}}),Object.defineProperty(a,"XMLHttpRequest",{get:function(){return a.global.XMLHttpRequest}})}))}Object.defineProperty(a,"__esModule",{value:!0}),a._PLATFORM=a._DOM=a._FEATURE=void 0,a._ensureFunctionName=t,a._ensureClassList=y,a._ensurePerformance=e,a._ensureCustomEvent=d,a._ensureElementMatches=h,a._ensureHTMLTemplateElement=i,a.initialize=k;var l=a._FEATURE={};l.shadowDOM=function(){return!!HTMLElement.prototype.createShadowRoot}(),l.scopedCSS=function(){return"scoped"in document.createElement("style")}(),l.htmlTemplateElement=function(){return"content"in document.createElement("template")}(),l.mutationObserver=function(){return!(!window.MutationObserver&&!window.WebKitMutationObserver)}();var n=window.ShadowDOMPolyfill||null,o=a._DOM={Element:Element,SVGElement:SVGElement,boundary:"aurelia-dom-boundary",addEventListener:function(a,c,t){document.addEventListener(a,c,t)},removeEventListener:function(a,c,t){document.removeEventListener(a,c,t)},adoptNode:function(a){return document.adoptNode(a,!0)},createElement:function(a){return document.createElement(a)},createTextNode:function(a){return document.createTextNode(a)},createComment:function(a){return document.createComment(a)},createDocumentFragment:function(){return document.createDocumentFragment()},createMutationObserver:function(a){return new(window.MutationObserver||window.WebKitMutationObserver)(a)},createCustomEvent:function(a,c){return new window.CustomEvent(a,c)},dispatchEvent:function(a){document.dispatchEvent(a)},getComputedStyle:function(a){return window.getComputedStyle(a)},getElementById:function(a){return document.getElementById(a)},querySelectorAll:function(a){return document.querySelectorAll(a)},nextElementSibling:function(a){if(a.nextElementSibling)return a.nextElementSibling;do a=a.nextSibling;while(a&&1!==a.nodeType);return a},createTemplateFromMarkup:function(a){var c=document.createElement("div");c.innerHTML=a;var t=c.firstElementChild;if(!t||"TEMPLATE"!==t.nodeName)throw new Error("Template markup must be wrapped in a <template> element e.g. <template> <!-- markup here --> </template>");return l.ensureHTMLTemplateElement(t)},appendNode:function(a,c){(c||document.body).appendChild(a)},replaceNode:function(a,c,t){c.parentNode?c.parentNode.replaceChild(a,c):null!==n?n.unwrap(t).replaceChild(n.unwrap(a),n.unwrap(c)):t.replaceChild(a,c)},removeNode:function(a,c){a.parentNode?a.parentNode.removeChild(a):null!==n?n.unwrap(c).removeChild(n.unwrap(a)):c.removeChild(a)},injectStyles:function(a,c,t){var y=document.createElement("style");return y.innerHTML=a,y.type="text/css",c=c||document.head,t&&c.childNodes.length>0?c.insertBefore(y,c.childNodes[0]):c.appendChild(y),y}},p=a._PLATFORM={location:window.location,history:window.history,addEventListener:function(a,c,t){this.global.addEventListener(a,c,t)},removeEventListener:function(a,c,t){this.global.removeEventListener(a,c,t)},performance:window.performance,requestAnimationFrame:function(a){return this.global.requestAnimationFrame(a)}},r=!1})}(),function(){var a=System.amdDefine;a("npm:aurelia-pal-browser@1.0.0-beta.1.2.0.js",["npm:aurelia-pal-browser@1.0.0-beta.1.2.0/aurelia-pal-browser"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-polyfills@1.0.0-beta.1.1.0/aurelia-polyfills.js",["aurelia-pal"],function(a){"use strict";!function(c,t){if(!(t in c)){var y,e=a.PLATFORM.global,d=0,h=""+Math.random(),i="__symbol:",k=i.length,l="__symbol@@"+h,n="defineProperty",o="defineProperties",p="getOwnPropertyNames",r="getOwnPropertyDescriptor",s="propertyIsEnumerable",T=c[p],b=c[r],f=c.create,g=c.keys,j=c[n],m=(c[o],b(c,p)),q=c.prototype,u=q.hasOwnProperty,v=q[s],w=q.toString,x=(Array.prototype.indexOf||function(a){for(var c=this.length;c--&&this[c]!==a;);return c},function(a,c,t){u.call(a,l)||j(a,l,{enumerable:!1,configurable:!1,writable:!1,value:{}}),a[l]["@@"+c]=t}),z=function(a,c){var t=f(a);return T(c).forEach(function(a){E.call(c,a)&&K(t,a,c[a])}),t},A=function(a){var c=f(a);return c.enumerable=!1,c},B=function(){},C=function(a){return a!=l&&!u.call(H,a)},D=function(a){return a!=l&&u.call(H,a)},E=function(a){var c=""+a;return D(c)?u.call(this,c)&&this[l]["@@"+c]:v.call(this,a)},F=function(a){var t={enumerable:!1,configurable:!0,get:B,set:function(c){y(this,a,{enumerable:!1,configurable:!0,writable:!0,value:c}),x(this,a,!0)}};return j(q,a,t),H[a]=j(c(a),"constructor",I)},G=function(a){if(this&&this!==e)throw new TypeError("Symbol is not a constructor");return F(i.concat(a||"",h,++d))},H=f(null),I={value:G},J=function(a){return H[a]},K=function(a,c,t){var e=""+c;return D(e)?(y(a,e,t.enumerable?A(t):t),x(a,e,!!t.enumerable)):j(a,c,t),a},L=function(a){return T(a).filter(D).map(J)};m.value=K,j(c,n,m),m.value=L,j(c,t,m),m.value=function(a){return T(a).filter(C)},j(c,p,m),m.value=function N(a,c){var t=L(c);return t.length?g(c).concat(t).forEach(function(t){E.call(c,t)&&K(a,t,c[t])}):N(a,c),a},j(c,o,m),m.value=E,j(q,s,m),m.value=G,j(e,"Symbol",m),m.value=function(a){var c=i.concat(i,a,h);return c in q?H[c]:F(c)},j(G,"for",m),m.value=function(a){return u.call(H,a)?a.slice(2*k,-h.length):void 0},j(G,"keyFor",m),m.value=function(a,c){var t=b(a,c);return t&&D(c)&&(t.enumerable=E.call(a,c)),t},j(c,r,m),m.value=function(a,c){return 1===arguments.length?f(a):z(a,c)},j(c,"create",m),m.value=function(){var a=w.call(this);return"[object String]"===a&&D(this)?"[object Symbol]":a},j(q,"toString",m);try{y=f(j({},i,{get:function(){return j(this,i,{value:!1})[i]}}))[i]||j}catch(M){y=function(a,c,t){var y=b(q,c);delete q[c],j(a,c,t),j(q,c,y)}}}}(Object,"getOwnPropertySymbols"),function(a,c){var t,y=a.defineProperty,e=a.prototype,d=e.toString,h="toStringTag";["iterator","match","replace","search","split","hasInstance","isConcatSpreadable","unscopables","species","toPrimitive",h].forEach(function(c){if(!(c in Symbol))switch(y(Symbol,c,{value:Symbol(c)}),c){case h:t=a.getOwnPropertyDescriptor(e,"toString"),t.value=function(){var a=d.call(this),c="undefined"==typeof this||null===this?void 0:this[Symbol.toStringTag];return"undefined"==typeof c?a:"[object "+c+"]"},y(e,"toString",t)}})}(Object,Symbol),function(a,c,t){function y(){return this}c[a]||(c[a]=function(){var c=0,t=this,e={next:function(){var a=t.length<=c;return a?{done:a}:{done:a,value:t[c++]}}};return e[a]=y,e}),t[a]||(t[a]=function(){var c=String.fromCodePoint,t=this,e=0,d=t.length,h={next:function(){var a=e>=d,y=a?"":c(t.codePointAt(e));return e+=y.length,a?{done:a}:{done:a,value:y}}};return h[a]=y,h})}(Symbol.iterator,Array.prototype,String.prototype),Number.isNaN=Number.isNaN||function(a){return a!==a},Number.isFinite=Number.isFinite||function(a){return"number"==typeof a&&isFinite(a)},String.prototype.endsWith||(String.prototype.endsWith=function(a,c){var t=this.toString();("number"!=typeof c||!isFinite(c)||Math.floor(c)!==c||c>t.length)&&(c=t.length),c-=a.length;var y=t.indexOf(a,c);return-1!==y&&y===c}),String.prototype.startsWith||(String.prototype.startsWith=function(a,c){return c=c||0,this.substr(c,a.length)===a}),Array.from||(Array.from=function(){var a=function(a){return isNaN(a=+a)?0:(a>0?Math.floor:Math.ceil)(a)},c=function(c){return c>0?min(a(c),9007199254740991):0},t=function(a,c,t,y){try{c(t,y)}catch(e){throw"function"==typeof a["return"]&&a["return"](),e}};return function(a){var y,e,d,h,i=Object(a),k="function"==typeof this?this:Array,l=arguments.length,n=l>1?arguments[1]:void 0,o=void 0!==n,p=0,r=i[Symbol.iterator];if(o&&(n=n.bind(l>2?arguments[2]:void 0)),void 0==r||Array.isArray(a))for(y=c(i.length),e=new k(y);y>p;p++)e[p]=o?n(i[p],p):i[p];else for(h=r.call(i),e=new k;!(d=h.next()).done;p++)e[p]=o?t(n,d.value,p):d.value;return e.length=p,e}}()),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{configurable:!0,writable:!0,enumerable:!1,value:function e(a){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var e,c=Object(this),t=c.length>>>0,y=arguments[1],d=0;t>d;d++)if(e=c[d],a.call(y,e,d,c))return e}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{configurable:!0,writable:!0,enumerable:!1,value:function d(a){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof a)throw new TypeError("predicate must be a function");for(var d,c=Object(this),t=c.length>>>0,y=arguments[1],e=0;t>e;e++)if(d=c[e],a.call(y,d,e,c))return e;return-1}}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{configurable:!0,writable:!0,enumerable:!1,value:function(a){var c=Object(this),t=parseInt(c.length)||0;if(0===t)return!1;var y,e=parseInt(arguments[1])||0;e>=0?y=e:(y=t+e,0>y&&(y=0));for(var d;t>y;){if(d=c[y],a===d||a!==a&&d!==d)return!0;y++}return!1}}),function(){var a=!1;try{var c=Object.keys("a");a=1!==c.length||"0"!==c[0]}catch(t){a=!0}a&&(Object.keys=function(){var a=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],y=t.length;return function(e){if(void 0===e||null===e)throw TypeError("Cannot convert undefined or null to object");e=Object(e);var d,h,i=[];for(d in e)a.call(e,d)&&i.push(d);if(c)for(h=0;y>h;h++)a.call(e,t[h])&&i.push(t[h]);return i}}())}(),function(a){"assign"in a||a.defineProperty(a,"assign",{configurable:!0,writable:!0,value:function(){var c=a.getOwnPropertySymbols,t=a.propertyIsEnumerable,y=c?function(a){return c(a).filter(t,a)}:function(){return Array.prototype};return function(t){function e(a){t[a]=i[a]}!c||t instanceof a||console.warn("problematic Symbols",t);for(var d=1,h=arguments.length;h>d;++d){var i=arguments[d];null!==i&&void 0!==i&&a.keys(i).concat(y(i)).forEach(e)}return t}}()})}(Object),function(a){function c(a,c){function y(a){return this&&this.constructor===y?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=c,void(a&&t.call(this,a))):new y(a)}return c||j(a,"size",{get:b}),a.constructor=y,y.prototype=a,y}function t(a){this.add?a.forEach(this.add,this):a.forEach(function(a){this.set(a[0],a[1])},this)}function y(a){return this.has(a)&&(this._keys.splice(g,1),this._values.splice(g,1),this._itp.forEach(function(a){g<a[0]&&a[0]--})),g>-1}function e(a){return this.has(a)?this._values[g]:void 0}function d(a,c){if(this.objectOnly&&c!==Object(c))throw new TypeError("Invalid value used as weak collection key");if(c!=c||0===c)for(g=a.length;g--&&!m(a[g],c););else g=a.indexOf(c);return g>-1}function h(a){return d.call(this,this._values,a)}function i(a){return d.call(this,this._keys,a)}function k(a,c){return this.has(a)?this._values[g]=c:this._values[this._keys.push(a)-1]=c,this}function l(a){return this.has(a)||this._values.push(a),this}function n(){(this._keys||0).length=this._values.length=0}function o(){return T(this._itp,this._keys)}function p(){return T(this._itp,this._values)}function r(){return T(this._itp,this._keys,this._values)}function s(){return T(this._itp,this._values,this._values)}function T(a,c,t){var y,e=[0],d=!1;return a.push(e),y={},y[Symbol.iterator]=function(){return this},y.next=function(){var y,h=e[0];return!d&&h<c.length?(y=t?[c[h],t[h]]:c[h],e[0]++):(d=!0,a.splice(a.indexOf(e),1)),{done:d,value:y}},y}function b(){return this._values.length}function f(a,c){for(var t=this.entries();;){var y=t.next();if(y.done)break;a.call(c,y.value[1],y.value[0],this)}}var g,j=Object.defineProperty,m=function(a,c){return a===c||a!==a&&c!==c};if("undefined"==typeof WeakMap&&(a.WeakMap=c({"delete":y,clear:n,get:e,has:i,set:k},!0)),"undefined"==typeof Map||"function"!=typeof(new Map).values||!(new Map).values().next){var q;a.Map=c((q={"delete":y,has:i,get:e,set:k,keys:o,values:p,entries:r,forEach:f,clear:n},q[Symbol.iterator]=r,q))}if("undefined"==typeof Set||"function"!=typeof(new Set).values||!(new Set).values().next){var u;a.Set=c((u={has:h,add:l,"delete":y,clear:n,keys:p,values:p,entries:s,forEach:f},u[Symbol.iterator]=p,u))}"undefined"==typeof WeakSet&&(a.WeakSet=c({"delete":y,add:l,clear:n,has:h},!0))}(a.PLATFORM.global);var c=Object.freeze({}),t="__metadata__",y=Function.prototype.bind;"undefined"==typeof a.PLATFORM.global.Reflect&&(a.PLATFORM.global.Reflect={}),"function"!=typeof Reflect.getOwnMetadata&&(Reflect.getOwnMetadata=function(a,y,e){return((y[t]||c)[e]||c)[a]}),"function"!=typeof Reflect.defineMetadata&&(Reflect.defineMetadata=function(a,c,y,e){var d=y.hasOwnProperty(t)?y[t]:y[t]={},h=d[e]||(d[e]={});h[a]=c}),"function"!=typeof Reflect.metadata&&(Reflect.metadata=function(a,c){return function(t,y){Reflect.defineMetadata(a,c,t,y)}}),"function"!=typeof Reflect.construct&&(Reflect.construct=function(a,c){if(c)switch(c.length){case 0:return new a;case 1:return new a(c[0]);case 2:return new a(c[0],c[1]);case 3:return new a(c[0],c[1],c[2]);case 4:return new a(c[0],c[1],c[2],c[3])}var t=[null];return t.push.apply(t,c),new(y.apply(a,t))})})}(),function(){var a=System.amdDefine;a("npm:aurelia-polyfills@1.0.0-beta.1.1.0.js",["npm:aurelia-polyfills@1.0.0-beta.1.1.0/aurelia-polyfills"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-bootstrapper@1.0.0-beta.1.2.0/aurelia-bootstrapper.js",["exports","aurelia-pal","aurelia-pal-browser","aurelia-polyfills"],function(a,c,t){"use strict";function y(a){return new Promise(function(c,t){p?c(a(p)):o.push(function(){try{c(a(p))}catch(y){t(y)}})})}function e(a){return new Promise(function(c,t){function y(){a.document.removeEventListener("DOMContentLoaded",y),a.removeEventListener("load",y),c(a.document)}"complete"===a.document.readyState?c(a.document):(a.document.addEventListener("DOMContentLoaded",y),a.addEventListener("load",y))})}function d(){return c.PLATFORM.Loader?Promise.resolve(new c.PLATFORM.Loader):window.System&&"function"==typeof window.System["import"]?System.normalize("aurelia-bootstrapper").then(function(a){return System.normalize("aurelia-loader-default",a)}).then(function(a){return System["import"](a).then(function(a){return new a.DefaultLoader})}):"function"==typeof window.require?new Promise(function(a,c){return require(["aurelia-loader-default"],function(c){return a(new c.DefaultLoader)},c)}):Promise.reject("No PLATFORM.Loader is defined and there is neither a System API (ES6) or a Require API (AMD) globally available to load your app.")}function h(a){return a.normalize("aurelia-bootstrapper").then(function(c){return a.normalize("aurelia-framework",c).then(function(t){return a.map("aurelia-framework",t),Promise.all([a.normalize("aurelia-dependency-injection",t).then(function(c){return a.map("aurelia-dependency-injection",c)}),a.normalize("aurelia-router",c).then(function(c){return a.map("aurelia-router",c)}),a.normalize("aurelia-logging-console",c).then(function(c){return a.map("aurelia-logging-console",c)})]).then(function(){return a.loadModule(t).then(function(a){return r=a.Aurelia})})})})}function i(a,c){return k(a,c,c.getAttribute("aurelia-app"))}function k(a,c,t){var y=new r(a);return y.host=c,t?a.loadModule(t).then(function(a){return a.configure(y)}):(y.use.standardConfiguration().developmentLogging(),y.start().then(function(){return y.setRoot()}))}function l(){return e(window).then(function(a){(0,t.initialize)();var c=a.querySelectorAll("[aurelia-app]");return d().then(function(a){return h(a).then(function(){for(var t=0,y=c.length;y>t;++t)i(a,c[t])["catch"](console.error.bind(console));p=a;for(var e=0,d=o.length;d>e;++e)o[e]();o=null})})})}function n(a){return y(function(c){var t=new r(c);return a(t)})}Object.defineProperty(a,"__esModule",{value:!0}),a.bootstrap=n;var o=[],p=null,r=null;l()})}(),function(){var a=System.amdDefine;a("npm:aurelia-bootstrapper@1.0.0-beta.1.2.0.js",["npm:aurelia-bootstrapper@1.0.0-beta.1.2.0/aurelia-bootstrapper"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-fetch-client@1.0.0-beta.1.2.0/aurelia-fetch-client.js",["exports"],function(a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function t(a){return new Blob([JSON.stringify(a)],{type:"application/json"})}function y(a){if(!a.ok)throw a;return a}function e(){this.isRequesting=!!++this.activeRequestCount}function d(){this.isRequesting=!!--this.activeRequestCount}function h(a){var c=d.bind(this);return a.then(c,c),a}function i(a){var c={};for(var t in a||{})a.hasOwnProperty(t)&&(c[t]="function"==typeof a[t]?a[t]():a[t]);return c}function k(a,c){c||(c={});var t=this.defaults||{},y=void 0,e=void 0,d=void 0;if(Request.prototype.isPrototypeOf(a)){if(!this.isConfigured)return a;y=a,e=a.url,"GET"!==a.method&&"HEAD"!==a.method&&(d=a.blob())}else y=c,e=a,d=c.body;var h=d?{body:d}:null,k=i(t.headers),o=Object.assign({},t,{headers:{}},y,h),p=new Headers(o.headers).get("Content-Type"),r=new Request(l(this.baseUrl,e),o);return!p&&new Headers(k).has("content-type")&&r.headers.set("Content-Type",new Headers(k).get("content-type")),n(r.headers,k),d&&Blob.prototype.isPrototypeOf(d)&&d.type&&r.headers.set("Content-Type",d.type),r}function l(a,c){return b.test(c)?c:(a||"")+c}function n(a,c){for(var t in c||{})c.hasOwnProperty(t)&&!a.has(t)&&a.set(t,c[t])}function o(a,c){return r(a,c,"request","requestError")}function p(a,c,t){return r(a,c,"response","responseError",t)}function r(a,c,t,y){for(var e=arguments.length,d=Array(e>4?e-4:0),h=4;e>h;h++)d[h-4]=arguments[h];return(c||[]).reduce(function(a,c){var e=c[t],h=c[y];return a.then(e&&function(a){return e.call.apply(e,[c,a].concat(d))},h&&function(a){return h.call.apply(h,[c,a].concat(d))})},Promise.resolve(a))}Object.defineProperty(a,"__esModule",{value:!0}),a.json=t;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},T=a.HttpClientConfiguration=function(){function a(){c(this,a),this.baseUrl="",this.defaults={},this.interceptors=[]}return a.prototype.withBaseUrl=function(a){return this.baseUrl=a,this},a.prototype.withDefaults=function(a){return this.defaults=a,this},a.prototype.withInterceptor=function(a){return this.interceptors.push(a),this},a.prototype.useStandardConfiguration=function(){var a={credentials:"same-origin"};return Object.assign(this.defaults,a,this.defaults),this.rejectErrorResponses()},a.prototype.rejectErrorResponses=function(){return this.withInterceptor({response:y})},a}(),b=(a.HttpClient=function(){function a(){if(c(this,a),this.activeRequestCount=0,this.isRequesting=!1,this.isConfigured=!1,this.baseUrl="",this.defaults=null,this.interceptors=[],"undefined"==typeof fetch)throw new Error("HttpClient requires a Fetch API implementation, but the current environment doesn't support it. You may need to load a polyfill such as https://github.com/github/fetch.")}return a.prototype.configure=function(a){var c,t=void 0;if("object"===("undefined"==typeof a?"undefined":s(a)))t={
defaults:a};else{if("function"!=typeof a)throw new Error("invalid config");t=new T;var y=a(t);T.prototype.isPrototypeOf(y)&&(t=y)}var e=t.defaults;if(e&&Headers.prototype.isPrototypeOf(e.headers))throw new Error("Default headers must be a plain object.");return this.baseUrl=t.baseUrl,this.defaults=e,(c=this.interceptors).push.apply(c,t.interceptors||[]),this.isConfigured=!0,this},a.prototype.fetch=function(a){function c(c,t){return a.apply(this,arguments)}return c.toString=function(){return a.toString()},c}(function(a,c){var t=this;e.call(this);var y=Promise.resolve().then(function(){return k.call(t,a,c,t.defaults)}),d=o(y,this.interceptors).then(function(a){var c=null;if(Response.prototype.isPrototypeOf(a))c=a;else{if(!Request.prototype.isPrototypeOf(a))throw new Error("An invalid result was returned by the interceptor chain. Expected a Request or Response instance, but got ["+a+"]");y=Promise.resolve(a),c=fetch(a)}return y.then(function(a){return p(c,t.interceptors,a)})});return h.call(this,d)}),a}(),/^([a-z][a-z0-9+\-.]*:)?\/\//i)})}(),function(){var a=System.amdDefine;a("npm:aurelia-fetch-client@1.0.0-beta.1.2.0.js",["npm:aurelia-fetch-client@1.0.0-beta.1.2.0/aurelia-fetch-client"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-framework@1.0.0-beta.1.2.0/aurelia-framework.js",["exports","aurelia-dependency-injection","aurelia-binding","aurelia-metadata","aurelia-templating","aurelia-loader","aurelia-task-queue","aurelia-path","aurelia-pal","aurelia-logging"],function(a,c,t,y,e,d,h,i,k,l){"use strict";function n(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function o(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function p(){k.DOM.addEventListener("submit",function(a){var c=a.target,t=c.action;"form"!==c.tagName.toLowerCase()||t||a.preventDefault()})}function r(a,c){var t=void 0,y=function e(){return(t=c.shift())?Promise.resolve(t(a)).then(e):Promise.resolve()};return y()}function s(a,c,t){function y(y){return c.loadModule(y).then(function(c){return"configure"in c?Promise.resolve(c.configure(a,t.config||{})).then(function(){a.resourcesRelativeTo=null,g.debug("Configured plugin "+t.moduleId+".")}):(a.resourcesRelativeTo=null,void g.debug("Loaded plugin "+t.moduleId+"."))})}g.debug("Loading plugin "+t.moduleId+"."),a.resourcesRelativeTo=t.resourcesRelativeTo;var e=t.moduleId;return t.resourcesRelativeTo.length>1?c.normalize(t.moduleId,t.resourcesRelativeTo[1]).then(function(a){return y(a)}):y(e)}function T(a,c,t){function y(c){return a.loader.normalize(c.moduleId,c.relativeTo).then(function(a){return{name:c.moduleId,importId:a}})}var d=a.container.get(e.ViewEngine);return Promise.all(Object.keys(c).map(function(a){return y(c[a])})).then(function(a){var c=[],y=[];return a.forEach(function(a){c.push(void 0),y.push(a.importId)}),d.importViewResources(y,c,t)})}function b(a){if(a.processed)throw new Error("This config instance has already been applied. To load more plugins or global resources, create a new FrameworkConfiguration instance.")}Object.defineProperty(a,"__esModule",{value:!0}),a.LogManager=a.FrameworkConfiguration=a.Aurelia=void 0,Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(a,t,{enumerable:!0,get:function(){return c[t]}})}),Object.keys(t).forEach(function(c){"default"!==c&&"__esModule"!==c&&Object.defineProperty(a,c,{enumerable:!0,get:function(){return t[c]}})}),Object.keys(y).forEach(function(c){"default"!==c&&"__esModule"!==c&&Object.defineProperty(a,c,{enumerable:!0,get:function(){return y[c]}})}),Object.keys(e).forEach(function(c){"default"!==c&&"__esModule"!==c&&Object.defineProperty(a,c,{enumerable:!0,get:function(){return e[c]}})}),Object.keys(d).forEach(function(c){"default"!==c&&"__esModule"!==c&&Object.defineProperty(a,c,{enumerable:!0,get:function(){return d[c]}})}),Object.keys(h).forEach(function(c){"default"!==c&&"__esModule"!==c&&Object.defineProperty(a,c,{enumerable:!0,get:function(){return h[c]}})}),Object.keys(i).forEach(function(c){"default"!==c&&"__esModule"!==c&&Object.defineProperty(a,c,{enumerable:!0,get:function(){return i[c]}})}),Object.keys(k).forEach(function(c){"default"!==c&&"__esModule"!==c&&Object.defineProperty(a,c,{enumerable:!0,get:function(){return k[c]}})});var f=n(l),g=(a.Aurelia=function(){function a(t,y,h){o(this,a),this.loader=t||new k.PLATFORM.Loader,this.container=y||(new c.Container).makeGlobal(),this.resources=h||new e.ViewResources,this.use=new j(this),this.logger=f.getLogger("aurelia"),this.hostConfigured=!1,this.host=null,this.use.instance(a,this),this.use.instance(d.Loader,this.loader),this.use.instance(e.ViewResources,this.resources)}return a.prototype.start=function(){var a=this;return this.started?Promise.resolve(this):(this.started=!0,this.logger.info("Aurelia Starting"),this.use.apply().then(function(){if(p(),!a.container.hasResolver(e.BindingLanguage)){var c="You must configure Aurelia with a BindingLanguage implementation.";throw a.logger.error(c),new Error(c)}a.logger.info("Aurelia Started");var t=k.DOM.createCustomEvent("aurelia-started",{bubbles:!0,cancelable:!0});return k.DOM.dispatchEvent(t),a}))},a.prototype.enhance=function(){var a=this,c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return this._configureHost(t||k.DOM.querySelectorAll("body")[0]),new Promise(function(t){var y=a.container.get(e.TemplatingEngine);return a.root=y.enhance({container:a.container,element:a.host,resources:a.resources,bindingContext:c}),a.root.attached(),a._onAureliaComposed(),a})},a.prototype.setRoot=function(){var a=this,c=arguments.length<=0||void 0===arguments[0]?"app":arguments[0],t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],y={};this.root&&this.root.viewModel&&this.root.viewModel.router&&(this.root.viewModel.router.deactivate(),this.root.viewModel.router.reset()),this._configureHost(t);var d=this.container.get(e.TemplatingEngine),h=this.container.get(e.CompositionTransaction);return delete h.initialComposition,y.viewModel=c,y.container=y.childContainer=this.container,y.viewSlot=this.hostSlot,y.host=this.host,d.compose(y).then(function(c){return a.root=c,y.viewSlot.attached(),a._onAureliaComposed(),a})},a.prototype._configureHost=function(a){if(!this.hostConfigured){if(a=a||this.host,a&&"string"!=typeof a?this.host=a:this.host=k.DOM.getElementById(a||"applicationHost"),!this.host)throw new Error("No applicationHost was specified.");this.hostConfigured=!0,this.host.aurelia=this,this.hostSlot=new e.ViewSlot(this.host,!0),this.hostSlot.transformChildNodesIntoView(),this.container.registerInstance(k.DOM.boundary,this.host)}},a.prototype._onAureliaComposed=function(){var a=k.DOM.createCustomEvent("aurelia-composed",{bubbles:!0,cancelable:!0});setTimeout(function(){return k.DOM.dispatchEvent(a)},1)},a}(),f.getLogger("aurelia")),j=function(){function a(c){var t=this;o(this,a),this.aurelia=c,this.container=c.container,this.info=[],this.processed=!1,this.preTasks=[],this.postTasks=[],this.resourcesToLoad={},this.preTask(function(){return c.loader.normalize("aurelia-bootstrapper").then(function(a){return t.bootstrapperName=a})}),this.postTask(function(){return T(c,t.resourcesToLoad,c.resources)})}return a.prototype.instance=function(a,c){return this.container.registerInstance(a,c),this},a.prototype.singleton=function(a,c){return this.container.registerSingleton(a,c),this},a.prototype["transient"]=function(a,c){return this.container.registerTransient(a,c),this},a.prototype.preTask=function(a){return b(this),this.preTasks.push(a),this},a.prototype.postTask=function(a){return b(this),this.postTasks.push(a),this},a.prototype.feature=function(a,c){function t(c){return a.split(".").length>1}return t(a)?this.plugin({moduleId:a,resourcesRelativeTo:[a,""],config:c||{}}):this.plugin({moduleId:a+"/index",resourcesRelativeTo:[a,""],config:c||{}})},a.prototype.globalResources=function(a){b(this);for(var c=Array.isArray(a)?a:arguments,t=void 0,y=this.resourcesRelativeTo||["",""],e=0,d=c.length;d>e;++e){if(t=c[e],"string"!=typeof t)throw new Error("Invalid resource path ["+t+"]. Resources must be specified as relative module IDs.");var h=y[0],i=y[1],k=t;t.startsWith("./")&&""!==h&&(k=h+t.substr(1)),this.resourcesToLoad[k]={moduleId:k,relativeTo:i}}return this},a.prototype.globalName=function(a,c){return b(this),this.resourcesToLoad[a]={moduleId:c,relativeTo:""},this},a.prototype.plugin=function(a,c){return b(this),"string"==typeof a?this.plugin({moduleId:a,resourcesRelativeTo:[a,""],config:c||{}}):(this.info.push(a),this)},a.prototype._addNormalizedPlugin=function(a,c){var t=this,y={moduleId:a,resourcesRelativeTo:[a,""],config:c||{}};return this.plugin(y),this.preTask(function(){var c=[a,t.bootstrapperName];return y.moduleId=a,y.resourcesRelativeTo=c,Promise.resolve()}),this},a.prototype.defaultBindingLanguage=function(){return this._addNormalizedPlugin("aurelia-templating-binding")},a.prototype.router=function(){return this._addNormalizedPlugin("aurelia-templating-router")},a.prototype.history=function(){return this._addNormalizedPlugin("aurelia-history-browser")},a.prototype.defaultResources=function(){return this._addNormalizedPlugin("aurelia-templating-resources")},a.prototype.eventAggregator=function(){return this._addNormalizedPlugin("aurelia-event-aggregator")},a.prototype.standardConfiguration=function(){return this.defaultBindingLanguage().defaultResources().history().router().eventAggregator()},a.prototype.developmentLogging=function(){var a=this;return this.preTask(function(){return a.aurelia.loader.normalize("aurelia-logging-console",a.bootstrapperName).then(function(c){return a.aurelia.loader.loadModule(c).then(function(a){f.addAppender(new a.ConsoleAppender),f.setLevel(f.logLevel.debug)})})}),this},a.prototype.apply=function(){var a=this;return this.processed?Promise.resolve():r(this,this.preTasks).then(function(){var c=a.aurelia.loader,t=a.info,y=void 0,e=function d(){return(y=t.shift())?s(a,c,y).then(d):(a.processed=!0,Promise.resolve())};return e().then(function(){return r(a,a.postTasks)})})},a}();a.FrameworkConfiguration=j;a.LogManager=f})}(),function(){var a=System.amdDefine;a("npm:aurelia-framework@1.0.0-beta.1.2.0.js",["npm:aurelia-framework@1.0.0-beta.1.2.0/aurelia-framework"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-history-browser@1.0.0-beta.1.2.0/aurelia-history-browser.js",["exports","aurelia-pal","aurelia-history"],function(a,c,t){"use strict";function y(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function e(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function d(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function h(a){a.singleton(t.History,p),a["transient"](n,o)}function i(a,c,t){if(t){var y=a.href.replace(/(javascript:|#).*$/,"");a.replace(y+"#"+c)}else a.hash="#"+c}Object.defineProperty(a,"__esModule",{value:!0}),a.BrowserHistory=a.DefaultLinkHandler=a.LinkHandler=void 0,a.configure=h;var k,l,n=a.LinkHandler=function(){function a(){d(this,a)}return a.prototype.activate=function(a){},a.prototype.deactivate=function(){},a}(),o=a.DefaultLinkHandler=function(a){function t(){d(this,t);var c=y(this,a.call(this));return c.handler=function(a){var y=t.getEventInfo(a),e=y.shouldHandleEvent,d=y.href;e&&(a.preventDefault(),c.history.navigate(d))},c}return e(t,a),t.prototype.activate=function(a){a._hasPushState&&(this.history=a,c.DOM.addEventListener("click",this.handler,!0))},t.prototype.deactivate=function(){c.DOM.removeEventListener("click",this.handler)},t.getEventInfo=function(a){var c={shouldHandleEvent:!1,href:null,anchor:null},y=t.findClosestAnchor(a.target);if(!y||!t.targetIsThisWindow(y))return c;if(a.altKey||a.ctrlKey||a.metaKey||a.shiftKey)return c;var e=y.getAttribute("href");c.anchor=y,c.href=e;var d=1===a.which,h=e&&!("#"===e.charAt(0)||/^[a-z]+:/i.test(e));return c.shouldHandleEvent=d&&h,c},t.findClosestAnchor=function(a){for(;a;){if("A"===a.tagName)return a;a=a.parentNode}},t.targetIsThisWindow=function(a){var t=a.getAttribute("target"),y=c.PLATFORM.global;return!t||t===y.name||"_self"===t||"top"===t&&y===y.top},t}(n),p=a.BrowserHistory=(l=k=function(a){function t(e){d(this,t);var h=y(this,a.call(this));return h._isActive=!1,h._checkUrlCallback=h._checkUrl.bind(h),h.location=c.PLATFORM.location,h.history=c.PLATFORM.history,h.linkHandler=e,h}return e(t,a),t.prototype.activate=function(a){if(this._isActive)throw new Error("History has already been activated.");var t=!!a.pushState;this._isActive=!0,this.options=Object.assign({},{root:"/"},this.options,a),this.root=("/"+this.options.root+"/").replace(s,"/"),this._wantsHashChange=this.options.hashChange!==!1,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var y=void 0;if(this._hasPushState?y="popstate":this._wantsHashChange&&(y="hashchange"),c.PLATFORM.addEventListener(y,this._checkUrlCallback),this._wantsHashChange&&t){var e=this.location,d=e.pathname.replace(/[^\/]$/,"$&/")===this.root;if(!this._hasPushState&&!d)return this.fragment=this._getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&d&&e.hash&&(this.fragment=this._getHash().replace(r,""),this.history.replaceState({},c.DOM.title,this.root+this.fragment+e.search))}return this.fragment||(this.fragment=this._getFragment()),this.linkHandler.activate(this),this.options.silent?void 0:this._loadUrl()},t.prototype.deactivate=function(){c.PLATFORM.removeEventListener("popstate",this._checkUrlCallback),c.PLATFORM.removeEventListener("hashchange",this._checkUrlCallback),this._isActive=!1,this.linkHandler.deactivate()},t.prototype.navigate=function(a){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],y=t.trigger,e=void 0===y?!0:y,d=t.replace,h=void 0===d?!1:d;if(a&&b.test(a))return this.location.href=a,!0;if(!this._isActive)return!1;if(a=this._getFragment(a||""),this.fragment===a&&!h)return!1;this.fragment=a;var k=this.root+a;if(""===a&&"/"!==k&&(k=k.slice(0,-1)),this._hasPushState)k=k.replace("//","/"),this.history[h?"replaceState":"pushState"]({},c.DOM.title,k);else{if(!this._wantsHashChange)return this.location.assign(k);i(this.location,a,h)}return e?this._loadUrl(a):void 0},t.prototype.navigateBack=function(){this.history.back()},t.prototype.setTitle=function(a){c.DOM.title=a},t.prototype._getHash=function(){return this.location.hash.substr(1)},t.prototype._getFragment=function(a,c){var t=void 0;return a||(this._hasPushState||!this._wantsHashChange||c?(a=this.location.pathname+this.location.search,t=this.root.replace(T,""),a.indexOf(t)||(a=a.substr(t.length))):a=this._getHash()),"/"+a.replace(r,"")},t.prototype._checkUrl=function(){var a=this._getFragment();a!==this.fragment&&this._loadUrl()},t.prototype._loadUrl=function(a){var c=this.fragment=this._getFragment(a);return this.options.routeHandler?this.options.routeHandler(c):!1},t}(t.History),k.inject=[n],l),r=/^#?\/*|\s+$/g,s=/^\/+|\/+$/g,T=/\/$/,b=/^([a-z][a-z0-9+\-.]*:)?\/\//i})}(),function(){var a=System.amdDefine;a("npm:aurelia-history-browser@1.0.0-beta.1.2.0.js",["npm:aurelia-history-browser@1.0.0-beta.1.2.0/aurelia-history-browser"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-loader-default@1.0.0-beta.1.2.0/aurelia-loader-default.js",["exports","aurelia-loader","aurelia-pal","aurelia-metadata"],function(c,t,y,e){"use strict";function d(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function h(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function i(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function k(a,c){var t=a,y=void 0,d=void 0;t.__useDefault&&(t=t["default"]),e.Origin.set(t,new e.Origin(c,"default"));for(y in t)d=t[y],"function"==typeof d&&e.Origin.set(d,new e.Origin(c,y));return a}Object.defineProperty(c,"__esModule",{value:!0}),c.DefaultLoader=c.TextTemplateLoader=void 0;var l=c.TextTemplateLoader=function(){function a(){i(this,a)}return a.prototype.loadTemplate=function(a,c){return a.loadText(c.address).then(function(a){c.template=y.DOM.createTemplateFromMarkup(a)})},a}(),n=c.DefaultLoader=function(a){function c(){i(this,c);var t=d(this,a.call(this));t.textPluginName="text",t.moduleRegistry={},t.useTemplateLoader(new l);var y=t;return t.addPlugin("template-registry-entry",{fetch:function(a){var c=y.getOrCreateTemplateRegistryEntry(a);return c.templateIsLoaded?c:y.templateLoader.loadTemplate(y,c).then(function(a){return c})}}),t}return h(c,a),c.prototype.useTemplateLoader=function(a){this.templateLoader=a},c.prototype.loadAllModules=function(a){for(var c=[],t=0,y=a.length;y>t;++t)c.push(this.loadModule(a[t]));return Promise.all(c)},c.prototype.loadTemplate=function(a){return this._import(this.applyPluginToUrl(a,"template-registry-entry"))},c.prototype.loadText=function(a){return this._import(this.applyPluginToUrl(a,this.textPluginName))},c}(t.Loader);y.PLATFORM.Loader=n,y.PLATFORM.global.System&&y.PLATFORM.global.System["import"]?(y.PLATFORM.eachModule=function(a){var c=System._loader.modules;for(var t in c)try{if(a(t,c[t].module))return}catch(y){}},System.set("text",System.newModule({translate:function(a){return'module.exports = "'+a.source.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")+'";'}})),n.prototype._import=function(a){return System["import"](a)},n.prototype.loadModule=function(a){var c=this;return System.normalize(a).then(function(a){var t=c.moduleRegistry[a];return void 0!==t?Promise.resolve(t):System["import"](a).then(function(t){return c.moduleRegistry[a]=t,k(t,a)})})},n.prototype.map=function(a,c){System.map[a]=c},n.prototype.normalizeSync=function(a,c){return System.normalizeSync(a,c)},n.prototype.normalize=function(a,c){return System.normalize(a,c)},n.prototype.applyPluginToUrl=function(a,c){return a+"!"+c},n.prototype.addPlugin=function(a,c){System.set(a,System.newModule({fetch:function(a,t){var y=c.fetch(a.address);return Promise.resolve(y).then(function(c){return a.metadata.result=c,""})},instantiate:function(a){return a.metadata.result}}))}):(y.PLATFORM.global.requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._&&requirejs.s.contexts._.defined?y.PLATFORM.eachModule=function(a){var c=requirejs.s.contexts._.defined;for(var t in c)try{if(a(t,c[t]))return}catch(y){}}:y.PLATFORM.eachModule=function(a){},n.prototype._import=function(a){return new Promise(function(c,t){require([a],c,t)})},n.prototype.loadModule=function(a){var c=this,t=this.moduleRegistry[a];return void 0!==t?Promise.resolve(t):new Promise(function(t,y){require([a],function(y){c.moduleRegistry[a]=y,t(k(y,a))},y)})},n.prototype.map=function(a,c){},n.prototype.normalize=function(a,c){return Promise.resolve(a)},n.prototype.normalizeSync=function(a,c){return a},n.prototype.applyPluginToUrl=function(a,c){return c+"!"+a},n.prototype.addPlugin=function(c,t){var y=a;y(c,[],{load:function(a,c,y){var e=t.fetch(a);Promise.resolve(e).then(y)}})})})}(),function(){var a=System.amdDefine;a("npm:aurelia-loader-default@1.0.0-beta.1.2.0.js",["npm:aurelia-loader-default@1.0.0-beta.1.2.0/aurelia-loader-default"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-logging-console@1.0.0-beta.1.2.0/aurelia-logging-console.js",["exports","aurelia-pal","aurelia-logging"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.ConsoleAppender=void 0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};!function(a){a.console=a.console||{};for(var c=a.console,t=void 0,y=void 0,e={},d=function(){},h="memory".split(","),i="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=h.pop();)c[t]||(c[t]=e);for(;y=i.pop();)c[y]||(c[y]=d)}(c.PLATFORM.global),c.PLATFORM.global.console&&"object"===e(console.log)&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(a){console[a]=this.bind(console[a],console)},Function.prototype.call);a.ConsoleAppender=function(){function a(){y(this,a)}return a.prototype.debug=function(a){for(var c,t=arguments.length,y=Array(t>1?t-1:0),e=1;t>e;e++)y[e-1]=arguments[e];(c=console).debug.apply(c,["DEBUG ["+a.id+"]"].concat(y))},a.prototype.info=function(a){for(var c,t=arguments.length,y=Array(t>1?t-1:0),e=1;t>e;e++)y[e-1]=arguments[e];(c=console).info.apply(c,["INFO ["+a.id+"]"].concat(y))},a.prototype.warn=function(a){for(var c,t=arguments.length,y=Array(t>1?t-1:0),e=1;t>e;e++)y[e-1]=arguments[e];(c=console).warn.apply(c,["WARN ["+a.id+"]"].concat(y))},a.prototype.error=function(a){for(var c,t=arguments.length,y=Array(t>1?t-1:0),e=1;t>e;e++)y[e-1]=arguments[e];(c=console).error.apply(c,["ERROR ["+a.id+"]"].concat(y))},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-logging-console@1.0.0-beta.1.2.0.js",["npm:aurelia-logging-console@1.0.0-beta.1.2.0/aurelia-logging-console"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-binding@1.0.0-beta.1.2.0/aurelia-templating-binding.js",["exports","aurelia-logging","aurelia-binding","aurelia-templating"],function(a,c,t,y){"use strict";function e(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function d(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function h(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function i(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function k(a,c){if("style"===c)p.getLogger("templating-binding").info('Internet Explorer does not support interpolation in "style" attributes.  Use the style attribute\'s alias, "css" instead.');else if(a.parentElement&&"TEXTAREA"===a.parentElement.nodeName&&"textContent"===c)throw new Error('Interpolation binding cannot be used in the content of a textarea element.  Use <textarea value.bind="expression"></textarea> instead.')}function l(a){a.container.registerSingleton(y.BindingLanguage,g),a.container.registerAlias(y.BindingLanguage,g)}Object.defineProperty(a,"__esModule",{value:!0}),a.TemplatingBindingLanguage=a.SyntaxInterpreter=a.ChildInterpolationBinding=a.InterpolationBinding=a.InterpolationBindingExpression=void 0,a.configure=l;var n,o,p=e(c),r=a.InterpolationBindingExpression=function(){function a(c,t,y,e,d,h){i(this,a),this.observerLocator=c,this.targetProperty=t,this.parts=y,this.mode=e,this.lookupFunctions=d,this.attribute=this.attrToRemove=h,this.discrete=!1}return a.prototype.createBinding=function(a){return 3===this.parts.length?new T(a,this.observerLocator,this.parts[1],this.mode,this.lookupFunctions,this.targetProperty,this.parts[0],this.parts[2]):new s(this.observerLocator,this.parts,a,this.targetProperty,this.mode,this.lookupFunctions)},a}(),s=a.InterpolationBinding=function(){function a(c,t,y,e,d,h){i(this,a),k(y,e),this.observerLocator=c,this.parts=t,this.target=y,this.targetProperty=e,this.targetAccessor=c.getAccessor(y,e),this.mode=d,this.lookupFunctions=h}return a.prototype.interpolate=function(){if(this.isBound){for(var a="",c=this.parts,t=0,y=c.length;y>t;t++)a+=t%2===0?c[t]:this["childBinding"+t].value;this.targetAccessor.setValue(a,this.target,this.targetProperty)}},a.prototype.updateOneTimeBindings=function(){for(var a=1,c=this.parts.length;c>a;a+=2){var y=this["childBinding"+a];y.mode===t.bindingMode.oneTime&&y.call()}},a.prototype.bind=function(a){if(this.isBound){if(this.source===a)return;this.unbind()}this.source=a;for(var c=this.parts,t=1,y=c.length;y>t;t+=2){var e=new T(this,this.observerLocator,c[t],this.mode,this.lookupFunctions);e.bind(a),this["childBinding"+t]=e}this.isBound=!0,this.interpolate()},a.prototype.unbind=function(){if(this.isBound){this.isBound=!1,this.source=null;for(var a=this.parts,c=1,t=a.length;t>c;c+=2){var y="childBinding"+c;this[y].unbind()}}},a}(),T=a.ChildInterpolationBinding=(n=(0,t.connectable)(),n(o=function(){function a(c,t,y,e,d,h,l,n){i(this,a),c instanceof s?this.parent=c:(k(c,h),this.target=c,this.targetProperty=h,this.targetAccessor=t.getAccessor(c,h)),this.observerLocator=t,this.sourceExpression=y,this.mode=e,this.lookupFunctions=d,this.left=l,this.right=n}return a.prototype.updateTarget=function(a){a=null===a||void 0===a?"":a.toString(),a!==this.value&&(this.value=a,this.parent?this.parent.interpolate():this.targetAccessor.setValue(this.left+a+this.right,this.target,this.targetProperty))},a.prototype.call=function(){if(this.isBound){var a=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(a),this.mode!==t.bindingMode.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),a instanceof Array&&this.observeArray(a),this.unobserve(!1))}},a.prototype.bind=function(a){if(this.isBound){if(this.source===a)return;this.unbind()}this.isBound=!0,this.source=a;var c=this.sourceExpression;c.bind&&c.bind(this,a,this.lookupFunctions);var y=c.evaluate(a,this.lookupFunctions);this.updateTarget(y),this.mode===t.bindingMode.oneWay&&(0,t.enqueueBindingConnect)(this)},a.prototype.unbind=function(){if(this.isBound){this.isBound=!1;var a=this.sourceExpression;a.unbind&&a.unbind(this,this.source),this.source=null,this.unobserve(!0)}},a.prototype.connect=function(a){if(this.isBound){if(a){var c=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(c)}this.sourceExpression.connect(this,this.source),this.value instanceof Array&&this.observeArray(this.value)}},a}())||o),b=a.SyntaxInterpreter=function(){function a(c,t,y){i(this,a),this.parser=c,this.observerLocator=t,this.eventManager=y}return a.inject=function(){return[t.Parser,t.ObserverLocator,t.EventManager]},a.prototype.interpret=function(a,c,t,y,e){return t.command in this?this[t.command](a,c,t,y,e):this.handleUnknownCommand(a,c,t,y,e)},a.prototype.handleUnknownCommand=function(a,c,t,y,e){return p.getLogger("templating-binding").warn("Unknown binding command.",t),y},a.prototype.determineDefaultBindingMode=function(a,c,y){var e=a.tagName.toLowerCase();return"input"===e&&("value"===c||"checked"===c||"files"===c)||("textarea"===e||"select"===e)&&"value"===c||("textcontent"===c||"innerhtml"===c)&&"true"===a.contentEditable||"scrolltop"===c||"scrollleft"===c?t.bindingMode.twoWay:y&&c in y.attributes?y.attributes[c].defaultBindingMode||t.bindingMode.oneWay:t.bindingMode.oneWay},a.prototype.bind=function(a,c,e,d,h){var i=d||y.BehaviorInstruction.attribute(e.attrName);return i.attributes[e.attrName]=new t.BindingExpression(this.observerLocator,this.attributeMap[e.attrName]||e.attrName,this.parser.parse(e.attrValue),e.defaultBindingMode||this.determineDefaultBindingMode(c,e.attrName,h),a.lookupFunctions),i},a.prototype.trigger=function(a,c,y){return new t.ListenerExpression(this.eventManager,y.attrName,this.parser.parse(y.attrValue),!1,!0,a.lookupFunctions)},a.prototype.delegate=function(a,c,y){return new t.ListenerExpression(this.eventManager,y.attrName,this.parser.parse(y.attrValue),!0,!0,a.lookupFunctions)},a.prototype.call=function(a,c,e,d){var h=d||y.BehaviorInstruction.attribute(e.attrName);return h.attributes[e.attrName]=new t.CallExpression(this.observerLocator,e.attrName,this.parser.parse(e.attrValue),a.lookupFunctions),h},a.prototype.options=function(a,c,t,e,d){var h=e||y.BehaviorInstruction.attribute(t.attrName),i=t.attrValue,k=this.language,l=null,n="",o=void 0,p=void 0,r=void 0,s=!1,T=!1;for(p=0,r=i.length;r>p;++p){if(o=i[p],";"!==o||s)if(":"===o&&null===l)l=n.trim(),n="";else{if("\\"===o){n+=o,T=!0;continue}n+=o,null!==l&&T===!1&&"'"===o&&(s=!s)}else t=k.inspectAttribute(a,l,n.trim()),k.createAttributeInstruction(a,c,t,h,d),h.attributes[t.attrName]||(h.attributes[t.attrName]=t.attrValue),n="",l=null;T=!1}return null!==l&&(t=k.inspectAttribute(a,l,n.trim()),k.createAttributeInstruction(a,c,t,h,d),h.attributes[t.attrName]||(h.attributes[t.attrName]=t.attrValue)),h},a.prototype["for"]=function(a,c,e,d){var h=void 0,i=void 0,k=void 0,l=void 0,n=void 0;if(l=e.attrValue,n=l.match(/^ *[[].+[\]]/),h=n?l.split("of "):l.split(" of "),2!==h.length)throw new Error('Incorrect syntax for "for". The form is: "$local of $items" or "[$key, $value] of $items".');return k=d||y.BehaviorInstruction.attribute(e.attrName),n?(i=h[0].replace(/[[\]]/g,"").replace(/,/g," ").replace(/\s+/g," ").trim().split(" "),k.attributes.key=i[0],k.attributes.value=i[1]):k.attributes.local=h[0],k.attributes.items=new t.BindingExpression(this.observerLocator,"items",this.parser.parse(h[1]),t.bindingMode.oneWay,a.lookupFunctions),k},a.prototype["two-way"]=function(a,c,e,d){var h=d||y.BehaviorInstruction.attribute(e.attrName);return h.attributes[e.attrName]=new t.BindingExpression(this.observerLocator,this.attributeMap[e.attrName]||e.attrName,this.parser.parse(e.attrValue),t.bindingMode.twoWay,a.lookupFunctions),h},a.prototype["one-way"]=function(a,c,e,d){var h=d||y.BehaviorInstruction.attribute(e.attrName);return h.attributes[e.attrName]=new t.BindingExpression(this.observerLocator,this.attributeMap[e.attrName]||e.attrName,this.parser.parse(e.attrValue),t.bindingMode.oneWay,a.lookupFunctions),h},a.prototype["one-time"]=function(a,c,e,d){var h=d||y.BehaviorInstruction.attribute(e.attrName);return h.attributes[e.attrName]=new t.BindingExpression(this.observerLocator,this.attributeMap[e.attrName]||e.attrName,this.parser.parse(e.attrValue),t.bindingMode.oneTime,a.lookupFunctions),h},a}(),f={},g=a.TemplatingBindingLanguage=function(a){function c(t,y,e){i(this,c);var h=d(this,a.call(this));return h.parser=t,h.observerLocator=y,h.syntaxInterpreter=e,h.emptyStringExpression=h.parser.parse("''"),e.language=h,h.attributeMap=e.attributeMap={contenteditable:"contentEditable","for":"htmlFor",tabindex:"tabIndex",textcontent:"textContent",innerhtml:"innerHTML",maxlength:"maxLength",minlength:"minLength",formaction:"formAction",formenctype:"formEncType",formmethod:"formMethod",formnovalidate:"formNoValidate",formtarget:"formTarget",rowspan:"rowSpan",colspan:"colSpan",scrolltop:"scrollTop",scrollleft:"scrollLeft",readonly:"readOnly"},h}return h(c,a),c.inject=function(){return[t.Parser,t.ObserverLocator,b]},c.prototype.inspectAttribute=function(a,c,y){var e=c.split(".");return f.defaultBindingMode=null,2===e.length?(f.attrName=e[0].trim(),f.attrValue=y,f.command=e[1].trim(),"ref"===f.command?(f.expression=new t.NameExpression(this.parser.parse(y),f.attrName),
f.command=null,f.attrName="ref"):f.expression=null):"ref"===c?(f.attrName=c,f.attrValue=y,f.command=null,f.expression=new t.NameExpression(this.parser.parse(y),"element")):(f.attrName=c,f.attrValue=y,f.command=null,f.expression=this.parseContent(a,c,y)),f},c.prototype.createAttributeInstruction=function(a,c,t,e,d){var h=void 0;if(t.expression){if("ref"===t.attrName)return t.expression;h=e||y.BehaviorInstruction.attribute(t.attrName),h.attributes[t.attrName]=t.expression}else t.command&&(h=this.syntaxInterpreter.interpret(a,c,t,e,d));return h},c.prototype.parseText=function(a,c){return this.parseContent(a,"textContent",c)},c.prototype.parseContent=function(a,c,y){for(var e=y.indexOf("${",0),d=y.length,h=void 0,i=0,k=0,l=null,n=void 0,o=void 0,p=0;e>=0&&d-2>e;){k=1,n=e,e+=2;do h=y[e],e++,"'"!==h&&'"'!==h?"\\"!==h?null===l&&("{"===h?k++:"}"===h&&k--):e++:null===l?l=h:l===h&&(l=null);while(k>0&&d>e);if(0!==k)break;o=o||[],"\\"===y[n-1]&&"\\"!==y[n-2]?(o[p]=y.substring(i,n-1)+y.substring(n,e),p++,o[p]=this.emptyStringExpression,p++):(o[p]=y.substring(i,n),p++,o[p]=this.parser.parse(y.substring(n+2,e-1)),p++),i=e,e=y.indexOf("${",e)}return 0===p?null:(o[p]=y.substr(i),new r(this.observerLocator,this.attributeMap[c]||c,o,t.bindingMode.oneWay,a.lookupFunctions,c))},c}(y.BindingLanguage)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-binding@1.0.0-beta.1.2.0.js",["npm:aurelia-templating-binding@1.0.0-beta.1.2.0/aurelia-templating-binding"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/compose.js",["exports","aurelia-dependency-injection","aurelia-task-queue","aurelia-templating","aurelia-pal"],function(a,c,t,y,e){"use strict";function d(a,c,t,y){t&&Object.defineProperty(a,c,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(y):void 0})}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function i(a,c,t,y,e){var d={};return Object.keys(y).forEach(function(a){d[a]=y[a]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=t.slice().reverse().reduce(function(t,y){return y(a,c,t)||t},d),e&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(e):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,c,d),d=null),d}function k(a,c){return Object.assign(c,{bindingContext:a.bindingContext,overrideContext:a.overrideContext,owningView:a.owningView,container:a.container,viewSlot:a.viewSlot,viewResources:a.viewResources,currentController:a.currentController,host:a.element})}function l(a,c){a.currentInstruction=null,a.compositionEngine.compose(c).then(function(c){a.currentController=c,a.currentViewModel=c?c.viewModel:null})}Object.defineProperty(a,"__esModule",{value:!0}),a.Compose=void 0;var n,o,p,r,s,T,b;a.Compose=(n=(0,y.customElement)("compose"),o=(0,c.inject)(e.DOM.Element,c.Container,y.CompositionEngine,y.ViewSlot,y.ViewResources,t.TaskQueue),n(p=(0,y.noView)(p=o((r=function(){function a(c,t,y,e,i,k){h(this,a),d(this,"model",s,this),d(this,"view",T,this),d(this,"viewModel",b,this),this.element=c,this.container=t,this.compositionEngine=y,this.viewSlot=e,this.viewResources=i,this.taskQueue=k,this.currentController=null,this.currentViewModel=null}return a.prototype.created=function(a){this.owningView=a},a.prototype.bind=function(a,c){this.bindingContext=a,this.overrideContext=c,l(this,k(this,{view:this.view,viewModel:this.viewModel,model:this.model}))},a.prototype.unbind=function(a,c){this.bindingContext=null,this.overrideContext=null;var t=!0,y=!0;this.viewSlot.removeAll(t,y)},a.prototype.modelChanged=function(a,c){var t=this;return this.currentInstruction?void(this.currentInstruction.model=a):void this.taskQueue.queueMicroTask(function(){if(t.currentInstruction)return void(t.currentInstruction.model=a);var c=t.currentViewModel;c&&"function"==typeof c.activate&&c.activate(a)})},a.prototype.viewChanged=function(a,c){var t=this,y=k(this,{view:a,viewModel:this.currentViewModel||this.viewModel,model:this.model});return this.currentInstruction?void(this.currentInstruction=y):(this.currentInstruction=y,void this.taskQueue.queueMicroTask(function(){return l(t,t.currentInstruction)}))},a.prototype.viewModelChanged=function(a,c){var t=this,y=k(this,{viewModel:a,view:this.view,model:this.model});return this.currentInstruction?void(this.currentInstruction=y):(this.currentInstruction=y,void this.taskQueue.queueMicroTask(function(){return l(t,t.currentInstruction)}))},a}(),s=i(r.prototype,"model",[y.bindable],{enumerable:!0,initializer:null}),T=i(r.prototype,"view",[y.bindable],{enumerable:!0,initializer:null}),b=i(r.prototype,"viewModel",[y.bindable],{enumerable:!0,initializer:null}),p=r))||p)||p)||p)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/if.js",["exports","aurelia-templating","aurelia-dependency-injection"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.If=void 0;var e,d,h;a.If=(e=(0,c.customAttribute)("if"),d=(0,t.inject)(c.BoundViewFactory,c.ViewSlot),e(h=(0,c.templateController)(h=d(h=function(){function a(c,t){y(this,a),this.viewFactory=c,this.viewSlot=t,this.showing=!1,this.view=null,this.bindingContext=null,this.overrideContext=null}return a.prototype.bind=function(a,c){this.bindingContext=a,this.overrideContext=c,this.valueChanged(this.value)},a.prototype.valueChanged=function(a){var c=this;if(this.__queuedChanges)return void this.__queuedChanges.push(a);var t=this._runValueChanged(a);t instanceof Promise&&!function(){var a=c.__queuedChanges=[],y=function e(){if(!a.length)return void(c.__queuedChanges=void 0);var t=c._runValueChanged(a.shift())||Promise.resolve();t.then(e)};t.then(y)}()},a.prototype._runValueChanged=function(a){var c=this;if(!a){var t=void 0;return null!==this.view&&this.showing&&(t=this.viewSlot.remove(this.view),t instanceof Promise?t.then(function(){return c.view.unbind()}):this.view.unbind()),this.showing=!1,t}return null===this.view&&(this.view=this.viewFactory.create()),this.view.isBound||this.view.bind(this.bindingContext,this.overrideContext),this.showing?void 0:(this.showing=!0,this.viewSlot.add(this.view))},a.prototype.unbind=function(){null!==this.view&&(this.view.unbind(),this.viewFactory.isCaching&&(this.showing&&(this.showing=!1,this.viewSlot.remove(this.view,!0,!0)),this.view.returnToCache(),this.view=null))},a}())||h)||h)||h)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/with.js",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-binding"],function(a,c,t,y){"use strict";function e(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.With=void 0;var d,h,i;a.With=(d=(0,t.customAttribute)("with"),h=(0,c.inject)(t.BoundViewFactory,t.ViewSlot),d(i=(0,t.templateController)(i=h(i=function(){function a(c,t){e(this,a),this.viewFactory=c,this.viewSlot=t,this.parentOverrideContext=null,this.view=null}return a.prototype.bind=function(a,c){this.parentOverrideContext=c,this.valueChanged(this.value)},a.prototype.valueChanged=function(a){var c=(0,y.createOverrideContext)(a,this.parentOverrideContext);this.view?this.view.bind(a,c):(this.view=this.viewFactory.create(),this.view.bind(a,c),this.viewSlot.add(this.view))},a.prototype.unbind=function(){this.parentOverrideContext=null,this.view&&this.view.unbind()},a}())||i)||i)||i)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/null-repeat-strategy.js",["exports"],function(a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});a.NullRepeatStrategy=function(){function a(){c(this,a)}return a.prototype.instanceChanged=function(a,c){a.removeAllViews(!0)},a.prototype.getCollectionObserver=function(a,c){},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/array-repeat-strategy.js",["exports","./repeat-utilities","aurelia-binding"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.ArrayRepeatStrategy=void 0;a.ArrayRepeatStrategy=function(){function a(){y(this,a)}return a.prototype.getCollectionObserver=function(a,c){return a.getArrayObserver(c)},a.prototype.instanceChanged=function(a,c){var t=this;if(a.viewsRequireLifecycle){var y=a.removeAllViews(!0);return y instanceof Promise?void y.then(function(){return t._standardProcessInstanceChanged(a,c)}):void this._standardProcessInstanceChanged(a,c)}this._inPlaceProcessItems(a,c)},a.prototype._standardProcessInstanceChanged=function(a,t){for(var y=0,e=t.length;e>y;y++){var d=(0,c.createFullOverrideContext)(a,t[y],y,e);a.addView(d.bindingContext,d)}},a.prototype._inPlaceProcessItems=function(a,t){for(var y=t.length,e=a.viewCount();e>y;)e--,a.removeView(e,!0);for(var d=a.local,h=0;e>h;h++){var i=a.view(h),k=h===y-1,l=0!==h&&!k;i.bindingContext[d]===t[h]&&i.overrideContext.$middle===l&&i.overrideContext.$last===k||(i.bindingContext[d]=t[h],i.overrideContext.$middle=l,i.overrideContext.$last=k,a.updateBindings(i))}for(var n=e;y>n;n++){var o=(0,c.createFullOverrideContext)(a,t[n],n,y);a.addView(o.bindingContext,o)}},a.prototype.instanceMutated=function(a,c,t){return a.viewsRequireLifecycle?void this._standardProcessInstanceMutated(a,c,t):void this._inPlaceProcessItems(a,c)},a.prototype._standardProcessInstanceMutated=function(a,c,y){var e=this;if(a.__queuedSplices){for(var d=0,h=y.length;h>d;++d){var i=y[d],k=i.index,l=i.removed,n=i.addedCount;(0,t.mergeSplice)(a.__queuedSplices,k,l,n)}return void(a.__array=c.slice(0))}var o=this._runSplices(a,c.slice(0),y);o instanceof Promise&&!function(){var c=a.__queuedSplices=[],t=function y(){if(!c.length)return a.__queuedSplices=void 0,void(a.__array=void 0);var t=e._runSplices(a,a.__array,c)||Promise.resolve();c=a.__queuedSplices=[],t.then(y)};o.then(t)}()},a.prototype._runSplices=function(a,t,y){for(var e=this,d=0,h=[],i=0,k=y.length;k>i;++i){for(var l=y[i],n=l.removed,o=0,p=n.length;p>o;++o){var r=a.removeView(l.index+d+h.length,!0);r instanceof Promise&&h.push(r)}d-=l.addedCount}if(h.length>0)return Promise.all(h).then(function(){var d=e._handleAddedSplices(a,t,y);(0,c.updateOverrideContexts)(a.views(),d)});var s=this._handleAddedSplices(a,t,y);(0,c.updateOverrideContexts)(a.views(),s)},a.prototype._handleAddedSplices=function(a,t,y){for(var e=void 0,d=void 0,h=t.length,i=0,k=y.length;k>i;++i){var l=y[i],n=e=l.index,o=l.index+l.addedCount;for(("undefined"==typeof d||null===d||d>l.index)&&(d=e);o>n;++n){var p=(0,c.createFullOverrideContext)(a,t[n],n,h);a.insertView(n,p.bindingContext,p)}}return d},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/map-repeat-strategy.js",["exports","./repeat-utilities"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.MapRepeatStrategy=void 0;a.MapRepeatStrategy=function(){function a(){t(this,a)}return a.prototype.getCollectionObserver=function(a,c){return a.getMapObserver(c)},a.prototype.instanceChanged=function(a,c){var t=this,y=a.removeAllViews(!0);return y instanceof Promise?void y.then(function(){return t._standardProcessItems(a,c)}):void this._standardProcessItems(a,c)},a.prototype._standardProcessItems=function(a,t){var y=0,e=void 0;t.forEach(function(d,h){e=(0,c.createFullOverrideContext)(a,d,y,t.size,h),a.addView(e.bindingContext,e),++y})},a.prototype.instanceMutated=function(a,t,y){var e=void 0,d=void 0,h=void 0,i=void 0,k=void 0,l=void 0,n=[],o=void 0;for(d=0,h=y.length;h>d;++d)switch(l=y[d],e=l.key,l.type){case"update":k=this._getViewIndexByKey(a,e),o=a.removeView(k,!0),o instanceof Promise&&n.push(o),i=(0,c.createFullOverrideContext)(a,t.get(e),k,t.size,e),a.insertView(k,i.bindingContext,i);break;case"add":i=(0,c.createFullOverrideContext)(a,t.get(e),t.size-1,t.size,e),a.insertView(t.size-1,i.bindingContext,i);break;case"delete":if(void 0===l.oldValue)return;k=this._getViewIndexByKey(a,e),o=a.removeView(k,!0),o instanceof Promise&&n.push(o);break;case"clear":a.removeAllViews(!0);break;default:continue}n.length>0?Promise.all(n).then(function(){(0,c.updateOverrideContexts)(a.views(),0)}):(0,c.updateOverrideContexts)(a.views(),0)},a.prototype._getViewIndexByKey=function(a,c){var t=void 0,y=void 0,e=void 0;for(t=0,y=a.viewCount();y>t;++t)if(e=a.view(t),e.bindingContext[a.key]===c)return t},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/set-repeat-strategy.js",["exports","./repeat-utilities"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.SetRepeatStrategy=void 0;a.SetRepeatStrategy=function(){function a(){t(this,a)}return a.prototype.getCollectionObserver=function(a,c){return a.getSetObserver(c)},a.prototype.instanceChanged=function(a,c){var t=this,y=a.removeAllViews(!0);return y instanceof Promise?void y.then(function(){return t._standardProcessItems(a,c)}):void this._standardProcessItems(a,c)},a.prototype._standardProcessItems=function(a,t){var y=0,e=void 0;t.forEach(function(d){e=(0,c.createFullOverrideContext)(a,d,y,t.size),a.addView(e.bindingContext,e),++y})},a.prototype.instanceMutated=function(a,t,y){var e=void 0,d=void 0,h=void 0,i=void 0,k=void 0,l=void 0,n=[],o=void 0;for(d=0,h=y.length;h>d;++d)switch(l=y[d],e=l.value,l.type){case"add":i=(0,c.createFullOverrideContext)(a,e,t.size-1,t.size),a.insertView(t.size-1,i.bindingContext,i);break;case"delete":k=this._getViewIndexByValue(a,e),o=a.removeView(k,!0),o instanceof Promise&&n.push(o);break;case"clear":a.removeAllViews(!0);break;default:continue}n.length>0?Promise.all(n).then(function(){(0,c.updateOverrideContexts)(a.views(),0)}):(0,c.updateOverrideContexts)(a.views(),0)},a.prototype._getViewIndexByValue=function(a,c){var t=void 0,y=void 0,e=void 0;for(t=0,y=a.viewCount();y>t;++t)if(e=a.view(t),e.bindingContext[a.local]===c)return t},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/number-repeat-strategy.js",["exports","./repeat-utilities"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.NumberRepeatStrategy=void 0;a.NumberRepeatStrategy=function(){function a(){t(this,a)}return a.prototype.getCollectionObserver=function(){return null},a.prototype.instanceChanged=function(a,c){var t=this,y=a.removeAllViews(!0);return y instanceof Promise?void y.then(function(){return t._standardProcessItems(a,c)}):void this._standardProcessItems(a,c)},a.prototype._standardProcessItems=function(a,t){var y=a.viewCount(),e=void 0,d=void 0,h=void 0,i=void 0;if(t=Math.floor(t),i=y-t,i>0)for(i>y&&(i=y),e=0,d=i;d>e;++e)a.removeView(y-(e+1),!0);else{for(e=y,d=t;d>e;++e)h=(0,c.createFullOverrideContext)(a,e,e,d),a.addView(h.bindingContext,h);(0,c.updateOverrideContexts)(a.views(),0)}},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/repeat-strategy-locator.js",["exports","./null-repeat-strategy","./array-repeat-strategy","./map-repeat-strategy","./set-repeat-strategy","./number-repeat-strategy"],function(a,c,t,y,e,d){"use strict";function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.RepeatStrategyLocator=void 0;a.RepeatStrategyLocator=function(){function a(){h(this,a),this.matchers=[],this.strategies=[],this.addStrategy(function(a){return null===a||void 0===a},new c.NullRepeatStrategy),this.addStrategy(function(a){return a instanceof Array},new t.ArrayRepeatStrategy),this.addStrategy(function(a){return a instanceof Map},new y.MapRepeatStrategy),this.addStrategy(function(a){return a instanceof Set},new e.SetRepeatStrategy),this.addStrategy(function(a){return"number"==typeof a},new d.NumberRepeatStrategy)}return a.prototype.addStrategy=function(a,c){this.matchers.push(a),this.strategies.push(c)},a.prototype.getStrategy=function(a){for(var c=this.matchers,t=0,y=c.length;y>t;++t)if(c[t](a))return this.strategies[t];return null},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/repeat-utilities.js",["exports","aurelia-binding"],function(a,c){"use strict";function t(a,c){var t=a.length;for(c>0&&(c-=1);t>c;++c)e(a[c].overrideContext,c,t)}function y(a,t,y,d,h){var i={},k=(0,c.createOverrideContext)(i,a.scope.overrideContext);return"undefined"!=typeof h?(i[a.key]=h,i[a.value]=t):i[a.local]=t,e(k,y,d),k}function e(a,c,t){var y=0===c,e=c===t-1,d=c%2===0;a.$index=c,a.$first=y,a.$last=e,a.$middle=!(y||e),a.$odd=!d,a.$even=d}function d(a,c){return a.behaviorInstructions.filter(function(a){return a.originalAttrName===c})[0].attributes.items.sourceExpression}function h(a){for(var t=!1;a instanceof c.BindingBehavior;)a=a.expression;for(;a instanceof c.ValueConverter;)a=a.expression,t=!0;return t?a:null}function i(a){for(;a instanceof c.BindingBehavior;){if("oneTime"===a.name)return!0;a=a.expression}return!1}function k(a){a.call&&a.mode===l?a.call(c.sourceContext):a.updateOneTimeBindings&&a.updateOneTimeBindings()}Object.defineProperty(a,"__esModule",{value:!0}),a.updateOverrideContexts=t,a.createFullOverrideContext=y,a.updateOverrideContext=e,a.getItemsSourceExpression=d,a.unwrapExpression=h,a.isOneTime=i,a.updateOneTimeBinding=k;var l=c.bindingMode.oneTime})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/analyze-view-factory.js",["exports"],function(a){"use strict";function c(a){var c=a.type,t=null!==c.elementName?c.elementName:c.attributeName;return-1===e.indexOf(t)?c.handlesAttached||c.handlesBind||c.handlesCreated||c.handlesDetached||c.handlesUnbind:a.viewFactory&&y(a.viewFactory)}function t(a){var t=a.behaviorInstructions;if(t)for(var e=t.length;e--;)if(c(t[e]))return!0;return a.viewFactory&&y(a.viewFactory)}function y(a){if("_viewsRequireLifecycle"in a)return a._viewsRequireLifecycle;if(a.viewFactory)return a._viewsRequireLifecycle=y(a.viewFactory),a._viewsRequireLifecycle;if(a.template.querySelector(".au-animate"))return a._viewsRequireLifecycle=!0,!0;for(var c in a.instructions)if(t(a.instructions[c]))return a._viewsRequireLifecycle=!0,!0;return a._viewsRequireLifecycle=!1,!1}Object.defineProperty(a,"__esModule",{value:!0}),a.viewsRequireLifecycle=y;var e=a.lifecycleOptionalBehaviors=["focus","if","repeat","show","with"]})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/repeat.js",["exports","aurelia-dependency-injection","aurelia-binding","aurelia-templating","./repeat-strategy-locator","./repeat-utilities","./analyze-view-factory","./abstract-repeater"],function(a,c,t,y,e,d,h,i){"use strict";function k(a,c,t,y){t&&Object.defineProperty(a,c,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(y):void 0})}function l(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function n(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function o(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function p(a,c,t,y,e){var d={};return Object.keys(y).forEach(function(a){d[a]=y[a]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=t.slice().reverse().reduce(function(t,y){return y(a,c,t)||t},d),e&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(e):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,c,d),d=null),d}Object.defineProperty(a,"__esModule",{value:!0}),a.Repeat=void 0;var r,s,T,b,f,g,j,m;a.Repeat=(r=(0,y.customAttribute)("repeat"),s=(0,c.inject)(y.BoundViewFactory,y.TargetInstruction,y.ViewSlot,y.ViewResources,t.ObserverLocator,e.RepeatStrategyLocator),r(T=(0,y.templateController)(T=s((b=function(a){function c(t,y,e,i,o,p){l(this,c);var r=n(this,a.call(this,{local:"item",viewsRequireLifecycle:(0,h.viewsRequireLifecycle)(t)}));return k(r,"items",f,r),k(r,"local",g,r),k(r,"key",j,r),k(r,"value",m,r),r.viewFactory=t,r.instruction=y,r.viewSlot=e,r.lookupFunctions=i.lookupFunctions,r.observerLocator=o,r.key="key",r.value="value",r.strategyLocator=p,r.ignoreMutation=!1,r.sourceExpression=(0,d.getItemsSourceExpression)(r.instruction,"repeat.for"),r.isOneTime=(0,d.isOneTime)(r.sourceExpression),r.viewsRequireLifecycle=(0,h.viewsRequireLifecycle)(t),r}return o(c,a),c.prototype.call=function(a,c){this[a](this.items,c)},c.prototype.bind=function(a,c){this.scope={bindingContext:a,overrideContext:c},this.itemsChanged()},c.prototype.unbind=function(){this.scope=null,this.items=null,this.viewSlot.removeAll(!0),this._unsubscribeCollection()},c.prototype._unsubscribeCollection=function(){this.collectionObserver&&(this.collectionObserver.unsubscribe(this.callContext,this),this.collectionObserver=null,this.callContext=null)},c.prototype.itemsChanged=function(){if(this._unsubscribeCollection(),this.scope){var a=this.items;if(this.strategy=this.strategyLocator.getStrategy(a),!this.strategy)throw new Error("Value for '"+this.sourceExpression+"' is non-repeatable");this.isOneTime||this._observeInnerCollection()||this._observeCollection(),this.strategy.instanceChanged(this,a)}},c.prototype._getInnerCollection=function(){var a=(0,d.unwrapExpression)(this.sourceExpression);return a?a.evaluate(this.scope,null):null},c.prototype.handleCollectionMutated=function(a,c){this.strategy.instanceMutated(this,a,c)},c.prototype.handleInnerCollectionMutated=function(a,c){var t=this;if(!this.ignoreMutation){this.ignoreMutation=!0;var y=this.sourceExpression.evaluate(this.scope,this.lookupFunctions);this.observerLocator.taskQueue.queueMicroTask(function(){return t.ignoreMutation=!1}),y===this.items?this.itemsChanged():this.items=y}},c.prototype._observeInnerCollection=function(){var a=this._getInnerCollection(),c=this.strategyLocator.getStrategy(a);return c?(this.collectionObserver=c.getCollectionObserver(this.observerLocator,a),this.collectionObserver?(this.callContext="handleInnerCollectionMutated",this.collectionObserver.subscribe(this.callContext,this),!0):!1):!1},c.prototype._observeCollection=function(){var a=this.items;this.collectionObserver=this.strategy.getCollectionObserver(this.observerLocator,a),this.collectionObserver&&(this.callContext="handleCollectionMutated",this.collectionObserver.subscribe(this.callContext,this))},c.prototype.viewCount=function(){return this.viewSlot.children.length},c.prototype.views=function(){return this.viewSlot.children},c.prototype.view=function(a){return this.viewSlot.children[a]},c.prototype.addView=function(a,c){var t=this.viewFactory.create();t.bind(a,c),this.viewSlot.add(t)},c.prototype.insertView=function(a,c,t){var y=this.viewFactory.create();y.bind(c,t),this.viewSlot.insert(a,y)},c.prototype.removeAllViews=function(a,c){return this.viewSlot.removeAll(a,c)},c.prototype.removeView=function(a,c,t){return this.viewSlot.removeAt(a,c,t)},c.prototype.updateBindings=function(a){for(var c=a.bindings.length;c--;)(0,d.updateOneTimeBinding)(a.bindings[c]);for(c=a.controllers.length;c--;)for(var t=a.controllers[c].boundProperties.length;t--;){var y=a.controllers[c].boundProperties[t].binding;(0,d.updateOneTimeBinding)(y)}},c}(i.AbstractRepeater),f=p(b.prototype,"items",[y.bindable],{enumerable:!0,initializer:null}),g=p(b.prototype,"local",[y.bindable],{enumerable:!0,initializer:null}),j=p(b.prototype,"key",[y.bindable],{enumerable:!0,initializer:null}),m=p(b.prototype,"value",[y.bindable],{enumerable:!0,initializer:null}),T=b))||T)||T)||T)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/show.js",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-pal"],function(a,c,t,y){"use strict";function e(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Show=void 0;var d,h,i;a.Show=(d=(0,t.customAttribute)("show"),h=(0,c.inject)(y.DOM.Element,t.Animator),d(i=h(i=function(){function a(c,t){e(this,a),this.element=c,this.animator=t}return a.prototype.valueChanged=function(a){a?this.animator.removeClass(this.element,"aurelia-hide"):this.animator.addClass(this.element,"aurelia-hide")},a.prototype.bind=function(a){this.valueChanged(this.value)},a}())||i)||i)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/hide.js",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-pal"],function(a,c,t,y){"use strict";function e(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Hide=void 0;var d,h,i;a.Hide=(d=(0,t.customAttribute)("hide"),h=(0,c.inject)(y.DOM.Element,t.Animator),d(i=h(i=function(){function a(c,t){e(this,a),this.element=c,this.animator=t}return a.prototype.valueChanged=function(a){a?this.animator.addClass(this.element,"aurelia-hide"):this.animator.removeClass(this.element,"aurelia-hide")},a.prototype.bind=function(a){this.valueChanged(this.value)},a}())||i)||i)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/sanitize-html.js",["exports","aurelia-binding","aurelia-dependency-injection","./html-sanitizer"],function(a,c,t,y){"use strict";function e(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.SanitizeHTMLValueConverter=void 0;var d,h,i;a.SanitizeHTMLValueConverter=(d=(0,c.valueConverter)("sanitizeHTML"),h=(0,t.inject)(y.HTMLSanitizer),d(i=h(i=function(){function a(c){e(this,a),this.sanitizer=c}return a.prototype.toView=function(a){return null===a||void 0===a?null:this.sanitizer.sanitize(a)},a}())||i)||i)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/replaceable.js",["exports","aurelia-dependency-injection","aurelia-templating"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Replaceable=void 0;var e,d,h;a.Replaceable=(e=(0,t.customAttribute)("replaceable"),d=(0,c.inject)(t.BoundViewFactory,t.ViewSlot),e(h=(0,t.templateController)(h=d(h=function(){function a(c,t){y(this,a),this.viewFactory=c,this.viewSlot=t,this.view=null}return a.prototype.bind=function(a,c){null===this.view&&(this.view=this.viewFactory.create(),this.viewSlot.add(this.view)),this.view.bind(a,c)},a.prototype.unbind=function(){this.view.unbind()},a}())||h)||h)||h)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/focus.js",["exports","aurelia-templating","aurelia-binding","aurelia-dependency-injection","aurelia-task-queue","aurelia-pal"],function(a,c,t,y,e,d){"use strict";function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Focus=void 0;var i,k,l;a.Focus=(i=(0,c.customAttribute)("focus",t.bindingMode.twoWay),k=(0,y.inject)(d.DOM.Element,e.TaskQueue),i(l=k(l=function(){function a(c,t){var y=this;h(this,a),this.element=c,this.taskQueue=t,this.focusListener=function(a){y.value=!0},this.blurListener=function(a){d.DOM.activeElement!==y.element&&(y.value=!1)}}return a.prototype.valueChanged=function(a){a?this._giveFocus():this.element.blur()},a.prototype._giveFocus=function(){var a=this;this.taskQueue.queueMicroTask(function(){a.value&&a.element.focus()})},a.prototype.attached=function(){this.element.addEventListener("focus",this.focusListener),this.element.addEventListener("blur",this.blurListener)},a.prototype.detached=function(){this.element.removeEventListener("focus",this.focusListener),this.element.removeEventListener("blur",this.blurListener)},a}())||l)||l)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/compile-spy.js",["exports","aurelia-templating","aurelia-dependency-injection","aurelia-logging","aurelia-pal"],function(a,c,t,y,e){"use strict";function d(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.CompileSpy=void 0;var i,k,l,n=d(y);a.CompileSpy=(i=(0,c.customAttribute)("compile-spy"),k=(0,t.inject)(e.DOM.Element,c.TargetInstruction),i(l=k(l=function o(a,c){h(this,o),n.getLogger("compile-spy").info(a,c)})||l)||l)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/view-spy.js",["exports","aurelia-templating","aurelia-logging"],function(a,c,t){"use strict";function y(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function e(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.ViewSpy=void 0;var d,h,i=y(t);a.ViewSpy=(d=(0,c.customAttribute)("view-spy"),d(h=function(){function a(){e(this,a),this.logger=i.getLogger("view-spy")}return a.prototype._log=function(a,c){this.value||"created"!==a?this.value&&-1!==this.value.indexOf(a)&&this.logger.info(a,this.view,c):this.logger.info(a,this.view)},a.prototype.created=function(a){this.view=a,this._log("created")},a.prototype.bind=function(a){this._log("bind",a)},a.prototype.attached=function(){this._log("attached")},a.prototype.detached=function(){this._log("detached")},a.prototype.unbind=function(){this._log("unbind")},a}())||h)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/dynamic-element.js",["exports","aurelia-templating"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(a,y,e){for(var d,h,i,k=(d=(0,c.customElement)(a),h=(0,c.useView)(y),d(i=h(i=function(){function a(){t(this,a)}return a.prototype.bind=function(a){this.$parent=a},a}())||i)||i),l=0,n=e.length;n>l;++l)(0,c.bindable)(e[l])(k);return k}Object.defineProperty(a,"__esModule",{value:!0}),a._createDynamicElement=y})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/css-resource.js",["exports","aurelia-templating","aurelia-loader","aurelia-dependency-injection","aurelia-path","aurelia-pal"],function(a,c,t,y,e,d){"use strict";function h(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function i(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function k(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");
}function l(a,c){if("string"!=typeof c)throw new Error("Failed loading required CSS file: "+a);return c.replace(o,function(c,t){var y=t.charAt(0);return"'"!==y&&'"'!==y||(t=t.substr(1,t.length-2)),"url('"+(0,e.relativeToFile)(t,a)+"')"})}function n(a){var t,y,e=(t=(0,c.resource)(new p(a)),t(y=function(a){function c(){return k(this,c),h(this,a.apply(this,arguments))}return i(c,a),c}(r))||y);return e}Object.defineProperty(a,"__esModule",{value:!0}),a._createCSSResource=n;var o=/url\((?!['"]data)([^)]+)\)/gi,p=function(){function a(c){k(this,a),this.address=c,this._global=null,this._scoped=null}return a.prototype.initialize=function(a,c){this._global=new c("global"),this._scoped=new c("scoped")},a.prototype.register=function(a,c){a.registerViewEngineHooks("scoped"===c?this._scoped:this._global)},a.prototype.load=function(a){var c=this;return a.get(t.Loader).loadText(this.address)["catch"](function(a){return null}).then(function(a){a=l(c.address,a),c._global.css=a,c._scoped.css=a})},a}(),r=function(){function a(c){k(this,a),this.mode=c,this.css=null,this._alreadyGloballyInjected=!1}return a.prototype.beforeCompile=function(a,c,t){if("scoped"===this.mode)if(t.targetShadowDOM)d.DOM.injectStyles(this.css,a,!0);else if(d.FEATURE.scopedCSS){var y=d.DOM.injectStyles(this.css,a,!0);y.setAttribute("scoped","scoped")}else this._alreadyGloballyInjected||(d.DOM.injectStyles(this.css),this._alreadyGloballyInjected=!0);else this._alreadyGloballyInjected||(d.DOM.injectStyles(this.css),this._alreadyGloballyInjected=!0)},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/html-sanitizer.js",["exports"],function(a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;a.HTMLSanitizer=function(){function a(){c(this,a)}return a.prototype.sanitize=function(a){return a.replace(t,"")},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/binding-mode-behaviors.js",["exports","aurelia-binding","aurelia-metadata"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.TwoWayBindingBehavior=a.OneWayBindingBehavior=a.OneTimeBindingBehavior=void 0;var e,d,h,i,k,l,n={bind:function(a,c,t){a.originalMode=a.mode,a.mode=this.mode},unbind:function(a,c){a.mode=a.originalMode,a.originalMode=null}};a.OneTimeBindingBehavior=(e=(0,t.mixin)(n),e(d=function o(){y(this,o),this.mode=c.bindingMode.oneTime})||d),a.OneWayBindingBehavior=(h=(0,t.mixin)(n),h(i=function p(){y(this,p),this.mode=c.bindingMode.oneWay})||i),a.TwoWayBindingBehavior=(k=(0,t.mixin)(n),k(l=function r(){y(this,r),this.mode=c.bindingMode.twoWay})||l)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/throttle-binding-behavior.js",["exports","aurelia-binding"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(a){var c=this,t=this.throttleState,y=+new Date-t.last;return y>=t.delay?(clearTimeout(t.timeoutId),t.timeoutId=null,t.last=+new Date,void this.throttledMethod(a)):(t.newValue=a,void(null===t.timeoutId&&(t.timeoutId=setTimeout(function(){t.timeoutId=null,t.last=+new Date,c.throttledMethod(t.newValue)},t.delay-y))))}Object.defineProperty(a,"__esModule",{value:!0}),a.ThrottleBindingBehavior=void 0;a.ThrottleBindingBehavior=function(){function a(){t(this,a)}return a.prototype.bind=function(a,t){var e=arguments.length<=2||void 0===arguments[2]?200:arguments[2],d="updateTarget";a.callSource?d="callSource":a.updateSource&&a.mode===c.bindingMode.twoWay&&(d="updateSource"),a.throttledMethod=a[d],a.throttledMethod.originalName=d,a[d]=y,a.throttleState={delay:e,last:0,timeoutId:null}},a.prototype.unbind=function(a,c){var t=a.throttledMethod.originalName;a[t]=a.throttledMethod,a.throttledMethod=null,clearTimeout(a.throttleState.timeoutId),a.throttleState=null},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/debounce-binding-behavior.js",["exports","aurelia-binding"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(a){var c=this,t=this.debounceState;return t.immediate?(t.immediate=!1,void this.debouncedMethod(a)):(clearTimeout(t.timeoutId),void(t.timeoutId=setTimeout(function(){return c.debouncedMethod(a)},t.delay)))}Object.defineProperty(a,"__esModule",{value:!0}),a.DebounceBindingBehavior=void 0;a.DebounceBindingBehavior=function(){function a(){t(this,a)}return a.prototype.bind=function(a,t){var e=arguments.length<=2||void 0===arguments[2]?200:arguments[2],d="updateTarget";a.callSource?d="callSource":a.updateSource&&a.mode===c.bindingMode.twoWay&&(d="updateSource"),a.debouncedMethod=a[d],a.debouncedMethod.originalName=d,a[d]=y,a.debounceState={delay:e,timeoutId:null,immediate:"updateTarget"===d}},a.prototype.unbind=function(a,c){var t=a.debouncedMethod.originalName;a[t]=a.debouncedMethod,a.debouncedMethod=null,clearTimeout(a.debounceState.timeoutId),a.debounceState=null},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/signal-binding-behavior.js",["exports","./binding-signaler"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.SignalBindingBehavior=void 0;a.SignalBindingBehavior=function(){function a(c){t(this,a),this.signals=c.signals}return a.inject=function(){return[c.BindingSignaler]},a.prototype.bind=function(a,c){if(!a.updateTarget)throw new Error("Only property bindings and string interpolation bindings can be signaled.  Trigger, delegate and call bindings cannot be signaled.");if(3===arguments.length){var t=arguments[2],y=this.signals[t]||(this.signals[t]=[]);y.push(a),a.signalName=t}else{if(!(arguments.length>3))throw new Error("Signal name is required.");for(var e=Array.prototype.slice.call(arguments,2),d=e.length;d--;){var h=e[d],i=this.signals[h]||(this.signals[h]=[]);i.push(a)}a.signalName=e}},a.prototype.unbind=function(a,c){var t=a.signalName;if(a.signalName=null,Array.isArray(t))for(var y=t,e=y.length;e--;){var d=y[e],h=this.signals[d];h.splice(h.indexOf(a),1)}else{var i=this.signals[t];i.splice(i.indexOf(a),1)}},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/binding-signaler.js",["exports","aurelia-binding"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.BindingSignaler=void 0;a.BindingSignaler=function(){function a(){t(this,a),this.signals={}}return a.prototype.signal=function(a){var t=this.signals[a];if(t)for(var y=t.length;y--;)t[y].call(c.sourceContext)},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/update-trigger-binding-behavior.js",["exports","aurelia-binding"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.UpdateTriggerBindingBehavior=void 0;var y,e,d="The updateTrigger binding behavior requires at least one event name argument: eg <input value.bind=\"firstName & updateTrigger:'blur'\">",h="The updateTrigger binding behavior can only be applied to two-way bindings on input/select elements.";a.UpdateTriggerBindingBehavior=(e=y=function(){function a(c){t(this,a),this.eventManager=c}return a.prototype.bind=function(a,t){for(var y=arguments.length,e=Array(y>2?y-2:0),i=2;y>i;i++)e[i-2]=arguments[i];if(0===e.length)throw new Error(d);if(a.mode!==c.bindingMode.twoWay)throw new Error(h);var k=a.observerLocator.getObserver(a.target,a.targetProperty);if(!k.handler)throw new Error(h);a.targetObserver=k,k.originalHandler=a.targetObserver.handler;var l=this.eventManager.createElementHandler(e);k.handler=l},a.prototype.unbind=function(a,c){a.targetObserver.handler=a.targetObserver.originalHandler,a.targetObserver.originalHandler=null},a}(),y.inject=[c.EventManager],e)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/abstract-repeater.js",["exports"],function(a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});a.AbstractRepeater=function(){function a(t){c(this,a),Object.assign(this,{local:"items",viewsRequireLifecycle:!0},t)}return a.prototype.viewCount=function(){throw new Error("subclass must implement `viewCount`")},a.prototype.views=function(){throw new Error("subclass must implement `views`")},a.prototype.view=function(a){throw new Error("subclass must implement `view`")},a.prototype.addView=function(a,c){throw new Error("subclass must implement `addView`")},a.prototype.insertView=function(a,c,t){throw new Error("subclass must implement `insertView`")},a.prototype.removeAllViews=function(a,c){throw new Error("subclass must implement `removeAllViews`")},a.prototype.removeView=function(a,c,t){throw new Error("subclass must implement `removeView`")},a.prototype.updateBindings=function(a){throw new Error("subclass must implement `updateBindings`")},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0/aurelia-templating-resources.js",["exports","./compose","./if","./with","./repeat","./show","./hide","./sanitize-html","./replaceable","./focus","./compile-spy","./view-spy","aurelia-templating","./dynamic-element","./css-resource","aurelia-pal","./html-sanitizer","./binding-mode-behaviors","./throttle-binding-behavior","./debounce-binding-behavior","./signal-binding-behavior","./binding-signaler","./update-trigger-binding-behavior","./abstract-repeater"],function(a,c,t,y,e,d,h,i,k,l,n,o,p,r,s,T,b,f,g,j,m,q,u,v){"use strict";function w(a){T.FEATURE.shadowDOM?T.DOM.injectStyles("body /deep/ .aurelia-hide { display:none !important; }"):T.DOM.injectStyles(".aurelia-hide { display:none !important; }"),a.globalResources("./compose","./if","./with","./repeat","./show","./hide","./replaceable","./sanitize-html","./focus","./compile-spy","./view-spy","./binding-mode-behaviors","./throttle-binding-behavior","./debounce-binding-behavior","./signal-binding-behavior","./update-trigger-binding-behavior");var c=a.container.get(p.ViewEngine),t=a.aurelia.loader;c.addResourcePlugin(".html",{fetch:function(a){return t.loadTemplate(a).then(function(c){var t,y=c.template.getAttribute("bindable"),e=a.replace(".html",""),d=e.lastIndexOf("/");return 0!==d&&(e=e.substring(d+1)),y?(y=y.split(",").map(function(a){return a.trim()}),c.template.removeAttribute("bindable")):y=[],t={},t[e]=(0,r._createDynamicElement)(e,a,y),t})}}),c.addResourcePlugin(".css",{fetch:function(a){var c;return c={},c[a]=(0,s._createCSSResource)(a),c}})}Object.defineProperty(a,"__esModule",{value:!0}),a.AbstractRepeater=a.UpdateTriggerBindingBehavior=a.BindingSignaler=a.SignalBindingBehavior=a.DebounceBindingBehavior=a.ThrottleBindingBehavior=a.TwoWayBindingBehavior=a.OneWayBindingBehavior=a.OneTimeBindingBehavior=a.configure=a.ViewSpy=a.CompileSpy=a.Focus=a.Replaceable=a.SanitizeHTMLValueConverter=a.HTMLSanitizer=a.Hide=a.Show=a.Repeat=a.With=a.If=a.Compose=void 0,a.Compose=c.Compose,a.If=t.If,a.With=y.With,a.Repeat=e.Repeat,a.Show=d.Show,a.Hide=h.Hide,a.HTMLSanitizer=b.HTMLSanitizer,a.SanitizeHTMLValueConverter=i.SanitizeHTMLValueConverter,a.Replaceable=k.Replaceable,a.Focus=l.Focus,a.CompileSpy=n.CompileSpy,a.ViewSpy=o.ViewSpy,a.configure=w,a.OneTimeBindingBehavior=f.OneTimeBindingBehavior,a.OneWayBindingBehavior=f.OneWayBindingBehavior,a.TwoWayBindingBehavior=f.TwoWayBindingBehavior,a.ThrottleBindingBehavior=g.ThrottleBindingBehavior,a.DebounceBindingBehavior=j.DebounceBindingBehavior,a.SignalBindingBehavior=m.SignalBindingBehavior,a.BindingSignaler=q.BindingSignaler,a.UpdateTriggerBindingBehavior=u.UpdateTriggerBindingBehavior,a.AbstractRepeater=v.AbstractRepeater})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-resources@1.0.0-beta.1.2.0.js",["npm:aurelia-templating-resources@1.0.0-beta.1.2.0/aurelia-templating-resources"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-router@1.0.0-beta.1.2.0/route-loader.js",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-router","aurelia-path","aurelia-metadata"],function(a,c,t,y,e,d){"use strict";function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function i(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function k(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(a,"__esModule",{value:!0}),a.TemplatingRouteLoader=void 0;var l,n;a.TemplatingRouteLoader=(l=(0,c.inject)(t.CompositionEngine),l(n=function(a){function c(t){h(this,c);var y=i(this,a.call(this));return y.compositionEngine=t,y}return k(c,a),c.prototype.loadRoute=function(a,c){var t=a.container.createChild(),h={viewModel:(0,e.relativeToFile)(c.moduleId,d.Origin.get(a.container.viewModel.constructor).moduleId),childContainer:t,view:c.view||c.viewStrategy,router:a};return t.getChildRouter=function(){var c=void 0;return t.registerHandler(y.Router,function(y){return c||(c=a.createChild(t))}),t.get(y.Router)},this.compositionEngine.ensureViewModel(h)},c}(y.RouteLoader))||n)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-router@1.0.0-beta.1.2.0/router-view.js",["exports","aurelia-dependency-injection","aurelia-templating","aurelia-router","aurelia-metadata","aurelia-pal"],function(a,c,t,y,e,d){"use strict";function h(a,c,t,y){t&&Object.defineProperty(a,c,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(y):void 0})}function i(a,c,t,y,e){var d={};return Object.keys(y).forEach(function(a){d[a]=y[a]}),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=t.slice().reverse().reduce(function(t,y){return y(a,c,t)||t},d),e&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(e):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(a,c,d),d=null),d}function k(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.RouterView=void 0;var l,n,o,p,r,s=function(){function a(){k(this,a)}return a.prototype.before=function(a,c,t){var y=Promise.resolve(t());return void 0!==c?y.then(function(){return a.remove(c,!0)}):y},a.prototype["with"]=function(a,c,t){var y=Promise.resolve(t());return void 0!==c?Promise.all([a.remove(c,!0),y]):y},a.prototype.after=function(a,c,t){return Promise.resolve(a.removeAll(!0)).then(t)},a}(),T=new s;a.RouterView=(l=(0,t.customElement)("router-view"),n=(0,c.inject)(d.DOM.Element,c.Container,t.ViewSlot,y.Router,t.ViewLocator,t.CompositionTransaction),l(o=(0,t.noView)(o=n((p=function(){function a(c,t,y,e,d,i){k(this,a),h(this,"swapOrder",r,this),this.element=c,this.container=t,this.viewSlot=y,this.router=e,this.viewLocator=d,this.compositionTransaction=i,this.router.registerViewPort(this,this.element.getAttribute("name")),"initialComposition"in i||(i.initialComposition=!0,this.compositionTransactionNotifier=i.enlist())}return a.prototype.created=function(a){this.owningView=a},a.prototype.bind=function(a,c){this.container.viewModel=a,this.overrideContext=c},a.prototype.process=function(a,c){var y=this,d=a.component,h=d.childContainer,i=d.viewModel,k=d.viewModelResource,l=k.metadata,n=this.viewLocator.getViewStrategy(d.view||i);return n&&n.makeRelativeTo(e.Origin.get(d.router.container.viewModel.constructor).moduleId),l.load(h,k.value,null,n,!0).then(function(e){y.compositionTransactionNotifier||(y.compositionTransactionOwnershipToken=y.compositionTransaction.tryCapture()),a.controller=l.create(h,t.BehaviorInstruction.dynamic(y.element,i,e)),c||y.swap(a)})},a.prototype.swap=function(a){var c=this,t=function(){var t=c.view,y=c.viewSlot,e=void 0;e=c.swapOrder in T?T[c.swapOrder]:T.after,e(y,t,function(){return Promise.resolve(y.add(a.controller.view)).then(function(){c.compositionTransactionNotifier&&(c.compositionTransactionNotifier.done(),c.compositionTransactionNotifier=null)})}),c.view=a.controller.view};return a.controller.automate(this.overrideContext,this.owningView),this.compositionTransactionOwnershipToken?this.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){c.compositionTransactionOwnershipToken=null,t()}):void t()},a}(),r=i(p.prototype,"swapOrder",[t.bindable],{enumerable:!0,initializer:null}),o=p))||o)||o)||o)})}(),function(){var a=System.amdDefine;a("npm:aurelia-loader@1.0.0-beta.1.2.0/aurelia-loader.js",["exports","aurelia-path","aurelia-metadata"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.Loader=a.TemplateRegistryEntry=a.TemplateDependency=void 0;var e=function(){function a(a,c){for(var t=0;t<c.length;t++){var y=c[t];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}return function(c,t,y){return t&&a(c.prototype,t),y&&a(c,y),c}}(),d=a.TemplateDependency=function i(a,c){y(this,i),this.src=a,this.name=c},h=a.TemplateRegistryEntry=function(){function a(c){y(this,a),this.templateIsLoaded=!1,this.factoryIsReady=!1,this.resources=null,this.dependencies=null,this.address=c,this.onReady=null,this._template=null,this._factory=null}return a.prototype.addDependency=function(a,y){var e="string"==typeof a?(0,c.relativeToFile)(a,this.address):t.Origin.get(a).moduleId;this.dependencies.push(new d(e,y))},e(a,[{key:"template",get:function(){return this._template},set:function(a){var t=this.address,y=void 0,e=void 0,h=void 0,i=void 0;this._template=a,this.templateIsLoaded=!0,y=a.content.querySelectorAll("require"),i=this.dependencies=new Array(y.length);for(var k=0,l=y.length;l>k;++k){if(e=y[k],h=e.getAttribute("from"),!h)throw new Error("<require> element in "+t+' has no "from" attribute.');i[k]=new d((0,c.relativeToFile)(h,t),e.getAttribute("as")),e.parentNode&&e.parentNode.removeChild(e)}}},{key:"factory",get:function(){return this._factory},set:function(a){this._factory=a,this.factoryIsReady=!0}}]),a}();a.Loader=function(){function a(){y(this,a),this.templateRegistry={}}return a.prototype.map=function(a,c){throw new Error("Loaders must implement map(id, source).")},a.prototype.normalizeSync=function(a,c){throw new Error("Loaders must implement normalizeSync(moduleId, relativeTo).")},a.prototype.normalize=function(a,c){throw new Error("Loaders must implement normalize(moduleId: string, relativeTo: string): Promise<string>.")},a.prototype.loadModule=function(a){throw new Error("Loaders must implement loadModule(id).")},a.prototype.loadAllModules=function(a){throw new Error("Loader must implement loadAllModules(ids).")},a.prototype.loadTemplate=function(a){throw new Error("Loader must implement loadTemplate(url).")},a.prototype.loadText=function(a){throw new Error("Loader must implement loadText(url).")},a.prototype.applyPluginToUrl=function(a,c){throw new Error("Loader must implement applyPluginToUrl(url, pluginName).")},a.prototype.addPlugin=function(a,c){throw new Error("Loader must implement addPlugin(pluginName, implementation).")},a.prototype.getOrCreateTemplateRegistryEntry=function(a){return this.templateRegistry[a]||(this.templateRegistry[a]=new h(a))},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-loader@1.0.0-beta.1.2.0.js",["npm:aurelia-loader@1.0.0-beta.1.2.0/aurelia-loader"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-binding@1.0.0-beta.1.3.0/aurelia-binding.js",["exports","aurelia-pal","aurelia-task-queue","aurelia-metadata"],function(a,c,t,y){"use strict";function e(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function d(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function h(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function i(a){return a.charAt(0).toLowerCase()+a.slice(1)}function k(a,c){return{bindingContext:a,parentOverrideContext:c||null}}function l(a,c,t){var y=c.overrideContext;if(t){for(;t&&y;)t--,y=y.parentOverrideContext;if(t||!y)return;return a in y?y:y.bindingContext}for(;y&&!(a in y)&&!(y.bindingContext&&a in y.bindingContext);)y=y.parentOverrideContext;return y?a in y?y:y.bindingContext:c.bindingContext||c.overrideContext}function n(a,c){return c?{bindingContext:a,overrideContext:k(a,k(c))}:{bindingContext:a,overrideContext:k(a)}}function o(a){for(var c=void 0===this._observerSlots?0:this._observerSlots,t=c;t--&&this[Ia[t]]!==a;);if(-1===t){for(t=0;this[Ia[t]];)t++;this[Ia[t]]=a,a.subscribe(Ha,this),t===c&&(this._observerSlots=t+1)}void 0===this._version&&(this._version=0),this[Ja[t]]=this._version}function p(a,c){var t=this.observerLocator.getObserver(a,c);o.call(this,t)}function r(a){var c=this.observerLocator.getArrayObserver(a);o.call(this,c)}function s(a){for(var c=this._observerSlots;c--;)if(a||this[Ja[c]]!==this._version){var t=this[Ia[c]];this[Ia[c]]=null,t&&t.unsubscribe(Ha,this)}}function T(){return function(a){a.prototype.observeProperty=p,a.prototype.observeArray=r,a.prototype.unobserve=s,a.prototype.addObserver=o}}function b(a){for(var t=0,y=La.keys(),e=void 0;(e=y.next())&&!e.done;){var d=e.value;if(La["delete"](d),d.connect(!0),t++,t%100===0&&c.PLATFORM.performance.now()-a>Na)break}La.size?c.PLATFORM.requestAnimationFrame(b):(Oa=!1,Pa=0)}function f(a){Ma>Pa?(Pa++,a.connect(!1)):La.set(a),Oa||(Oa=!0,c.PLATFORM.requestAnimationFrame(b))}function g(a,c){return this.hasSubscriber(a,c)?!1:this._context0?this._context1?this._context2?this._contextsRest?(this._contextsRest.push(a),this._callablesRest.push(c),!0):(this._contextsRest=[a],this._callablesRest=[c],!0):(this._context2=a,this._callable2=c,!0):(this._context1=a,this._callable1=c,!0):(this._context0=a,this._callable0=c,!0)}function j(a,c){if(this._context0===a&&this._callable0===c)return this._context0=null,this._callable0=null,!0;if(this._context1===a&&this._callable1===c)return this._context1=null,this._callable1=null,!0;if(this._context2===a&&this._callable2===c)return this._context2=null,this._callable2=null,!0;var t=this._contextsRest,y=void 0;return t&&t.length&&-1!==(y=t.indexOf(a))&&this._callablesRest[y]===c?(t.splice(y,1),this._callablesRest.splice(y,1),!0):!1}function m(a,c){var t=this._context0,y=this._callable0,e=this._context1,d=this._callable1,h=this._context2,i=this._callable2,k=this._contextsRest?this._contextsRest.length:0,l=void 0,n=void 0,o=void 0,p=void 0;if(k){for(o=Sa.length;o--&&Sa[o];);for(0>o?(o=Sa.length,l=[],n=[],Sa.push(!0),Qa.push(l),Ra.push(n)):(Sa[o]=!0,l=Qa[o],n=Ra[o]),p=k;p--;)l[p]=this._contextsRest[p],n[p]=this._callablesRest[p]}if(t&&(y?y.call(t,a,c):t(a,c)),e&&(d?d.call(e,a,c):e(a,c)),h&&(i?i.call(h,a,c):h(a,c)),k){for(p=0;k>p;p++){var r=n[p],s=l[p];r?r.call(s,a,c):s(a,c),l[p]=null,n[p]=null}Sa[o]=!1}}function q(){return!!(this._context0||this._context1||this._context2||this._contextsRest&&this._contextsRest.length)}function u(a,c){var t=this._context0===a&&this._callable0===c||this._context1===a&&this._callable1===c||this._context2===a&&this._callable2===c;if(t)return!0;var y=void 0,e=this._contextsRest;if(!e||0===(y=e.length))return!1;for(var d=this._callablesRest;y--;)if(e[y]===a&&d[y]===c)return!0;return!1}function v(){return function(a){a.prototype.addSubscriber=g,a.prototype.removeSubscriber=j,a.prototype.callSubscribers=m,a.prototype.hasSubscribers=q,a.prototype.hasSubscriber=u}}function w(a){return+a===a>>>0}function x(a){return+a}function z(a,c,t){return{index:a,removed:c,addedCount:t}}function A(){}function B(a,c,t,y,e,d){return Za.calcSplices(a,c,t,y,e,d)}function C(a,c,t,y){return t>c||a>y?-1:c==t||y==a?0:t>a?y>c?c-t:y-t:c>y?y-a:c-a}function D(a,c,t,y){for(var e=z(c,t,y),d=!1,h=0,i=0;i<a.length;i++){var k=a[i];if(k.index+=h,!d){var l=C(e.index,e.index+e.removed.length,k.index,k.index+k.addedCount);if(l>=0){a.splice(i,1),i--,h-=k.addedCount-k.removed.length,e.addedCount+=k.addedCount-l;var n=e.removed.length+k.removed.length-l;if(e.addedCount||n){var t=k.removed;if(e.index<k.index){var o=e.removed.slice(0,k.index-e.index);Array.prototype.push.apply(o,t),t=o}if(e.index+e.removed.length>k.index+k.addedCount){var p=e.removed.slice(k.index+k.addedCount-e.index);Array.prototype.push.apply(t,p)}e.removed=t,k.index<e.index&&(e.index=k.index)}else d=!0}else if(e.index<k.index){d=!0,a.splice(i,0,e),i++;var r=e.addedCount-e.removed.length;k.index+=r,h+=r}}}d||a.push(e)}function E(a,c){for(var t=[],y=0;y<c.length;y++){var e=c[y];switch(e.type){case"splice":D(t,e.index,e.removed.slice(),e.addedCount);break;case"add":case"update":case"delete":if(!w(e.name))continue;var d=x(e.name);if(0>d)continue;D(t,d,[e.oldValue],"delete"===e.type?0:1);break;default:console.error("Unexpected record type: "+JSON.stringify(e))}}return t}function F(a,c){var t=[];return E(a,c).forEach(function(c){return 1==c.addedCount&&1==c.removed.length?void(c.removed[0]!==a[c.index]&&t.push(c)):void(t=t.concat(B(a,c.index,c.index+c.addedCount,c.removed,0,c.removed.length)))}),t}function G(a,c,t,y){return{type:a,object:c,key:t,oldValue:y}}function H(a){for(var c=new Array(a.size),t=a.keys(),y=0,e=void 0;(e=t.next())&&!e.done;)c[y]=G("added",a,e.value),y++;return c}function I(a,c){return ic["for"](a,c)}function J(a,c,t){var y,e,d=c.length;for(y=Ac.length;d>=y;++y)Ac.push([]);var h=Ac[d];for(e=0;d>e;++e)h[e]=c[e].evaluate(a,t);return h}function K(a,c){return null!=a&&null!=c?"string"==typeof a&&"string"!=typeof c?a+c.toString():"string"!=typeof a&&"string"==typeof c?a.toString()+c:a+c:null!=a?a:null!=c?c:0}function L(a,c,t){var y=null===a||void 0===a?null:a[c];if("function"==typeof y)return y;if(!t&&(null===y||void 0===y))return null;throw new Error(c+" is not a function")}function M(a,c){return Array.isArray(a)?a[parseInt(c)]:a?a[c]:null===a||void 0===a?void 0:a[c]}function N(a,c,t){if(Array.isArray(a)){var y=parseInt(c);a.length<=y&&(a.length=y+1),a[y]=t}else a[c]=t;return t}function O(a){var c=new Cc;return a.accept(c)}function P(a){return a>=Jc&&Oc>=a||a===Dt}function Q(a){return a>=gt&&zt>=a||a>=nt&&pt>=a||a===ft||a===Rc}function R(a){return a>=gt&&zt>=a||a>=nt&&pt>=a||a>=kt&&lt>=a||a===ft||a===Rc}function S(a){return a>=kt&&lt>=a}function U(a){return a===jt||a===ot}function V(a){return a===_c||a===Zc}function W(a){switch(a){case qt:return Kc;case mt:return Mc;case ut:return Nc;case vt:return Jc;case xt:return Lc;default:return a}}function X(a,c){if(!a)throw c||"Assertion failed"}function Y(a,c){return It["for"](a,c)}function Z(a){return a.path&&a.path[0]||a.deepPath&&a.deepPath[0]||a.target}function $(a){for(var c=Z(a),t=void 0;c&&!t;)c.delegatedCallbacks&&(t=c.delegatedCallbacks[a.type]),t||(c=c.parentNode);t&&t(a)}function _(a){return a&&a.get&&a.get.dependencies&&a.get.dependencies.length>0}function aa(a,c,t){var y=Object.getOwnPropertyDescriptor(a.prototype,c);y.get.dependencies=t}function ca(){for(var a=arguments.length,c=Array(a),t=0;a>t;t++)c[t]=arguments[t];return function(a,t,y){return y.get.dependencies=c,y}}function ta(a,c,t,y){var e=t.get.dependencies;if(!(e instanceof ay)){for(var d=e.length;d--;)e[d]=y.parser.parse(e[d]);e=t.get.dependencies=new ay(c,e)}var h={bindingContext:a,overrideContext:k(a)};return new Ua(h,e,y)}function ya(a){var t=c.DOM.createElement("div");return t.innerHTML=a,t.firstChild}function ea(a){return void 0===a||"string"==typeof a?function(c){y.metadata.define(y.metadata.resource,new ny(a),c)}:void y.metadata.define(y.metadata.resource,new ny,a)}function da(a){return void 0===a||"string"==typeof a?function(c){y.metadata.define(y.metadata.resource,new oy(a),c)}:void y.metadata.define(y.metadata.resource,new oy,a)}function ha(a){var c=a.au;if(void 0===c)throw new Error("No Aurelia APIs are defined for the referenced element.");return c}function ia(a,c){return by["for"](a,c)}function ka(a,c,t){var y=function(c,t,y){var e="_"+t,d=a&&a.changeHandler||t+"Changed",h=void 0!==y;h?"function"==typeof y.initializer&&(c[e]=y.initializer()):y={},delete y.writable,delete y.initializer,y.get=function(){return this[e]},y.set=function(a){var c=this[e];this[e]=a,this[d]&&this[d](a,c)},y.get.dependencies=[e],h||Object.defineProperty(c,t,y)};if(c){var e=a;return a=null,y(e,c,t)}return y}Object.defineProperty(a,"__esModule",{value:!0}),a.getSetObserver=a.BindingEngine=a.NameExpression=a.Listener=a.ListenerExpression=a.BindingBehaviorResource=a.ValueConverterResource=a.Call=a.CallExpression=a.Binding=a.BindingExpression=a.ObjectObservationAdapter=a.ObserverLocator=a.SVGAnalyzer=a.presentationAttributes=a.presentationElements=a.elements=a.ComputedExpression=a.ClassObserver=a.SelectValueObserver=a.CheckedObserver=a.ValueAttributeObserver=a.StyleObserver=a.DataAttributeObserver=a.dataAttributeAccessor=a.XLinkAttributeObserver=a.SetterObserver=a.PrimitiveObserver=a.propertyAccessor=a.DirtyCheckProperty=a.DirtyChecker=a.EventManager=a.getMapObserver=a.ParserImplementation=a.Parser=a.Scanner=a.Lexer=a.Token=a.bindingMode=a.ExpressionCloner=a.Unparser=a.LiteralObject=a.LiteralArray=a.LiteralString=a.LiteralPrimitive=a.PrefixNot=a.Binary=a.CallFunction=a.CallMember=a.CallScope=a.AccessKeyed=a.AccessMember=a.AccessScope=a.AccessThis=a.Conditional=a.Assign=a.ValueConverter=a.BindingBehavior=a.Chain=a.Expression=a.getArrayObserver=a.CollectionLengthObserver=a.ModifyCollectionObserver=a.ExpressionObserver=a.sourceContext=void 0,a.camelCase=i,a.createOverrideContext=k,a.getContextFor=l,a.createScopeForTest=n,a.connectable=T,a.enqueueBindingConnect=f,a.subscriberCollection=v,a.calcSplices=B,a.mergeSplice=D,a.projectArraySplices=F,a.getChangeRecords=H,a.cloneExpression=O,a.hasDeclaredDependencies=_,a.declarePropertyDependencies=aa,a.computedFrom=ca,a.createComputedObserver=ta,a.valueConverter=ea,a.bindingBehavior=da,a.observable=ka;for(var la,na,oa,pa,ra,sa,Ta,ba,fa,ga,ja,ma,qa,ua,va,wa,xa,za,Aa,Ba,Ca,Da,Ea,Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},Ga=(function(){function a(a,c){for(var t=0;t<c.length;t++){var y=c[t];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}return function(c,t,y){return t&&a(c.prototype,t),y&&a(c,y),c}}()),Ha=a.sourceContext="Binding:source",Ia=[],Ja=[],Ka=0;100>Ka;Ka++)Ia.push("_observer"+Ka),Ja.push("_observerVersion"+Ka);var La=new Map,Ma=100,Na=15,Oa=!1,Pa=0,Qa=[],Ra=[],Sa=[],Ua=a.ExpressionObserver=(la=T(),na=v(),la(oa=na(oa=function(){function a(c,t,y,e){h(this,a),this.scope=c,this.expression=t,this.observerLocator=y,this.lookupFunctions=e}return a.prototype.getValue=function(){return this.expression.evaluate(this.scope,this.lookupFunctions)},a.prototype.setValue=function(a){
this.expression.assign(this.scope,a)},a.prototype.subscribe=function(a,c){var t=this;return this.hasSubscribers()||(this.oldValue=this.expression.evaluate(this.scope,this.lookupFunctions),this.expression.connect(this,this.scope)),this.addSubscriber(a,c),1===arguments.length&&a instanceof Function?{dispose:function(){t.unsubscribe(a,c)}}:void 0},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)&&!this.hasSubscribers()&&(this.unobserve(!0),this.oldValue=void 0)},a.prototype.call=function(){var a=this.expression.evaluate(this.scope,this.lookupFunctions),c=this.oldValue;a!==c&&(this.oldValue=a,this.callSubscribers(a,c)),this._version++,this.expression.connect(this,this.scope),this.unobserve(!1)},a}())||oa)||oa),Va=0,Wa=1,Xa=2,Ya=3;A.prototype={calcEditDistances:function(a,c,t,y,e,d){var h,i,k,l,n=d-e+1,o=t-c+1,p=new Array(n);for(h=0;n>h;++h)p[h]=new Array(o),p[h][0]=h;for(i=0;o>i;++i)p[0][i]=i;for(h=1;n>h;++h)for(i=1;o>i;++i)this.equals(a[c+i-1],y[e+h-1])?p[h][i]=p[h-1][i-1]:(k=p[h-1][i]+1,l=p[h][i-1]+1,p[h][i]=l>k?k:l);return p},spliceOperationsFromEditDistances:function(a){for(var c=a.length-1,t=a[0].length-1,y=a[c][t],e=[];c>0||t>0;)if(0!=c)if(0!=t){var d,h=a[c-1][t-1],i=a[c-1][t],k=a[c][t-1];d=k>i?h>i?i:h:h>k?k:h,d==h?(h==y?e.push(Va):(e.push(Wa),y=h),c--,t--):d==i?(e.push(Ya),c--,y=i):(e.push(Xa),t--,y=k)}else e.push(Ya),c--;else e.push(Xa),t--;return e.reverse(),e},calcSplices:function(a,c,t,y,e,d){var h=0,i=0,k=Math.min(t-c,d-e);if(0==c&&0==e&&(h=this.sharedPrefix(a,y,k)),t==a.length&&d==y.length&&(i=this.sharedSuffix(a,y,k-h)),c+=h,e+=h,t-=i,d-=i,t-c==0&&d-e==0)return[];if(c==t){for(var l=z(c,[],0);d>e;)l.removed.push(y[e++]);return[l]}if(e==d)return[z(c,[],t-c)];for(var n=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,c,t,y,e,d)),l=void 0,o=[],p=c,r=e,s=0;s<n.length;++s)switch(n[s]){case Va:l&&(o.push(l),l=void 0),p++,r++;break;case Wa:l||(l=z(p,[],0)),l.addedCount++,p++,l.removed.push(y[r]),r++;break;case Xa:l||(l=z(p,[],0)),l.addedCount++,p++;break;case Ya:l||(l=z(p,[],0)),l.removed.push(y[r]),r++}return l&&o.push(l),o},sharedPrefix:function(a,c,t){for(var y=0;t>y;++y)if(!this.equals(a[y],c[y]))return y;return t},sharedSuffix:function(a,c,t){for(var y=a.length,e=c.length,d=0;t>d&&this.equals(a[--y],c[--e]);)d++;return d},calculateSplices:function(a,c){return this.calcSplices(a,0,a.length,c,0,c.length)},equals:function(a,c){return a===c}};var Za=new A,$a=a.ModifyCollectionObserver=(pa=v(),pa(ra=function(){function a(c,t){h(this,a),this.taskQueue=c,this.queued=!1,this.changeRecords=null,this.oldCollection=null,this.collection=t,this.lengthPropertyName=t instanceof Map||t instanceof Set?"size":"length"}return a.prototype.subscribe=function(a,c){this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)},a.prototype.addChangeRecord=function(a){if(this.hasSubscribers()||this.lengthObserver){if("splice"===a.type){var c=a.index,t=a.object.length;c>t?c=t-a.addedCount:0>c&&(c=t+a.removed.length+c-a.addedCount),0>c&&(c=0),a.index=c}null===this.changeRecords?this.changeRecords=[a]:this.changeRecords.push(a),this.queued||(this.queued=!0,this.taskQueue.queueMicroTask(this))}},a.prototype.flushChangeRecords=function(){(this.changeRecords&&this.changeRecords.length||this.oldCollection)&&this.call()},a.prototype.reset=function(a){this.oldCollection=a,this.hasSubscribers()&&!this.queued&&(this.queued=!0,this.taskQueue.queueMicroTask(this))},a.prototype.getLengthObserver=function(){return this.lengthObserver||(this.lengthObserver=new _a(this.collection))},a.prototype.call=function(){var a=this.changeRecords,c=this.oldCollection,t=void 0;this.queued=!1,this.changeRecords=[],this.oldCollection=null,this.hasSubscribers()&&(t=c?this.collection instanceof Map||this.collection instanceof Set?H(c):B(this.collection,0,this.collection.length,c,0,c.length):this.collection instanceof Map||this.collection instanceof Set?a:F(this.collection,a),this.callSubscribers(t)),this.lengthObserver&&this.lengthObserver.call(this.collection[this.lengthPropertyName])},a}())||ra),_a=a.CollectionLengthObserver=(sa=v(),sa(Ta=function(){function a(c){h(this,a),this.collection=c,this.lengthPropertyName=c instanceof Map||c instanceof Set?"size":"length",this.currentValue=c[this.lengthPropertyName]}return a.prototype.getValue=function(){return this.collection[this.lengthPropertyName]},a.prototype.setValue=function(a){this.collection[this.lengthPropertyName]=a},a.prototype.subscribe=function(a,c){this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)},a.prototype.call=function(a){var c=this.currentValue;this.callSubscribers(a,c),this.currentValue=a},a}())||Ta),ac=Array.prototype.pop,cc=Array.prototype.push,tc=Array.prototype.reverse,yc=Array.prototype.shift,ec=Array.prototype.sort,dc=Array.prototype.splice,hc=Array.prototype.unshift;Array.prototype.pop=function(){var a=ac.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:this.length,oldValue:a}),a},Array.prototype.push=function(){var a=cc.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:this.length-arguments.length,removed:[],addedCount:arguments.length}),a},Array.prototype.reverse=function(){var a=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),a=this.slice());var c=tc.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(a),c},Array.prototype.shift=function(){var a=yc.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"delete",object:this,name:0,oldValue:a}),a},Array.prototype.sort=function(){var a=void 0;void 0!==this.__array_observer__&&(this.__array_observer__.flushChangeRecords(),a=this.slice());var c=ec.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.reset(a),c},Array.prototype.splice=function(){var a=dc.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:arguments[0],removed:a,addedCount:arguments.length>2?arguments.length-2:0}),a},Array.prototype.unshift=function(){var a=hc.apply(this,arguments);return void 0!==this.__array_observer__&&this.__array_observer__.addChangeRecord({type:"splice",object:this,index:0,removed:[],addedCount:arguments.length}),a},a.getArrayObserver=I;var ic=function(a){function c(t,y){return h(this,c),e(this,a.call(this,t,y))}return d(c,a),c["for"]=function(a,t){if(!("__array_observer__"in t)){var y=c.create(a,t);Object.defineProperty(t,"__array_observer__",{value:y,enumerable:!1,configurable:!1})}return t.__array_observer__},c.create=function(a,t){var y=new c(a,t);return y},c}($a),kc=a.Expression=function(){function a(){h(this,a),this.isChain=!1,this.isAssignable=!1}return a.prototype.evaluate=function(a,c,t){throw new Error('Binding expression "'+this+'" cannot be evaluated.')},a.prototype.assign=function(a,c,t){throw new Error('Binding expression "'+this+'" cannot be assigned to.')},a.prototype.toString=function(){return Bc.unparse(this)},a}(),lc=a.Chain=function(a){function c(t){h(this,c);var y=e(this,a.call(this));return y.expressions=t,y.isChain=!0,y}return d(c,a),c.prototype.evaluate=function(a,c){var t,y,e,d=this.expressions,h=d.length;for(y=0;h>y;++y)e=d[y].evaluate(a,c),null!==e&&(t=e);return t},c.prototype.accept=function(a){return a.visitChain(this)},c}(kc),nc=a.BindingBehavior=function(a){function c(t,y,d){h(this,c);var i=e(this,a.call(this));return i.expression=t,i.name=y,i.args=d,i}return d(c,a),c.prototype.evaluate=function(a,c){return this.expression.evaluate(a,c)},c.prototype.assign=function(a,c,t){return this.expression.assign(a,c,t)},c.prototype.accept=function(a){return a.visitBindingBehavior(this)},c.prototype.connect=function(a,c){this.expression.connect(a,c)},c.prototype.bind=function(a,c,t){this.expression.expression&&this.expression.bind&&this.expression.bind(a,c,t);var y=t.bindingBehaviors(this.name);if(!y)throw new Error('No BindingBehavior named "'+this.name+'" was found!');var e="behavior-"+this.name;if(a[e])throw new Error('A binding behavior named "'+this.name+'" has already been applied to "'+this.expression+'"');a[e]=y,y.bind.apply(y,[a,c].concat(J(c,this.args,a.lookupFunctions)))},c.prototype.unbind=function(a,c){var t="behavior-"+this.name;a[t].unbind(a,c),a[t]=null,this.expression.expression&&this.expression.unbind&&this.expression.unbind(a,c)},c}(kc),oc=a.ValueConverter=function(a){function c(t,y,d,i){h(this,c);var k=e(this,a.call(this));return k.expression=t,k.name=y,k.args=d,k.allArgs=i,k}return d(c,a),c.prototype.evaluate=function(a,c){var t=c.valueConverters(this.name);if(!t)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"toView"in t?t.toView.apply(t,J(a,this.allArgs,c)):this.allArgs[0].evaluate(a,c)},c.prototype.assign=function(a,c,t){var y=t.valueConverters(this.name);if(!y)throw new Error('No ValueConverter named "'+this.name+'" was found!');return"fromView"in y&&(c=y.fromView.apply(y,[c].concat(J(a,this.args,t)))),this.allArgs[0].assign(a,c,t)},c.prototype.accept=function(a){return a.visitValueConverter(this)},c.prototype.connect=function(a,c){for(var t=this.allArgs,y=t.length;y--;)t[y].connect(a,c)},c}(kc),pc=a.Assign=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.target=t,d.value=y,d}return d(c,a),c.prototype.evaluate=function(a,c){return this.target.assign(a,this.value.evaluate(a,c))},c.prototype.accept=function(a){a.visitAssign(this)},c.prototype.connect=function(a,c){},c}(kc),rc=a.Conditional=function(a){function c(t,y,d){h(this,c);var i=e(this,a.call(this));return i.condition=t,i.yes=y,i.no=d,i}return d(c,a),c.prototype.evaluate=function(a,c){return this.condition.evaluate(a)?this.yes.evaluate(a):this.no.evaluate(a)},c.prototype.accept=function(a){return a.visitConditional(this)},c.prototype.connect=function(a,c){this.condition.connect(a,c),this.condition.evaluate(c)?this.yes.connect(a,c):this.no.connect(a,c)},c}(kc),sc=a.AccessThis=function(a){function c(t){h(this,c);var y=e(this,a.call(this));return y.ancestor=t,y}return d(c,a),c.prototype.evaluate=function(a,c){for(var t=a.overrideContext,y=this.ancestor;y--&&t;)t=t.parentOverrideContext;return 1>y&&t?t.bindingContext:void 0},c.prototype.accept=function(a){return a.visitAccessThis(this)},c.prototype.connect=function(a,c){},c}(kc),Tc=a.AccessScope=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.name=t,d.ancestor=y,d.isAssignable=!0,d}return d(c,a),c.prototype.evaluate=function(a,c){var t=l(this.name,a,this.ancestor);return t[this.name]},c.prototype.assign=function(a,c){var t=l(this.name,a,this.ancestor);return t?t[this.name]=c:void 0},c.prototype.accept=function(a){return a.visitAccessScope(this)},c.prototype.connect=function(a,c){var t=l(this.name,c,this.ancestor);a.observeProperty(t,this.name)},c}(kc),bc=a.AccessMember=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.object=t,d.name=y,d.isAssignable=!0,d}return d(c,a),c.prototype.evaluate=function(a,c){var t=this.object.evaluate(a,c);return null===t||void 0===t?t:t[this.name]},c.prototype.assign=function(a,c){var t=this.object.evaluate(a);return null!==t&&void 0!==t||(t={},this.object.assign(a,t)),t[this.name]=c},c.prototype.accept=function(a){return a.visitAccessMember(this)},c.prototype.connect=function(a,c){this.object.connect(a,c);var t=this.object.evaluate(c);t&&a.observeProperty(t,this.name)},c}(kc),fc=a.AccessKeyed=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.object=t,d.key=y,d.isAssignable=!0,d}return d(c,a),c.prototype.evaluate=function(a,c){var t=this.object.evaluate(a,c),y=this.key.evaluate(a,c);return M(t,y)},c.prototype.assign=function(a,c){var t=this.object.evaluate(a),y=this.key.evaluate(a);return N(t,y,c)},c.prototype.accept=function(a){return a.visitAccessKeyed(this)},c.prototype.connect=function(a,c){this.object.connect(a,c);var t=this.object.evaluate(c);if(t instanceof Object){this.key.connect(a,c);var y=this.key.evaluate(c);null===y||void 0===y||Array.isArray(t)&&"number"==typeof y||a.observeProperty(t,y)}},c}(kc),gc=a.CallScope=function(a){function c(t,y,d){h(this,c);var i=e(this,a.call(this));return i.name=t,i.args=y,i.ancestor=d,i}return d(c,a),c.prototype.evaluate=function(a,c,t){var y=J(a,this.args,c),e=l(this.name,a,this.ancestor),d=L(e,this.name,t);return d?d.apply(e,y):void 0},c.prototype.accept=function(a){return a.visitCallScope(this)},c.prototype.connect=function(a,c){for(var t=this.args,y=t.length;y--;)t[y].connect(a,c)},c}(kc),jc=a.CallMember=function(a){function c(t,y,d){h(this,c);var i=e(this,a.call(this));return i.object=t,i.name=y,i.args=d,i}return d(c,a),c.prototype.evaluate=function(a,c,t){var y=this.object.evaluate(a,c),e=J(a,this.args,c),d=L(y,this.name,t);return d?d.apply(y,e):void 0},c.prototype.accept=function(a){return a.visitCallMember(this)},c.prototype.connect=function(a,c){this.object.connect(a,c);var t=this.object.evaluate(c);if(L(t,this.name,!1))for(var y=this.args,e=y.length;e--;)y[e].connect(a,c)},c}(kc),mc=a.CallFunction=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.func=t,d.args=y,d}return d(c,a),c.prototype.evaluate=function(a,c,t){var y=this.func.evaluate(a,c);if("function"==typeof y)return y.apply(null,J(a,this.args,c));if(t||null!==y&&void 0!==y)throw new Error(this.func+" is not a function")},c.prototype.accept=function(a){return a.visitCallFunction(this)},c.prototype.connect=function(a,c){this.func.connect(a,c);var t=this.func.evaluate(c);if("function"==typeof t)for(var y=this.args,e=y.length;e--;)y[e].connect(a,c)},c}(kc),qc=a.Binary=function(a){function c(t,y,d){h(this,c);var i=e(this,a.call(this));return i.operation=t,i.left=y,i.right=d,i}return d(c,a),c.prototype.evaluate=function(a,c){var t=this.left.evaluate(a);switch(this.operation){case"&&":return t&&this.right.evaluate(a);case"||":return t||this.right.evaluate(a)}var y=this.right.evaluate(a);switch(this.operation){case"==":return t==y;case"===":return t===y;case"!=":return t!=y;case"!==":return t!==y}if(null===t||null===y){switch(this.operation){case"+":return null!=t?t:null!=y?y:0;case"-":return null!=t?t:null!=y?0-y:0}return null}switch(this.operation){case"+":return K(t,y);case"-":return t-y;case"*":return t*y;case"/":return t/y;case"%":return t%y;case"<":return y>t;case">":return t>y;case"<=":return y>=t;case">=":return t>=y;case"^":return t^y}throw new Error("Internal error ["+this.operation+"] not handled")},c.prototype.accept=function(a){return a.visitBinary(this)},c.prototype.connect=function(a,c){this.left.connect(a,c);var t=this.left.evaluate(c);"&&"===this.operation&&!t||"||"===this.operation&&t||this.right.connect(a,c)},c}(kc),uc=a.PrefixNot=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.operation=t,d.expression=y,d}return d(c,a),c.prototype.evaluate=function(a,c){return!this.expression.evaluate(a)},c.prototype.accept=function(a){return a.visitPrefix(this)},c.prototype.connect=function(a,c){this.expression.connect(a,c)},c}(kc),vc=a.LiteralPrimitive=function(a){function c(t){h(this,c);var y=e(this,a.call(this));return y.value=t,y}return d(c,a),c.prototype.evaluate=function(a,c){return this.value},c.prototype.accept=function(a){return a.visitLiteralPrimitive(this)},c.prototype.connect=function(a,c){},c}(kc),wc=a.LiteralString=function(a){function c(t){h(this,c);var y=e(this,a.call(this));return y.value=t,y}return d(c,a),c.prototype.evaluate=function(a,c){return this.value},c.prototype.accept=function(a){return a.visitLiteralString(this)},c.prototype.connect=function(a,c){},c}(kc),xc=a.LiteralArray=function(a){function c(t){h(this,c);var y=e(this,a.call(this));return y.elements=t,y}return d(c,a),c.prototype.evaluate=function(a,c){var t,y=this.elements,e=y.length,d=[];for(t=0;e>t;++t)d[t]=y[t].evaluate(a,c);return d},c.prototype.accept=function(a){return a.visitLiteralArray(this)},c.prototype.connect=function(a,c){for(var t=this.elements.length,y=0;t>y;y++)this.elements[y].connect(a,c)},c}(kc),zc=a.LiteralObject=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.keys=t,d.values=y,d}return d(c,a),c.prototype.evaluate=function(a,c){var t,y={},e=this.keys,d=this.values,h=e.length;for(t=0;h>t;++t)y[e[t]]=d[t].evaluate(a,c);return y},c.prototype.accept=function(a){return a.visitLiteralObject(this)},c.prototype.connect=function(a,c){for(var t=this.keys.length,y=0;t>y;y++)this.values[y].connect(a,c)},c}(kc),Ac=[[],[0],[0,0],[0,0,0],[0,0,0,0],[0,0,0,0,0]],Bc=a.Unparser=function(){function a(c){h(this,a),this.buffer=c}return a.unparse=function(c){var t=[],y=new a(t);return c.accept(y),t.join("")},a.prototype.write=function(a){this.buffer.push(a)},a.prototype.writeArgs=function(a){var c,t;for(this.write("("),c=0,t=a.length;t>c;++c)0!==c&&this.write(","),a[c].accept(this);this.write(")")},a.prototype.visitChain=function(a){var c,t=a.expressions,y=t.length;for(c=0;y>c;++c)0!==c&&this.write(";"),t[c].accept(this)},a.prototype.visitBindingBehavior=function(a){var c,t=a.args,y=t.length;for(a.expression.accept(this),this.write("&"+a.name),c=0;y>c;++c)this.write(":"),t[c].accept(this)},a.prototype.visitValueConverter=function(a){var c,t=a.args,y=t.length;for(a.expression.accept(this),this.write("|"+a.name),c=0;y>c;++c)this.write(":"),t[c].accept(this)},a.prototype.visitAssign=function(a){a.target.accept(this),this.write("="),a.value.accept(this)},a.prototype.visitConditional=function(a){a.condition.accept(this),this.write("?"),a.yes.accept(this),this.write(":"),a.no.accept(this)},a.prototype.visitAccessThis=function(a){if(0===a.ancestor)return void this.write("$this");this.write("$parent");for(var c=a.ancestor-1;c--;)this.write(".$parent")},a.prototype.visitAccessScope=function(a){for(var c=a.ancestor;c--;)this.write("$parent.");this.write(a.name)},a.prototype.visitAccessMember=function(a){a.object.accept(this),this.write("."+a.name)},a.prototype.visitAccessKeyed=function(a){a.object.accept(this),this.write("["),a.key.accept(this),this.write("]")},a.prototype.visitCallScope=function(a){for(var c=a.ancestor;c--;)this.write("$parent.");this.write(a.name),this.writeArgs(a.args)},a.prototype.visitCallFunction=function(a){a.func.accept(this),this.writeArgs(a.args)},a.prototype.visitCallMember=function(a){a.object.accept(this),this.write("."+a.name),this.writeArgs(a.args)},a.prototype.visitPrefix=function(a){this.write("("+a.operation),a.expression.accept(this),this.write(")")},a.prototype.visitBinary=function(a){a.left.accept(this),this.write(a.operation),a.right.accept(this)},a.prototype.visitLiteralPrimitive=function(a){this.write(""+a.value)},a.prototype.visitLiteralArray=function(a){var c,t=a.elements,y=t.length;for(this.write("["),c=0;y>c;++c)0!==c&&this.write(","),t[c].accept(this);this.write("]")},a.prototype.visitLiteralObject=function(a){var c,t=a.keys,y=a.values,e=t.length;for(this.write("{"),c=0;e>c;++c)0!==c&&this.write(","),this.write("'"+t[c]+"':"),y[c].accept(this);this.write("}")},a.prototype.visitLiteralString=function(a){var c=a.value.replace(/'/g,"'");this.write("'"+c+"'")},a}(),Cc=a.ExpressionCloner=function(){function a(){h(this,a)}return a.prototype.cloneExpressionArray=function(a){for(var c=[],t=a.length;t--;)c[t]=a[t].accept(this);return c},a.prototype.visitChain=function(a){return new lc(this.cloneExpressionArray(a.expressions))},a.prototype.visitBindingBehavior=function(a){return new nc(a.expression.accept(this),a.name,this.cloneExpressionArray(a.args))},a.prototype.visitValueConverter=function(a){return new oc(a.expression.accept(this),a.name,this.cloneExpressionArray(a.args))},a.prototype.visitAssign=function(a){return new pc(a.target.accept(this),a.value.accept(this))},a.prototype.visitConditional=function(a){return new rc(a.condition.accept(this),a.yes.accept(this),a.no.accept(this))},a.prototype.visitAccessThis=function(a){return new sc(a.ancestor)},a.prototype.visitAccessScope=function(a){return new Tc(a.name,a.ancestor)},a.prototype.visitAccessMember=function(a){return new bc(a.object.accept(this),a.name)},a.prototype.visitAccessKeyed=function(a){return new fc(a.object.accept(this),a.key.accept(this))},a.prototype.visitCallScope=function(a){return new gc(a.name,this.cloneExpressionArray(a.args),a.ancestor)},a.prototype.visitCallFunction=function(a){return new mc(a.func.accept(this),this.cloneExpressionArray(a.args))},a.prototype.visitCallMember=function(a){return new jc(a.object.accept(this),a.name,this.cloneExpressionArray(a.args))},a.prototype.visitPrefix=function(a){return new uc(a.operation,a.expression.accept(this))},a.prototype.visitBinary=function(a){return new qc(a.operation,a.left.accept(this),a.right.accept(this))},a.prototype.visitLiteralPrimitive=function(a){return new vc(a)},a.prototype.visitLiteralArray=function(a){return new xc(this.cloneExpressionArray(a.elements))},a.prototype.visitLiteralObject=function(a){return new zc(a.keys,this.cloneExpressionArray(a.values))},a.prototype.visitLiteralString=function(a){return new wc(a.value)},a}(),Dc=a.bindingMode={oneTime:0,oneWay:1,twoWay:2},Ec=a.Token=function(){function a(c,t){h(this,a),this.index=c,this.text=t}return a.prototype.withOp=function(a){return this.opKey=a,this},a.prototype.withGetterSetter=function(a){return this.key=a,this},a.prototype.withValue=function(a){return this.value=a,this},a.prototype.toString=function(){return"Token("+this.text+")"},a}(),Fc=a.Lexer=function(){function a(){h(this,a)}return a.prototype.lex=function(a){for(var c=new Gc(a),t=[],y=c.scanToken();y;)t.push(y),y=c.scanToken();return t},a}(),Gc=a.Scanner=function(){function a(c){h(this,a),this.input=c,this.length=c.length,this.peek=0,this.index=-1,this.advance()}return a.prototype.scanToken=function(){for(;this.peek<=Oc;){if(++this.index>=this.length)return this.peek=Ic,null;this.peek=this.input.charCodeAt(this.index)}if(Q(this.peek))return this.scanIdentifier();if(S(this.peek))return this.scanNumber(this.index);var a=this.index;switch(this.peek){case at:return this.advance(),S(this.peek)?this.scanNumber(a):new Ec(a,".");case Wc:case Xc:case At:case Ct:case rt:case Tt:case $c:case tt:case yt:return this.scanCharacter(a,String.fromCharCode(this.peek));case Vc:case Qc:return this.scanString();case Zc:case _c:case Yc:case ct:case Sc:case bt:case it:return this.scanOperator(a,String.fromCharCode(this.peek));case et:case ht:case Pc:case dt:return this.scanComplexOperator(a,dt,String.fromCharCode(this.peek),"=");case Uc:return this.scanComplexOperator(a,Uc,"&","&");case Bt:return this.scanComplexOperator(a,Bt,"|","|");case Dt:for(;P(this.peek);)this.advance();return this.scanToken()}var c=String.fromCharCode(this.peek);return this.error("Unexpected character ["+c+"]"),null},a.prototype.scanCharacter=function(a,c){return X(this.peek===c.charCodeAt(0)),this.advance(),new Ec(a,c)},a.prototype.scanOperator=function(a,c){return X(this.peek===c.charCodeAt(0)),X(-1!==Hc.indexOf(c)),this.advance(),new Ec(a,c).withOp(c)},a.prototype.scanComplexOperator=function(a,c,t,y){X(this.peek===t.charCodeAt(0)),this.advance();var e=t;return this.peek===c&&(this.advance(),e+=y),this.peek===c&&(this.advance(),e+=y),X(-1!=Hc.indexOf(e)),new Ec(a,e).withOp(e)},a.prototype.scanIdentifier=function(){X(Q(this.peek));var a=this.index;for(this.advance();R(this.peek);)this.advance();var c=this.input.substring(a,this.index),t=new Ec(a,c);return-1!==Hc.indexOf(c)?t.withOp(c):t.withGetterSetter(c),t},a.prototype.scanNumber=function(a){X(S(this.peek));var c=this.index===a;for(this.advance();;){if(S(this.peek));else if(this.peek===at)c=!1;else{if(!U(this.peek))break;this.advance(),V(this.peek)&&this.advance(),S(this.peek)||this.error("Invalid exponent",-1),c=!1}this.advance()}var t=this.input.substring(a,this.index),y=c?parseInt(t):parseFloat(t);return new Ec(a,t).withValue(y)},a.prototype.scanString=function(){X(this.peek===Vc||this.peek===Qc);var a=this.index,c=this.peek;this.advance();for(var t=void 0,y=this.index;this.peek!==c;)if(this.peek===st){t||(t=[]),t.push(this.input.substring(y,this.index)),this.advance();var e=void 0;if(this.peek===wt){var d=this.input.substring(this.index+1,this.index+5);/[A-Z0-9]{4}/.test(d)||this.error("Invalid unicode escape [\\u"+d+"]"),e=parseInt(d,16);for(var h=0;5>h;++h)this.advance()}else e=W(this.peek),this.advance();t.push(String.fromCharCode(e)),y=this.index}else this.peek===Ic?this.error("Unterminated quote"):this.advance();var i=this.input.substring(y,this.index);this.advance();var k=this.input.substring(a,this.index),l=i;return null!=t&&(t.push(i),l=t.join("")),new Ec(a,k).withValue(l)},a.prototype.advance=function(){++this.index>=this.length?this.peek=Ic:this.peek=this.input.charCodeAt(this.index)},a.prototype.error=function(a){var c=arguments.length<=1||void 0===arguments[1]?0:arguments[1],t=this.index+c;throw new Error("Lexer Error: "+a+" at column "+t+" in expression ["+this.input+"]")},a}(),Hc=["undefined","null","true","false","+","-","*","/","%","^","=","==","===","!=","!==","<",">","<=",">=","&&","||","&","|","!","?"],Ic=0,Jc=9,Kc=10,Lc=11,Mc=12,Nc=13,Oc=32,Pc=33,Qc=34,Rc=36,Sc=37,Uc=38,Vc=39,Wc=40,Xc=41,Yc=42,Zc=43,$c=44,_c=45,at=46,ct=47,tt=58,yt=59,et=60,dt=61,ht=62,it=63,kt=48,lt=57,nt=65,ot=69,pt=90,rt=91,st=92,Tt=93,bt=94,ft=95,gt=97,jt=101,mt=102,qt=110,ut=114,vt=116,wt=117,xt=118,zt=122,At=123,Bt=124,Ct=125,Dt=160,Et=new Ec(-1,null),Ft=a.Parser=function(){function a(){h(this,a),this.cache={},this.lexer=new Fc}return a.prototype.parse=function(a){return a=a||"",this.cache[a]||(this.cache[a]=new Gt(this.lexer,a).parseChain())},a}(),Gt=a.ParserImplementation=function(){function a(c,t){h(this,a),this.index=0,this.input=t,this.tokens=c.lex(t)}return a.prototype.parseChain=function(){for(var a=!1,c=[];this.optional(";");)a=!0;for(;this.index<this.tokens.length;){")"!==this.peek.text&&"}"!==this.peek.text&&"]"!==this.peek.text||this.error("Unconsumed token "+this.peek.text);var t=this.parseBindingBehavior();for(c.push(t);this.optional(";");)a=!0;a&&this.error("Multiple expressions are not allowed.")}return 1===c.length?c[0]:new lc(c)},a.prototype.parseBindingBehavior=function(){for(var a=this.parseValueConverter();this.optional("&");){var c=this.peek.text,t=[];for(this.advance();this.optional(":");)t.push(this.parseExpression());a=new nc(a,c,t)}return a},a.prototype.parseValueConverter=function(){for(var a=this.parseExpression();this.optional("|");){var c=this.peek.text,t=[];for(this.advance();this.optional(":");)t.push(this.parseExpression());a=new oc(a,c,t,[a].concat(t))}return a},a.prototype.parseExpression=function(){for(var a=this.peek.index,c=this.parseConditional();"="===this.peek.text;){if(!c.isAssignable){var t=this.index<this.tokens.length?this.peek.index:this.input.length,y=this.input.substring(a,t);this.error("Expression "+y+" is not assignable")}this.expect("="),c=new pc(c,this.parseConditional())}return c},a.prototype.parseConditional=function(){var a=this.peek.index,c=this.parseLogicalOr();if(this.optional("?")){var t=this.parseExpression();if(!this.optional(":")){var y=this.index<this.tokens.length?this.peek.index:this.input.length,e=this.input.substring(a,y);this.error("Conditional expression "+e+" requires all 3 expressions")}var d=this.parseExpression();c=new rc(c,t,d)}return c},a.prototype.parseLogicalOr=function(){for(var a=this.parseLogicalAnd();this.optional("||");)a=new qc("||",a,this.parseLogicalAnd());return a},a.prototype.parseLogicalAnd=function(){for(var a=this.parseEquality();this.optional("&&");)a=new qc("&&",a,this.parseEquality());return a},a.prototype.parseEquality=function(){for(var a=this.parseRelational();;)if(this.optional("=="))a=new qc("==",a,this.parseRelational());else if(this.optional("!="))a=new qc("!=",a,this.parseRelational());else if(this.optional("==="))a=new qc("===",a,this.parseRelational());else{if(!this.optional("!=="))return a;a=new qc("!==",a,this.parseRelational())}},a.prototype.parseRelational=function(){for(var a=this.parseAdditive();;)if(this.optional("<"))a=new qc("<",a,this.parseAdditive());else if(this.optional(">"))a=new qc(">",a,this.parseAdditive());else if(this.optional("<="))a=new qc("<=",a,this.parseAdditive());else{if(!this.optional(">="))return a;a=new qc(">=",a,this.parseAdditive())}},a.prototype.parseAdditive=function(){for(var a=this.parseMultiplicative();;)if(this.optional("+"))a=new qc("+",a,this.parseMultiplicative());else{if(!this.optional("-"))return a;a=new qc("-",a,this.parseMultiplicative())}},a.prototype.parseMultiplicative=function(){for(var a=this.parsePrefix();;)if(this.optional("*"))a=new qc("*",a,this.parsePrefix());else if(this.optional("%"))a=new qc("%",a,this.parsePrefix());else{if(!this.optional("/"))return a;a=new qc("/",a,this.parsePrefix())}},a.prototype.parsePrefix=function(){return this.optional("+")?this.parsePrefix():this.optional("-")?new qc("-",new vc(0),this.parsePrefix()):this.optional("!")?new uc("!",this.parsePrefix()):this.parseAccessOrCallMember()},a.prototype.parseAccessOrCallMember=function(){for(var a=this.parsePrimary();;)if(this.optional(".")){var c=this.peek.text;if(this.advance(),this.optional("(")){var t=this.parseExpressionList(")");this.expect(")"),a=a instanceof sc?new gc(c,t,a.ancestor):new jc(a,c,t)}else a=a instanceof sc?new Tc(c,a.ancestor):new bc(a,c)}else if(this.optional("[")){var y=this.parseExpression();this.expect("]"),a=new fc(a,y)}else{if(!this.optional("("))return a;var e=this.parseExpressionList(")");this.expect(")"),a=new mc(a,e)}},a.prototype.parsePrimary=function(){if(this.optional("(")){var a=this.parseExpression();return this.expect(")"),a}if(this.optional("null"))return new vc(null);if(this.optional("undefined"))return new vc(void 0);if(this.optional("true"))return new vc(!0);if(this.optional("false"))return new vc(!1);if(this.optional("[")){var c=this.parseExpressionList("]");return this.expect("]"),new xc(c)}if("{"==this.peek.text)return this.parseObject();if(null!=this.peek.key)return this.parseAccessOrCallScope();if(null!=this.peek.value){var t=this.peek.value;return this.advance(),t instanceof String||"string"==typeof t?new wc(t):new vc(t)}if(this.index>=this.tokens.length)throw new Error("Unexpected end of expression: "+this.input);this.error("Unexpected token "+this.peek.text)},a.prototype.parseAccessOrCallScope=function(){var a=this.peek.key;if(this.advance(),"$this"===a)return new sc(0);for(var c=0;"$parent"===a;)if(c++,this.optional("."))a=this.peek.key,this.advance();else{if(this.peek===Et||"("===this.peek.text||"["===this.peek.text||"}"===this.peek.text)return new sc(c);this.error("Unexpected token "+this.peek.text)}if(this.optional("(")){var t=this.parseExpressionList(")");return this.expect(")"),new gc(a,t,c)}return new Tc(a,c)},a.prototype.parseObject=function(){var a=[],c=[];if(this.expect("{"),"}"!==this.peek.text)do{var t=this.peek,y=t.value;a.push("string"==typeof y?y:t.text),this.advance(),!t.key||","!==this.peek.text&&"}"!==this.peek.text?(this.expect(":"),c.push(this.parseExpression())):(--this.index,c.push(this.parseAccessOrCallScope()))}while(this.optional(","));return this.expect("}"),new zc(a,c)},a.prototype.parseExpressionList=function(a){var c=[];if(this.peek.text!=a)do c.push(this.parseExpression());while(this.optional(","));return c},a.prototype.optional=function(a){return this.peek.text===a?(this.advance(),!0):!1},a.prototype.expect=function(a){this.peek.text===a?this.advance():this.error("Missing expected "+a)},a.prototype.advance=function(){this.index++},a.prototype.error=function(a){var c=this.index<this.tokens.length?"at column "+(this.tokens[this.index].index+1)+" in":"at the end of the expression";throw new Error("Parser Error: "+a+" "+c+" ["+this.input+"]")},Ga(a,[{key:"peek",get:function(){return this.index<this.tokens.length?this.tokens[this.index]:Et}}]),a}(),Ht=Map.prototype;a.getMapObserver=Y;
var It=function(a){function c(t,y){return h(this,c),e(this,a.call(this,t,y))}return d(c,a),c["for"]=function(a,t){if(!("__map_observer__"in t)){var y=c.create(a,t);Object.defineProperty(t,"__map_observer__",{value:y,enumerable:!1,configurable:!1})}return t.__map_observer__},c.create=function(a,t){var y=new c(a,t),e=Ht;return e.add===t.add&&e["delete"]===t["delete"]&&e.clear===t.clear||(e={add:t.add,"delete":t["delete"],clear:t.clear}),t.set=function(){var a=t.has(arguments[0]),c=a?"update":"add",d=t.get(arguments[0]),h=e.set.apply(t,arguments);return a&&d===t.get(arguments[0])||y.addChangeRecord({type:c,object:t,key:arguments[0],oldValue:d}),h},t["delete"]=function(){var a=t.has(arguments[0]),c=t.get(arguments[0]),d=e["delete"].apply(t,arguments);return a&&y.addChangeRecord({type:"delete",object:t,key:arguments[0],oldValue:c}),d},t.clear=function(){var a=e.clear.apply(t,arguments);return y.addChangeRecord({type:"clear",object:t}),a},y},c}($a),Jt=function(){function a(c){h(this,a),this.eventName=c,this.count=0}return a.prototype.increment=function(){this.count++,1===this.count&&c.DOM.addEventListener(this.eventName,$,!1)},a.prototype.decrement=function(){this.count--,0===this.count&&c.DOM.removeEventListener(this.eventName,$)},a}(),Kt=function(){function a(){h(this,a),this.delegatedHandlers=[]}return a.prototype.subscribe=function(a,c,t,y){var e=this;if(!y)return a.addEventListener(c,t,!1),function(){a.removeEventListener(c,t)};var d=function(){var y=e.delegatedHandlers,d=y[c]||(y[c]=new Jt(c)),h=a.delegatedCallbacks||(a.delegatedCallbacks={});return d.increment(),h[c]=t,{v:function(){d.decrement(),h[c]=null}}}();return"object"===("undefined"==typeof d?"undefined":Fa(d))?d.v:void 0},a}(),Lt=a.EventManager=function(){function a(){h(this,a),this.elementHandlerLookup={},this.eventStrategyLookup={},this.registerElementConfig({tagName:"input",properties:{value:["change","input"],checked:["change","input"],files:["change","input"]}}),this.registerElementConfig({tagName:"textarea",properties:{value:["change","input"]}}),this.registerElementConfig({tagName:"select",properties:{value:["change"]}}),this.registerElementConfig({tagName:"content editable",properties:{value:["change","input","blur","keyup","paste"]}}),this.registerElementConfig({tagName:"scrollable element",properties:{scrollTop:["scroll"],scrollLeft:["scroll"]}}),this.defaultEventStrategy=new Kt}return a.prototype.registerElementConfig=function(a){var c=a.tagName.toLowerCase(),t=a.properties,y=void 0;this.elementHandlerLookup[c]={};for(y in t)t.hasOwnProperty(y)&&this.registerElementPropertyConfig(c,y,t[y])},a.prototype.registerElementPropertyConfig=function(a,c,t){this.elementHandlerLookup[a][c]=this.createElementHandler(t)},a.prototype.createElementHandler=function(a){return{subscribe:function(c,t){return a.forEach(function(a){c.addEventListener(a,t,!1)}),function(){a.forEach(function(a){c.removeEventListener(a,t)})}}}},a.prototype.registerElementHandler=function(a,c){this.elementHandlerLookup[a.toLowerCase()]=c},a.prototype.registerEventStrategy=function(a,c){this.eventStrategyLookup[a]=c},a.prototype.getElementHandler=function(a,c){var t=void 0,y=this.elementHandlerLookup;if(a.tagName){if(t=a.tagName.toLowerCase(),y[t]&&y[t][c])return y[t][c];if("textContent"===c||"innerHTML"===c)return y["content editable"].value;if("scrollTop"===c||"scrollLeft"===c)return y["scrollable element"][c]}return null},a.prototype.addEventListener=function(a,c,t,y){return(this.eventStrategyLookup[c]||this.defaultEventStrategy).subscribe(a,c,t,y)},a}(),Mt=a.DirtyChecker=function(){function a(){h(this,a),this.tracked=[],this.checkDelay=120}return a.prototype.addProperty=function(a){var c=this.tracked;c.push(a),1===c.length&&this.scheduleDirtyCheck()},a.prototype.removeProperty=function(a){var c=this.tracked;c.splice(c.indexOf(a),1)},a.prototype.scheduleDirtyCheck=function(){var a=this;setTimeout(function(){return a.check()},this.checkDelay)},a.prototype.check=function(){for(var a=this.tracked,c=a.length;c--;){var t=a[c];t.isDirty()&&t.call()}a.length&&this.scheduleDirtyCheck()},a}(),Nt=a.DirtyCheckProperty=(ba=v(),ba(fa=function(){function a(c,t,y){h(this,a),this.dirtyChecker=c,this.obj=t,this.propertyName=y}return a.prototype.getValue=function(){return this.obj[this.propertyName]},a.prototype.setValue=function(a){this.obj[this.propertyName]=a},a.prototype.call=function(){var a=this.oldValue,c=this.getValue();this.callSubscribers(c,a),this.oldValue=c},a.prototype.isDirty=function(){return this.oldValue!==this.obj[this.propertyName]},a.prototype.subscribe=function(a,c){this.hasSubscribers()||(this.oldValue=this.getValue(),this.dirtyChecker.addProperty(this)),this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)&&!this.hasSubscribers()&&this.dirtyChecker.removeProperty(this)},a}())||fa),Ot=a.propertyAccessor={getValue:function(a,c){return a[c]},setValue:function(a,c,t){return c[t]=a}},Pt=a.PrimitiveObserver=function(){function a(c,t){h(this,a),this.doNotCache=!0,this.primitive=c,this.propertyName=t}return a.prototype.getValue=function(){return this.primitive[this.propertyName]},a.prototype.setValue=function(){var a=Fa(this.primitive);throw new Error("The "+this.propertyName+" property of a "+a+" ("+this.primitive+") cannot be assigned.")},a.prototype.subscribe=function(){},a.prototype.unsubscribe=function(){},a}(),Qt=a.SetterObserver=(ga=v(),ga(ja=function(){function a(c,t,y){h(this,a),this.taskQueue=c,this.obj=t,this.propertyName=y,this.queued=!1,this.observing=!1}return a.prototype.getValue=function(){return this.obj[this.propertyName]},a.prototype.setValue=function(a){this.obj[this.propertyName]=a},a.prototype.getterValue=function(){return this.currentValue},a.prototype.setterValue=function(a){var c=this.currentValue;c!==a&&(this.queued||(this.oldValue=c,this.queued=!0,this.taskQueue.queueMicroTask(this)),this.currentValue=a)},a.prototype.call=function(){var a=this.oldValue,c=this.currentValue;this.queued=!1,this.callSubscribers(c,a)},a.prototype.subscribe=function(a,c){this.observing||this.convertProperty(),this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)},a.prototype.convertProperty=function(){this.observing=!0,this.currentValue=this.obj[this.propertyName],this.setValue=this.setterValue,this.getValue=this.getterValue;try{Object.defineProperty(this.obj,this.propertyName,{configurable:!0,enumerable:!0,get:this.getValue.bind(this),set:this.setValue.bind(this)})}catch(a){}},a}())||ja),Rt=a.XLinkAttributeObserver=function(){function a(c,t,y){h(this,a),this.element=c,this.propertyName=t,this.attributeName=y}return a.prototype.getValue=function(){return this.element.getAttributeNS("http://www.w3.org/1999/xlink",this.attributeName)},a.prototype.setValue=function(a){return this.element.setAttributeNS("http://www.w3.org/1999/xlink",this.attributeName,a)},a.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},a}(),St=a.dataAttributeAccessor={getValue:function(a,c){return a.getAttribute(c)},setValue:function(a,c,t){return c.setAttribute(t,a)}},Ut=a.DataAttributeObserver=function(){function a(c,t){h(this,a),this.element=c,this.propertyName=t}return a.prototype.getValue=function(){return this.element.getAttribute(this.propertyName)},a.prototype.setValue=function(a){return this.element.setAttribute(this.propertyName,a)},a.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},a}(),Vt=a.StyleObserver=function(){function a(c,t){h(this,a),this.element=c,this.propertyName=t,this.styles=null,this.version=0}return a.prototype.getValue=function(){return this.element.style.cssText},a.prototype.setValue=function(a){var c=this.styles||{},t=void 0,y=this.version;if(null!==a&&void 0!==a)if(a instanceof Object)for(t in a)a.hasOwnProperty(t)&&(c[t]=y,this.element.style[t]=a[t]);else if(a.length)for(var e=a.split(/(?:;|:(?!\/))\s*/),d=0,h=e.length;h>d;d++)t=e[d].trim(),t&&(c[t]=y,this.element.style[t]=e[++d]);if(this.styles=c,this.version+=1,0!==y){y-=1;for(t in c)c.hasOwnProperty(t)&&c[t]===y&&(this.element.style[t]="")}},a.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "'+this.propertyName+'" property is not supported.')},a}(),Wt=a.ValueAttributeObserver=(ma=v(),ma(qa=function(){function a(c,t,y){h(this,a),this.element=c,this.propertyName=t,this.handler=y,"files"===t&&(this.setValue=function(){})}return a.prototype.getValue=function(){return this.element[this.propertyName]},a.prototype.setValue=function(a){a=void 0===a||null===a?"":a,this.element[this.propertyName]!==a&&(this.element[this.propertyName]=a,this.notify())},a.prototype.notify=function(){var a=this.oldValue,c=this.getValue();this.callSubscribers(c,a),this.oldValue=c},a.prototype.subscribe=function(a,c){this.hasSubscribers()||(this.oldValue=this.getValue(),this.disposeHandler=this.handler.subscribe(this.element,this.notify.bind(this))),this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},a}())||qa),Xt="CheckedObserver:array",Yt=a.CheckedObserver=(ua=v(),ua(va=function(){function a(c,t,y){h(this,a),this.element=c,this.handler=t,this.observerLocator=y}return a.prototype.getValue=function(){return this.value},a.prototype.setValue=function(a){this.value!==a&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(Xt,this),this.arrayObserver=null),"checkbox"===this.element.type&&Array.isArray(a)&&(this.arrayObserver=this.observerLocator.getArrayObserver(a),this.arrayObserver.subscribe(Xt,this)),this.oldValue=this.value,this.value=a,this.synchronizeElement(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},a.prototype.call=function(a,c){this.synchronizeElement()},a.prototype.synchronizeElement=function(){var a=this.value,c=this.element,t=c.hasOwnProperty("model")?c.model:c.value,y="radio"===c.type,e=c.matcher||function(a,c){return a===c};c.checked=y&&!!e(a,t)||!y&&a===!0||!y&&Array.isArray(a)&&!!a.find(function(a){return!!e(a,t)})},a.prototype.synchronizeValue=function(){var a=this.value,c=this.element,t=c.hasOwnProperty("model")?c.model:c.value,y=void 0,e=c.matcher||function(a,c){return a===c};if("checkbox"===c.type){if(Array.isArray(a))return y=a.findIndex(function(a){return!!e(a,t)}),void(c.checked&&-1===y?a.push(t):c.checked||-1===y||a.splice(y,1));a=c.checked}else{if(!c.checked)return;a=t}this.oldValue=this.value,this.value=a,this.notify()},a.prototype.notify=function(){var a=this.oldValue,c=this.value;this.callSubscribers(c,a)},a.prototype.subscribe=function(a,c){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},a.prototype.unbind=function(){this.arrayObserver&&(this.arrayObserver.unsubscribe(Xt,this),this.arrayObserver=null)},a}())||va),Zt="SelectValueObserver:array",$t=a.SelectValueObserver=(wa=v(),wa(xa=function(){function a(c,t,y){h(this,a),this.element=c,this.handler=t,this.observerLocator=y}return a.prototype.getValue=function(){return this.value},a.prototype.setValue=function(a){if(null!==a&&void 0!==a&&this.element.multiple&&!Array.isArray(a))throw new Error("Only null or Array instances can be bound to a multi-select.");this.value!==a&&(this.arrayObserver&&(this.arrayObserver.unsubscribe(Zt,this),this.arrayObserver=null),Array.isArray(a)&&(this.arrayObserver=this.observerLocator.getArrayObserver(a),this.arrayObserver.subscribe(Zt,this)),this.oldValue=this.value,this.value=a,this.synchronizeOptions(),this.notify(),this.initialSync||(this.initialSync=!0,this.observerLocator.taskQueue.queueMicroTask(this)))},a.prototype.call=function(a,c){this.synchronizeOptions()},a.prototype.synchronizeOptions=function(){var a=this.value,c=void 0,t=void 0;null===a||void 0===a?c=!0:Array.isArray(a)&&(t=!0);for(var y=this.element.options,e=y.length,d=this.element.matcher||function(a,c){return a===c},h=function(){var h=y.item(e);if(c)return h.selected=!1,"continue";var i=h.hasOwnProperty("model")?h.model:h.value;return t?(h.selected=!!a.find(function(a){return!!d(i,a)}),"continue"):void(h.selected=!!d(i,a))};e--;){h()}},a.prototype.synchronizeValue=function(){for(var a=this,c=this.element.options,t=0,y=[],e=0,d=c.length;d>e;e++){var h=c.item(e);h.selected&&(y.push(h.hasOwnProperty("model")?h.model:h.value),t++)}if(this.element.multiple){if(Array.isArray(this.value)){var i=function(){for(var c=a.element.matcher||function(a,c){return a===c},t=0,e=function(){var e=a.value[t];-1===y.findIndex(function(a){return c(e,a)})?a.value.splice(t,1):t++};t<a.value.length;)e();t=0;for(var d=function(){var e=y[t];-1===a.value.findIndex(function(a){return c(e,a)})&&a.value.push(e),t++};t<y.length;)d();return{v:void 0}}();if("object"===("undefined"==typeof i?"undefined":Fa(i)))return i.v}}else y=0===t?null:y[0];y!==this.value&&(this.oldValue=this.value,this.value=y,this.notify())},a.prototype.notify=function(){var a=this.oldValue,c=this.value;this.callSubscribers(c,a)},a.prototype.subscribe=function(a,c){this.hasSubscribers()||(this.disposeHandler=this.handler.subscribe(this.element,this.synchronizeValue.bind(this,!1))),this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)&&!this.hasSubscribers()&&(this.disposeHandler(),this.disposeHandler=null)},a.prototype.bind=function(){var a=this;this.domObserver=c.DOM.createMutationObserver(function(){a.synchronizeOptions(),a.synchronizeValue()}),this.domObserver.observe(this.element,{childList:!0,subtree:!0})},a.prototype.unbind=function(){this.domObserver.disconnect(),this.domObserver=null,this.arrayObserver&&(this.arrayObserver.unsubscribe(Zt,this),this.arrayObserver=null)},a}())||xa),_t=a.ClassObserver=function(){function a(c){h(this,a),this.element=c,this.doNotCache=!0,this.value="",this.version=0}return a.prototype.getValue=function(){return this.value},a.prototype.setValue=function(a){var c,t,y=this.nameIndex||{},e=this.version;if(null!==a&&void 0!==a&&a.length){c=a.split(/\s+/);for(var d=0,h=c.length;h>d;d++)t=c[d],""!==t&&(y[t]=e,this.element.classList.add(t))}if(this.value=a,this.nameIndex=y,this.version+=1,0!==e){e-=1;for(t in y)y.hasOwnProperty(t)&&y[t]===e&&this.element.classList.remove(t)}},a.prototype.subscribe=function(){throw new Error('Observation of a "'+this.element.nodeName+'" element\'s "class" property is not supported.')},a}(),ay=a.ComputedExpression=function(a){function c(t,y){h(this,c);var d=e(this,a.call(this));return d.name=t,d.dependencies=y,d.isAssignable=!0,d}return d(c,a),c.prototype.evaluate=function(a,c){return a.bindingContext[this.name]},c.prototype.assign=function(a,c){a.bindingContext[this.name]=c},c.prototype.accept=function(a){throw new Error("not implemented")},c.prototype.connect=function(a,c){for(var t=this.dependencies,y=t.length;y--;)t[y].connect(a,c)},c}(kc),cy=a.elements={a:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","target","transform","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],altGlyph:["class","dx","dy","externalResourcesRequired","format","glyphRef","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],altGlyphDef:["id","xml:base","xml:lang","xml:space"],altGlyphItem:["id","xml:base","xml:lang","xml:space"],animate:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateColor:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateMotion:["accumulate","additive","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keyPoints","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","origin","path","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","systemLanguage","to","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],animateTransform:["accumulate","additive","attributeName","attributeType","begin","by","calcMode","dur","end","externalResourcesRequired","fill","from","id","keySplines","keyTimes","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","type","values","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],circle:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","r","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],clipPath:["class","clipPathUnits","externalResourcesRequired","id","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],"color-profile":["id","local","name","rendering-intent","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],cursor:["externalResourcesRequired","id","requiredExtensions","requiredFeatures","systemLanguage","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],defs:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],desc:["class","id","style","xml:base","xml:lang","xml:space"],ellipse:["class","cx","cy","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],feBlend:["class","height","id","in","in2","mode","result","style","width","x","xml:base","xml:lang","xml:space","y"],feColorMatrix:["class","height","id","in","result","style","type","values","width","x","xml:base","xml:lang","xml:space","y"],feComponentTransfer:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feComposite:["class","height","id","in","in2","k1","k2","k3","k4","operator","result","style","width","x","xml:base","xml:lang","xml:space","y"],feConvolveMatrix:["bias","class","divisor","edgeMode","height","id","in","kernelMatrix","kernelUnitLength","order","preserveAlpha","result","style","targetX","targetY","width","x","xml:base","xml:lang","xml:space","y"],feDiffuseLighting:["class","diffuseConstant","height","id","in","kernelUnitLength","result","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feDisplacementMap:["class","height","id","in","in2","result","scale","style","width","x","xChannelSelector","xml:base","xml:lang","xml:space","y","yChannelSelector"],feDistantLight:["azimuth","elevation","id","xml:base","xml:lang","xml:space"],feFlood:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feFuncA:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncB:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncG:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feFuncR:["amplitude","exponent","id","intercept","offset","slope","tableValues","type","xml:base","xml:lang","xml:space"],feGaussianBlur:["class","height","id","in","result","stdDeviation","style","width","x","xml:base","xml:lang","xml:space","y"],feImage:["class","externalResourcesRequired","height","id","preserveAspectRatio","result","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],feMerge:["class","height","id","result","style","width","x","xml:base","xml:lang","xml:space","y"],feMergeNode:["id","xml:base","xml:lang","xml:space"],feMorphology:["class","height","id","in","operator","radius","result","style","width","x","xml:base","xml:lang","xml:space","y"],feOffset:["class","dx","dy","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],fePointLight:["id","x","xml:base","xml:lang","xml:space","y","z"],feSpecularLighting:["class","height","id","in","kernelUnitLength","result","specularConstant","specularExponent","style","surfaceScale","width","x","xml:base","xml:lang","xml:space","y"],feSpotLight:["id","limitingConeAngle","pointsAtX","pointsAtY","pointsAtZ","specularExponent","x","xml:base","xml:lang","xml:space","y","z"],feTile:["class","height","id","in","result","style","width","x","xml:base","xml:lang","xml:space","y"],feTurbulence:["baseFrequency","class","height","id","numOctaves","result","seed","stitchTiles","style","type","width","x","xml:base","xml:lang","xml:space","y"],filter:["class","externalResourcesRequired","filterRes","filterUnits","height","id","primitiveUnits","style","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],font:["class","externalResourcesRequired","horiz-adv-x","horiz-origin-x","horiz-origin-y","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],"font-face":["accent-height","alphabetic","ascent","bbox","cap-height","descent","font-family","font-size","font-stretch","font-style","font-variant","font-weight","hanging","id","ideographic","mathematical","overline-position","overline-thickness","panose-1","slope","stemh","stemv","strikethrough-position","strikethrough-thickness","underline-position","underline-thickness","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","widths","x-height","xml:base","xml:lang","xml:space"],"font-face-format":["id","string","xml:base","xml:lang","xml:space"],"font-face-name":["id","name","xml:base","xml:lang","xml:space"],"font-face-src":["id","xml:base","xml:lang","xml:space"],"font-face-uri":["id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],foreignObject:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],g:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],glyph:["arabic-form","class","d","glyph-name","horiz-adv-x","id","lang","orientation","style","unicode","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],glyphRef:["class","dx","dy","format","glyphRef","id","style","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],hkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"],image:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],line:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","x1","x2","xml:base","xml:lang","xml:space","y1","y2"],linearGradient:["class","externalResourcesRequired","gradientTransform","gradientUnits","id","spreadMethod","style","x1","x2","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y1","y2"],marker:["class","externalResourcesRequired","id","markerHeight","markerUnits","markerWidth","orient","preserveAspectRatio","refX","refY","style","viewBox","xml:base","xml:lang","xml:space"],mask:["class","externalResourcesRequired","height","id","maskContentUnits","maskUnits","requiredExtensions","requiredFeatures","style","systemLanguage","width","x","xml:base","xml:lang","xml:space","y"],metadata:["id","xml:base","xml:lang","xml:space"],"missing-glyph":["class","d","horiz-adv-x","id","style","vert-adv-y","vert-origin-x","vert-origin-y","xml:base","xml:lang","xml:space"],mpath:["externalResourcesRequired","id","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],path:["class","d","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","pathLength","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],pattern:["class","externalResourcesRequired","height","id","patternContentUnits","patternTransform","patternUnits","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","viewBox","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],polygon:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],polyline:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","points","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],radialGradient:["class","cx","cy","externalResourcesRequired","fx","fy","gradientTransform","gradientUnits","id","r","spreadMethod","style","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],rect:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rx","ry","style","systemLanguage","transform","width","x","xml:base","xml:lang","xml:space","y"],script:["externalResourcesRequired","id","type","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],set:["attributeName","attributeType","begin","dur","end","externalResourcesRequired","fill","id","max","min","onbegin","onend","onload","onrepeat","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","systemLanguage","to","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],stop:["class","id","offset","style","xml:base","xml:lang","xml:space"],style:["id","media","title","type","xml:base","xml:lang","xml:space"],svg:["baseProfile","class","contentScriptType","contentStyleType","externalResourcesRequired","height","id","onabort","onactivate","onclick","onerror","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onresize","onscroll","onunload","onzoom","preserveAspectRatio","requiredExtensions","requiredFeatures","style","systemLanguage","version","viewBox","width","x","xml:base","xml:lang","xml:space","y","zoomAndPan"],"switch":["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","xml:base","xml:lang","xml:space"],symbol:["class","externalResourcesRequired","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","preserveAspectRatio","style","viewBox","xml:base","xml:lang","xml:space"],text:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","transform","x","xml:base","xml:lang","xml:space","y"],textPath:["class","externalResourcesRequired","id","lengthAdjust","method","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","spacing","startOffset","style","systemLanguage","textLength","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space"],title:["class","id","style","xml:base","xml:lang","xml:space"],tref:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xlink:arcrole","xlink:href","xlink:role","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],tspan:["class","dx","dy","externalResourcesRequired","id","lengthAdjust","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","rotate","style","systemLanguage","textLength","x","xml:base","xml:lang","xml:space","y"],use:["class","externalResourcesRequired","height","id","onactivate","onclick","onfocusin","onfocusout","onload","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","requiredExtensions","requiredFeatures","style","systemLanguage","transform","width","x","xlink:actuate","xlink:arcrole","xlink:href","xlink:role","xlink:show","xlink:title","xlink:type","xml:base","xml:lang","xml:space","y"],
view:["externalResourcesRequired","id","preserveAspectRatio","viewBox","viewTarget","xml:base","xml:lang","xml:space","zoomAndPan"],vkern:["g1","g2","id","k","u1","u2","xml:base","xml:lang","xml:space"]},ty=a.presentationElements={a:!0,altGlyph:!0,animate:!0,animateColor:!0,circle:!0,clipPath:!0,defs:!0,ellipse:!0,feBlend:!0,feColorMatrix:!0,feComponentTransfer:!0,feComposite:!0,feConvolveMatrix:!0,feDiffuseLighting:!0,feDisplacementMap:!0,feFlood:!0,feGaussianBlur:!0,feImage:!0,feMerge:!0,feMorphology:!0,feOffset:!0,feSpecularLighting:!0,feTile:!0,feTurbulence:!0,filter:!0,font:!0,foreignObject:!0,g:!0,glyph:!0,glyphRef:!0,image:!0,line:!0,linearGradient:!0,marker:!0,mask:!0,"missing-glyph":!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,"switch":!0,symbol:!0,text:!0,textPath:!0,tref:!0,tspan:!0,use:!0},yy=a.presentationAttributes={"alignment-baseline":!0,"baseline-shift":!0,"clip-path":!0,"clip-rule":!0,clip:!0,"color-interpolation-filters":!0,"color-interpolation":!0,"color-profile":!0,"color-rendering":!0,color:!0,cursor:!0,direction:!0,display:!0,"dominant-baseline":!0,"enable-background":!0,"fill-opacity":!0,"fill-rule":!0,fill:!0,filter:!0,"flood-color":!0,"flood-opacity":!0,"font-family":!0,"font-size-adjust":!0,"font-size":!0,"font-stretch":!0,"font-style":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-horizontal":!0,"glyph-orientation-vertical":!0,"image-rendering":!0,kerning:!0,"letter-spacing":!0,"lighting-color":!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,mask:!0,opacity:!0,overflow:!0,"pointer-events":!0,"shape-rendering":!0,"stop-color":!0,"stop-opacity":!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,stroke:!0,"text-anchor":!0,"text-decoration":!0,"text-rendering":!0,"unicode-bidi":!0,visibility:!0,"word-spacing":!0,"writing-mode":!0},ey=a.SVGAnalyzer=function(){function a(){h(this,a),"altglyph"===ya("<svg><altGlyph /></svg>").firstElementChild.nodeName&&cy.altGlyph&&(cy.altglyph=cy.altGlyph,delete cy.altGlyph,cy.altglyphdef=cy.altGlyphDef,delete cy.altGlyphDef,cy.altglyphitem=cy.altGlyphItem,delete cy.altGlyphItem,cy.glyphref=cy.glyphRef,delete cy.glyphRef)}return a.prototype.isStandardSvgAttribute=function(a,c){return ty[a]&&yy[c]||cy[a]&&-1!==cy[a].indexOf(c)},a}(),dy=a.ObserverLocator=(Aa=za=function(){function a(c,t,y,e,d){h(this,a),this.taskQueue=c,this.eventManager=t,this.dirtyChecker=y,this.svgAnalyzer=e,this.parser=d,this.adapters=[]}return a.prototype.getObserver=function(a,c){var t=a.__observers__,y=void 0;return t&&c in t?t[c]:(y=this.createPropertyObserver(a,c),y.doNotCache||(void 0===t&&(t=this.getOrCreateObserversLookup(a)),t[c]=y),y)},a.prototype.getOrCreateObserversLookup=function(a){return a.__observers__||this.createObserversLookup(a)},a.prototype.createObserversLookup=function(a){var c={};try{Object.defineProperty(a,"__observers__",{enumerable:!1,configurable:!1,writable:!1,value:c})}catch(t){}return c},a.prototype.addAdapter=function(a){this.adapters.push(a)},a.prototype.getAdapterObserver=function(a,c,t){for(var y=0,e=this.adapters.length;e>y;y++){var d=this.adapters[y],h=d.getObserver(a,c,t);if(h)return h}return null},a.prototype.createPropertyObserver=function(a,t){var y=void 0,e=void 0,d=void 0;if(!(a instanceof Object))return new Pt(a,t);if(a instanceof c.DOM.Element){if("class"===t)return new _t(a);if("style"===t||"css"===t)return new Vt(a,t);if(e=this.eventManager.getElementHandler(a,t),"value"===t&&"select"===a.tagName.toLowerCase())return new $t(a,e,this);if("checked"===t&&"input"===a.tagName.toLowerCase())return new Yt(a,e,this);if(e)return new Wt(a,t,e);if(d=/^xlink:(.+)$/.exec(t))return new Rt(a,t,d[1]);if(/^\w+:|^data-|^aria-/.test(t)||a instanceof c.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(a.nodeName,t))return new Ut(a,t)}if(y=Object.getPropertyDescriptor(a,t),_(y))return ta(a,t,y,this);var h=void 0;if(y&&(h=y.get||y.set)){if(h.getObserver)return h.getObserver(a);var i=this.getAdapterObserver(a,t,y);return i?i:new Nt(this.dirtyChecker,a,t)}return a instanceof Array?"length"===t?this.getArrayObserver(a).getLengthObserver():new Nt(this.dirtyChecker,a,t):a instanceof Map?"size"===t?this.getMapObserver(a).getLengthObserver():new Nt(this.dirtyChecker,a,t):a instanceof Set?"size"===t?this.getSetObserver(a).getLengthObserver():new Nt(this.dirtyChecker,a,t):new Qt(this.taskQueue,a,t)},a.prototype.getAccessor=function(a,t){if(a instanceof c.DOM.Element){if("class"===t||"style"===t||"css"===t||"value"===t&&("input"===a.tagName.toLowerCase()||"select"===a.tagName.toLowerCase())||"checked"===t&&"input"===a.tagName.toLowerCase()||/^xlink:.+$/.exec(t))return this.getObserver(a,t);if(/^\w+:|^data-|^aria-/.test(t)||a instanceof c.DOM.SVGElement&&this.svgAnalyzer.isStandardSvgAttribute(a.nodeName,t))return St}return Ot},a.prototype.getArrayObserver=function(a){return I(this.taskQueue,a)},a.prototype.getMapObserver=function(a){return Y(this.taskQueue,a)},a.prototype.getSetObserver=function(a){return ia(this.taskQueue,a)},a}(),za.inject=[t.TaskQueue,Lt,Mt,ey,Ft],Aa),hy=(a.ObjectObservationAdapter=function(){function a(){h(this,a)}return a.prototype.getObserver=function(a,c,t){throw new Error("BindingAdapters must implement getObserver(object, propertyName).")},a}(),a.BindingExpression=function(){function a(c,t,y,e,d,i){h(this,a),this.observerLocator=c,this.targetProperty=t,this.sourceExpression=y,this.mode=e,this.lookupFunctions=d,this.attribute=i,this.discrete=!1}return a.prototype.createBinding=function(a){return new ky(this.observerLocator,this.sourceExpression,a,this.targetProperty,this.mode,this.lookupFunctions)},a}()),iy="Binding:target",ky=a.Binding=(Ba=T(),Ba(Ca=function(){function a(c,t,y,e,d,i){h(this,a),this.observerLocator=c,this.sourceExpression=t,this.target=y,this.targetProperty=e,this.mode=d,this.lookupFunctions=i}return a.prototype.updateTarget=function(a){this.targetObserver.setValue(a,this.target,this.targetProperty)},a.prototype.updateSource=function(a){this.sourceExpression.assign(this.source,a,this.lookupFunctions)},a.prototype.call=function(a,c,t){if(this.isBound){if(a===Ha)return t=this.targetObserver.getValue(this.target,this.targetProperty),c=this.sourceExpression.evaluate(this.source,this.lookupFunctions),c!==t&&this.updateTarget(c),void(this.mode!==Dc.oneTime&&(this._version++,this.sourceExpression.connect(this,this.source),this.unobserve(!1)));if(a===iy)return void(c!==this.sourceExpression.evaluate(this.source,this.lookupFunctions)&&this.updateSource(c));throw new Error("Unexpected call context "+a)}},a.prototype.bind=function(a){if(this.isBound){if(this.source===a)return;this.unbind()}this.isBound=!0,this.source=a,this.sourceExpression.bind&&this.sourceExpression.bind(this,a,this.lookupFunctions);var c=this.mode;if(!this.targetObserver){var t=c===Dc.twoWay?"getObserver":"getAccessor";this.targetObserver=this.observerLocator[t](this.target,this.targetProperty)}"bind"in this.targetObserver&&this.targetObserver.bind();var y=this.sourceExpression.evaluate(a,this.lookupFunctions);this.updateTarget(y),c===Dc.oneWay?f(this):c===Dc.twoWay&&(this.sourceExpression.connect(this,a),this.targetObserver.subscribe(iy,this))},a.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,"unbind"in this.targetObserver&&this.targetObserver.unbind(),this.targetObserver.unsubscribe&&this.targetObserver.unsubscribe(iy,this),this.unobserve(!0))},a.prototype.connect=function(a){if(this.isBound){if(a){var c=this.sourceExpression.evaluate(this.source,this.lookupFunctions);this.updateTarget(c)}this.sourceExpression.connect(this,this.source)}},a}())||Ca),ly=(a.CallExpression=function(){function a(c,t,y,e){h(this,a),this.observerLocator=c,this.targetProperty=t,this.sourceExpression=y,this.lookupFunctions=e}return a.prototype.createBinding=function(a){return new ly(this.observerLocator,this.sourceExpression,a,this.targetProperty,this.lookupFunctions)},a}(),a.Call=function(){function a(c,t,y,e,d){h(this,a),this.sourceExpression=t,this.target=y,this.targetProperty=c.getObserver(y,e),this.lookupFunctions=d}return a.prototype.callSource=function(a){var c=this.source.overrideContext;Object.assign(c,a),c.$event=a;var t=!0,y=this.sourceExpression.evaluate(this.source,this.lookupFunctions,t);delete c.$event;for(var e in a)delete c[e];return y},a.prototype.bind=function(a){var c=this;if(this.isBound){if(this.source===a)return;this.unbind()}this.isBound=!0,this.source=a,this.sourceExpression.bind&&this.sourceExpression.bind(this,a,this.lookupFunctions),this.targetProperty.setValue(function(a){return c.callSource(a)})},a.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this.targetProperty.setValue(null))},a}()),ny=a.ValueConverterResource=function(){function a(c){h(this,a),this.name=c}return a.convention=function(c){return c.endsWith("ValueConverter")?new a(i(c.substring(0,c.length-14))):void 0},a.prototype.initialize=function(a,c){this.instance=a.get(c)},a.prototype.register=function(a,c){a.registerValueConverter(c||this.name,this.instance)},a.prototype.load=function(a,c){},a}(),oy=a.BindingBehaviorResource=function(){function a(c){h(this,a),this.name=c}return a.convention=function(c){return c.endsWith("BindingBehavior")?new a(i(c.substring(0,c.length-15))):void 0},a.prototype.initialize=function(a,c){this.instance=a.get(c)},a.prototype.register=function(a,c){a.registerBindingBehavior(c||this.name,this.instance)},a.prototype.load=function(a,c){},a}(),py=(a.ListenerExpression=function(){function a(c,t,y,e,d,i){h(this,a),this.eventManager=c,this.targetEvent=t,this.sourceExpression=y,this.delegate=e,this.discrete=!0,this.preventDefault=d,this.lookupFunctions=i}return a.prototype.createBinding=function(a){return new py(this.eventManager,this.targetEvent,this.delegate,this.sourceExpression,a,this.preventDefault,this.lookupFunctions)},a}(),a.Listener=function(){function a(c,t,y,e,d,i,k){h(this,a),this.eventManager=c,this.targetEvent=t,this.delegate=y,this.sourceExpression=e,this.target=d,this.preventDefault=i,this.lookupFunctions=k}return a.prototype.callSource=function(a){var c=this.source.overrideContext;c.$event=a;var t=!0,y=this.sourceExpression.evaluate(this.source,this.lookupFunctions,t);return delete c.$event,y!==!0&&this.preventDefault&&a.preventDefault(),y},a.prototype.bind=function(a){var c=this;if(this.isBound){if(this.source===a)return;this.unbind()}this.isBound=!0,this.source=a,this.sourceExpression.bind&&this.sourceExpression.bind(this,a,this.lookupFunctions),this._disposeListener=this.eventManager.addEventListener(this.target,this.targetEvent,function(a){return c.callSource(a)},this.delegate)},a.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null,this._disposeListener(),this._disposeListener=null)},a}()),ry=(a.NameExpression=function(){function a(c,t,y){h(this,a),this.sourceExpression=c,this.apiName=t,this.lookupFunctions=y,this.discrete=!0}return a.prototype.createBinding=function(c){return new ry(this.sourceExpression,a.locateAPI(c,this.apiName),this.lookupFunctions)},a.locateAPI=function(a,c){switch(c){case"element":return a;case"controller":return ha(a).controller;case"view-model":return ha(a).controller.viewModel;case"view":return ha(a).controller.view;default:var t=ha(a)[c];if(void 0===t)throw new Error('Attempted to reference "'+c+"\", but it was not found amongst the target's API.");return t.viewModel}},a}(),function(){function a(c,t,y){h(this,a),this.sourceExpression=c,this.target=t,this.lookupFunctions=y}return a.prototype.bind=function(a){if(this.isBound){if(this.source===a)return;this.unbind()}this.isBound=!0,this.source=a,this.sourceExpression.bind&&this.sourceExpression.bind(this,a,this.lookupFunctions),this.sourceExpression.assign(this.source,this.target,this.lookupFunctions)},a.prototype.unbind=function(){this.isBound&&(this.isBound=!1,this.sourceExpression.assign(this.source,null,this.lookupFunctions),this.sourceExpression.unbind&&this.sourceExpression.unbind(this,this.source),this.source=null)},a}()),sy={bindingBehaviors:function(a){return null},valueConverters:function(a){return null}},Ty=(a.BindingEngine=(Ea=Da=function(){function a(c,t){h(this,a),this.observerLocator=c,this.parser=t}return a.prototype.createBindingExpression=function(a,c){var t=arguments.length<=2||void 0===arguments[2]?Dc.oneWay:arguments[2],y=arguments.length<=3||void 0===arguments[3]?y:arguments[3];return new hy(this.observerLocator,a,this.parser.parse(c),t,y)},a.prototype.propertyObserver=function(a,c){var t=this;return{subscribe:function(y){var e=t.observerLocator.getObserver(a,c);return e.subscribe(y),{dispose:function(){return e.unsubscribe(y)}}}}},a.prototype.collectionObserver=function(a){var c=this;return{subscribe:function(t){var y=void 0;if(a instanceof Array)y=c.observerLocator.getArrayObserver(a);else if(a instanceof Map)y=c.observerLocator.getMapObserver(a);else{if(!(a instanceof Set))throw new Error("collection must be an instance of Array, Map or Set.");y=c.observerLocator.getSetObserver(a)}return y.subscribe(t),{dispose:function(){return y.unsubscribe(t)}}}}},a.prototype.expressionObserver=function(a,c){var t={bindingContext:a,overrideContext:k(a)};return new Ua(t,this.parser.parse(c),this.observerLocator,sy)},a.prototype.parseExpression=function(a){return this.parser.parse(a)},a.prototype.registerAdapter=function(a){this.observerLocator.addAdapter(a)},a}(),Da.inject=[dy,Ft],Ea),Set.prototype);a.getSetObserver=ia;var by=function(a){function c(t,y){return h(this,c),e(this,a.call(this,t,y))}return d(c,a),c["for"]=function(a,t){if(!("__set_observer__"in t)){var y=c.create(a,t);Object.defineProperty(t,"__set_observer__",{value:y,enumerable:!1,configurable:!1})}return t.__set_observer__},c.create=function(a,t){var y=new c(a,t),e=Ty;return e.add===t.add&&e["delete"]===t["delete"]&&e.clear===t.clear||(e={add:t.add,"delete":t["delete"],clear:t.clear}),t.add=function(){var a="add",c=t.size,d=e.add.apply(t,arguments),h=t.size===c;return h||y.addChangeRecord({type:a,object:t,value:Array.from(t).pop()}),d},t["delete"]=function(){var a=t.has(arguments[0]),c=e["delete"].apply(t,arguments);return a&&y.addChangeRecord({type:"delete",object:t,value:arguments[0]}),c},t.clear=function(){var a=e.clear.apply(t,arguments);return y.addChangeRecord({type:"clear",object:t}),a},y},c}($a)})}(),function(){var a=System.amdDefine;a("npm:aurelia-binding@1.0.0-beta.1.3.0.js",["npm:aurelia-binding@1.0.0-beta.1.3.0/aurelia-binding"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-task-queue@1.0.0-beta.1.2.0/aurelia-task-queue.js",["exports","aurelia-pal"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(a){var t=1,y=c.DOM.createMutationObserver(a),e=c.DOM.createTextNode("");return y.observe(e,{characterData:!0}),function(){t=-t,e.data=t}}function e(a){return function(){function c(){clearTimeout(t),clearInterval(y),a()}var t=setTimeout(c,0),y=setInterval(c,50)}}function d(a,c){"onError"in c?c.onError(a):h?setImmediate(function(){throw a}):setTimeout(function(){throw a},0)}Object.defineProperty(a,"__esModule",{value:!0}),a.TaskQueue=void 0;var h="function"==typeof setImmediate;a.TaskQueue=function(){function a(){var d=this;t(this,a),this.microTaskQueue=[],this.microTaskQueueCapacity=1024,this.taskQueue=[],c.FEATURE.mutationObserver?this.requestFlushMicroTaskQueue=y(function(){return d.flushMicroTaskQueue()}):this.requestFlushMicroTaskQueue=e(function(){return d.flushMicroTaskQueue()}),this.requestFlushTaskQueue=e(function(){return d.flushTaskQueue()})}return a.prototype.queueMicroTask=function(a){this.microTaskQueue.length<1&&this.requestFlushMicroTaskQueue(),this.microTaskQueue.push(a)},a.prototype.queueTask=function(a){this.taskQueue.length<1&&this.requestFlushTaskQueue(),this.taskQueue.push(a)},a.prototype.flushTaskQueue=function(){var a=this.taskQueue,c=0,t=void 0;this.taskQueue=[];try{for(;c<a.length;)t=a[c],t.call(),c++}catch(y){d(y,t)}},a.prototype.flushMicroTaskQueue=function(){var a=this.microTaskQueue,c=this.microTaskQueueCapacity,t=0,y=void 0;try{for(;t<a.length;)if(y=a[t],y.call(),t++,t>c){for(var e=0,h=a.length-t;h>e;e++)a[e]=a[e+t];a.length-=t,t=0}}catch(i){d(i,y)}a.length=0},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-task-queue@1.0.0-beta.1.2.0.js",["npm:aurelia-task-queue@1.0.0-beta.1.2.0/aurelia-task-queue"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating@1.0.0-beta.1.2.0/aurelia-templating.js",["exports","aurelia-logging","aurelia-pal","aurelia-metadata","aurelia-path","aurelia-loader","aurelia-binding","aurelia-dependency-injection","aurelia-task-queue"],function(a,c,t,y,e,d,h,i,k){"use strict";function l(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function o(a){return"-"+a.toLowerCase()}function p(a){return(a.charAt(0).toLowerCase()+a.slice(1)).replace(Fa,o)}function r(a,c,t,y){if(c){var e=a[c];if(e){if(e!==t)throw new Error("Attempted to register "+y+" when one with the same name already exists. Name: "+c+".")}else a[c]=t}}function s(a,c){for(var t=void 0;!t&&c>=0;)t=a[c][0],c--;return t}function T(a){var c=a.firstChild;if(null!==c&&void 0!==c&&8===c.nodeType){var y=t.DOM.nextElementSibling(c);if(null!==y&&void 0!==y&&1===y.nodeType&&y.classList.contains("au-animate"))return y}return null}function b(a){if(a===t.DOM.Element)return this.element;if(a===_a){if(this.boundViewFactory)return this.boundViewFactory;var c=this.instruction.viewFactory,y=this.partReplacements;return y&&(c=y[c.part]||c),this.boundViewFactory=new _a(this,c,y),this.boundViewFactory}return a===Ya?(void 0===this.viewSlot&&(this.viewSlot=new Ya(this.element,this.instruction.anchorIsContainer),this.element.isContentProjectionSource=this.instruction.lifting,this.children.push(this.viewSlot)),this.viewSlot):a===Ga?this.elementEvents||(this.elementEvents=new Ga(this.element)):a===Ea?this.compositionTransaction||(this.compositionTransaction=this.parent.get(a)):a===Ua?this.viewResources:a===Ka?this.instruction:this.superGet(a)}function f(a,c,t,y,e,d){var h=a.createChild(),i=void 0,k=void 0;for(h.element=c,h.instruction=t,h.children=y,h.viewResources=d,h.partReplacements=e,i=t.providers,k=i.length;k--;)h._resolvers.set(i[k],$a);return h.superGet=h.get,h.get=b,h}function g(a,c){var y=t.DOM.createComment("anchor");return c&&(y.hasAttribute=function(c){return a.hasAttribute(c)},y.getAttribute=function(c){return a.getAttribute(c)},y.setAttribute=function(c,t){a.setAttribute(c,t)}),t.DOM.replaceNode(y,a),y}function j(a,c,y,e,d,h,i,k,l){var n=y.behaviorInstructions,o=y.expressions,p=void 0,r=void 0,s=void 0,T=void 0,b=void 0;if(y.contentExpression)return d.push(y.contentExpression.createBinding(c.nextSibling)),void c.parentNode.removeChild(c);if(y.contentSelector){var j=t.DOM.createComment("anchor");return t.DOM.replaceNode(j,c),void i.push(new Xa(j,y.selector))}if(n.length)for(y.anchorIsContainer||(c=g(c,y.elementInstruction)),a[y.injectorId]=p=f(a[y.parentInjectorId],c,y,h,k,l),r=0,s=n.length;s>r;++r)T=n[r],b=T.type.create(p,T,c,d),b.contentView&&h.push(b.contentView),e.push(b);for(r=0,s=o.length;s>r;++r)d.push(o[r].createBinding(c))}function m(a,c){var t=a.split(";"),y=void 0,e=void 0,d=void 0,h=void 0,i=void 0;for(c=c||{},e=0;e<t.length;e++)d=t[e],y=d.indexOf(":"),h=d.substring(0,y).trim(),i=d.substring(y+1).trim(),c[h]=i;return c}function q(a){var c="";for(var t in a)c+=t+":"+a[t]+";";return c}function u(a,c,t,y,e,d){var h=t.behaviorInstructions,i=t.expressions,k=t.providers,l=t.values,n=void 0,o=void 0,p=void 0,r=void 0,s=void 0;for(n=k.length;n--;)a._resolvers.set(k[n],$a);for(var T in l)if(s=c.getAttribute(T)){if("class"===T)c.setAttribute("class",s+" "+l[T]);else if("style"===T){var b=m(l[T]);m(s,b),c.setAttribute("style",q(b))}}else c.setAttribute(T,l[T]);if(h.length)for(n=0,o=h.length;o>n;++n)p=h[n],r=p.type.create(a,p,c,e),r.contentView&&d.push(r.contentView),y.push(r);for(n=0,o=i.length;o>n;++n)e.push(i[n].createBinding(c))}function v(){return++cc}function w(a,c){var t=a.type,y=a.attrName,e=a.attributes,d=void 0,h=void 0,i=void 0,k=c.mapAttribute(y);k&&y in e&&k!==y&&(e[k]=e[y],delete e[y]);for(h in e)i=e[h],null!==i&&"object"===("undefined"==typeof i?"undefined":Ca(i))&&(d=t.attributes[h],void 0!==d?i.targetProperty=d.name:i.targetProperty=h)}function x(){return(++tc).toString()}function z(a){var c=a.getAttribute("class"),t=x();return a.setAttribute("class",c?c+=" au-target":"au-target"),a.setAttribute("au-target-id",t),t}function A(a,c){return c instanceof d.TemplateRegistryEntry?Promise.resolve(c):a.loadTemplate(c)}function B(a,c,t){var y=c.__observers__;return void 0===y&&(a.isInitialized||a.initialize(i.Container.instance||new i.Container,c.constructor),y=a.observerLocator.getOrCreateObserversLookup(c),a._ensurePropertiesDefined(c,y)),y[t]}function C(){return++sc}function D(){return!0}function E(){}function F(a,c){return function(t,e,d){var h="string"==typeof e?t.constructor:t,i=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,h);"string"==typeof a&&(a={selector:a,name:e}),d&&(d.writable=!0),a.all=c,i.addChildBinding(new bc(a))}}function G(a){return F(a,!0)}function H(a){return F(a,!1)}function I(a,c,t){var y=a.get(c);y||(y=[],a.set(c,y)),y.push(t)}function J(a,c){for(var t=c.binders,y=t.length,e=new Map,d=0,h=a.length;h>d;++d){for(var i=a[d],k=i.addedNodes,l=i.removedNodes,n=0,o=l.length;o>n;++n){var p=l[n];if(1===p.nodeType)for(var r=0;y>r;++r){var s=t[r];s.onRemove(p)&&I(e,s,i)}}for(var T=0,b=k.length;b>T;++T){var f=k[T];if(1===f.nodeType)for(var g=0;y>g;++g){var j=t[g];j.onAdd(f)&&I(e,j,i)}}}e.forEach(function(a,c){null!==c.changeHandler&&c.viewModel[c.changeHandler](a)})}function K(a){return a.skipActivation||"function"!=typeof a.viewModel.activate?Promise.resolve():a.viewModel.activate(a.model)||Promise.resolve()}function L(a,c){if(/[A-Z]/.test(a)){var t=p(a);return Aa.getLogger("templating").warn("'"+a+"' is not a valid "+c+" name and has been converted to '"+t+"'. Upper-case letters are not allowed because the DOM is not case-sensitive."),t}return a}function M(a){return function(c){y.metadata.define(y.metadata.resource,a,c)}}function N(a){return function(c){if(a instanceof Tc)y.metadata.define(y.metadata.resource,a,c);else{var t=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,c);Object.assign(t,a)}}}function O(a){return function(c){var t=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,c);t.elementName=L(a,"custom element")}}function P(a,c){return function(t){var e=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,t);e.attributeName=L(a,"custom attribute"),e.attributeDefaultBindingMode=c}}function Q(a){var c=function(a){var c=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,a);c.liftsContent=!0};return a?c(a):c}function R(a,c,t){var e=function(c,t,e){var d=t?c.constructor:c,h=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,d),i=void 0;return t&&(a=a||{},a.name=t),i=new pc(a),i.registerWith(d,h,e)};if(!a)return e;if(c){var d=a;return a=null,e(d,c,t)}return e}function S(a){var c=function(a){var c=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,a);c.hasDynamicOptions=!0};return a?c(a):c}function U(a){var c=function(a){var c=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,a);c.targetShadowDOM=!0};return a?c(a):c}function V(a){return function(c){var t=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,c);t.processAttributes=a}}function W(){return!1}function X(a){return function(c){var t=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,c);t.processContent=a||W}}function Y(a){var c=function(a){var c=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,a);c.containerless=!0};return a?c(a):c}function Z(a){return function(c){y.metadata.define(Ra.viewStrategyMetadataKey,a,c)}}function $(a){return Z(new Ma(a))}function _(a,c,t){return Z(new Qa(a,c,t))}function aa(a){var c=function(a){y.metadata.define(Ra.viewStrategyMetadataKey,new Oa,a)};return a?c(a):c}function ca(a){var c=function(a){y.metadata.define(y.metadata.resource,new mc,a)};return a?c(a):c}Object.defineProperty(a,"__esModule",{value:!0}),a.TemplatingEngine=a.ElementConfigResource=a.CompositionEngine=a.HtmlBehaviorResource=a.BindableProperty=a.BehaviorPropertyObserver=a.Controller=a.ViewEngine=a.ModuleAnalyzer=a.ResourceDescription=a.ResourceModule=a.ViewCompiler=a.ViewFactory=a.BoundViewFactory=a.ViewSlot=a._ContentSelector=a.View=a.ViewResources=a.BindingLanguage=a.ViewLocator=a.InlineViewStrategy=a.TemplateRegistryViewStrategy=a.NoViewStrategy=a.ConventionalViewStrategy=a.RelativeViewStrategy=a.viewStrategy=a.TargetInstruction=a.BehaviorInstruction=a.ViewCompileInstruction=a.ResourceLoadContext=a.ElementEvents=a.CompositionTransaction=a.Animator=a.animationEvent=void 0,a._hyphenate=p,a.children=G,a.child=H,a.resource=M,a.behavior=N,a.customElement=O,a.customAttribute=P,a.templateController=Q,a.bindable=R,a.dynamicOptions=S,a.useShadowDOM=U,a.processAttributes=V,a.processContent=X,a.containerless=Y,a.useViewStrategy=Z,a.useView=$,a.inlineView=_,a.noView=aa,a.elementConfig=ca;var ta,ya,ea,da,ha,ia,ka,la,na,oa,pa,ra,sa,Ta,ba,fa,ga,ja,ma,qa,ua,va,wa,xa,za,Aa=l(c),Ba=function(){function a(a,c){for(var t=0;t<c.length;t++){var y=c[t];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}return function(c,t,y){return t&&a(c.prototype,t),y&&a(c,y),c}}(),Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},Da=(a.animationEvent={enterBegin:"animation:enter:begin",enterActive:"animation:enter:active",enterDone:"animation:enter:done",enterTimeout:"animation:enter:timeout",leaveBegin:"animation:leave:begin",leaveActive:"animation:leave:active",leaveDone:"animation:leave:done",leaveTimeout:"animation:leave:timeout",staggerNext:"animation:stagger:next",removeClassBegin:"animation:remove-class:begin",removeClassActive:"animation:remove-class:active",removeClassDone:"animation:remove-class:done",removeClassTimeout:"animation:remove-class:timeout",addClassBegin:"animation:add-class:begin",addClassActive:"animation:add-class:active",addClassDone:"animation:add-class:done",addClassTimeout:"animation:add-class:timeout",animateBegin:"animation:animate:begin",animateActive:"animation:animate:active",animateDone:"animation:animate:done",animateTimeout:"animation:animate:timeout",sequenceBegin:"animation:sequence:begin",sequenceDone:"animation:sequence:done"},a.Animator=function(){function a(){n(this,a)}return a.prototype.enter=function(a){return Promise.resolve(!1)},a.prototype.leave=function(a){return Promise.resolve(!1)},a.prototype.removeClass=function(a,c){return a.classList.remove(c),Promise.resolve(!1)},a.prototype.addClass=function(a,c){return a.classList.add(c),Promise.resolve(!1)},a.prototype.animate=function(a,c){return Promise.resolve(!1)},a.prototype.runSequence=function(a){},a.prototype.registerEffect=function(a,c){},a.prototype.unregisterEffect=function(a){},a}()),Ea=a.CompositionTransaction=function(){function a(){n(this,a),this._ownershipToken=null,this._compositionCount=0}return a.prototype.tryCapture=function(){return null!==this._ownershipToken?null:this._ownershipToken=this._createOwnershipToken()},a.prototype.enlist=function(){var a=this;return a._compositionCount++,{done:function(){a._compositionCount--,a._tryCompleteTransaction()}}},a.prototype._tryCompleteTransaction=function(){if(this._compositionCount<=0&&(this._compositionCount=0,null!==this._ownershipToken)){var a=this._ownershipToken;this._ownershipToken=null,a._resolve()}},a.prototype._createOwnershipToken=function(){var a=this,c={},t=new Promise(function(a,t){c._resolve=a});return c.waitForCompositionComplete=function(){return a._tryCompleteTransaction(),t},c},a}(),Fa=/([A-Z])/g,Ga=a.ElementEvents=function(){function a(c){n(this,a),this.element=c,this.subscriptions={}}return a.prototype._enqueueHandler=function(a){this.subscriptions[a.eventName]=this.subscriptions[a.eventName]||[],this.subscriptions[a.eventName].push(a)},a.prototype._dequeueHandler=function(a){var c=void 0,t=this.subscriptions[a.eventName];return t&&(c=t.indexOf(a),c>-1&&t.splice(c,1)),a},a.prototype.publish=function(a){var c=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],y=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],e=arguments.length<=3||void 0===arguments[3]?!0:arguments[3],d=t.DOM.createCustomEvent(a,{cancelable:e,bubbles:y,detail:c});this.element.dispatchEvent(d)},a.prototype.subscribe=function(a,c){var t=this,y=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];return c&&"function"==typeof c?(c.eventName=a,c.handler=c,c.bubbles=y,c.dispose=function(){t.element.removeEventListener(a,c,y),t._dequeueHandler(c)},this.element.addEventListener(a,c,y),this._enqueueHandler(c),c):void 0},a.prototype.subscribeOnce=function(a,c){var t=this,y=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(c&&"function"==typeof c){var e=function(){var e=function d(a){c(a),d.dispose()};return{v:t.subscribe(a,e,y)}}();if("object"===("undefined"==typeof e?"undefined":Ca(e)))return e.v}},a.prototype.dispose=function(a){if(a&&"string"==typeof a){var c=this.subscriptions[a];if(c)for(;c.length;){var t=c.pop();t&&t.dispose()}}else this.disposeAll()},a.prototype.disposeAll=function(){for(var a in this.subscriptions)this.dispose(a)},a}(),Ha=a.ResourceLoadContext=function(){function a(){n(this,a),this.dependencies={}}return a.prototype.addDependency=function(a){this.dependencies[a]=!0},a.prototype.hasDependency=function(a){return a in this.dependencies},a}(),Ia=a.ViewCompileInstruction=function qc(){var a=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],c=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];n(this,qc),this.targetShadowDOM=a,this.compileSurrogate=c,this.associatedModuleId=null};Ia.normal=new Ia;var Ja=a.BehaviorInstruction=function(){function a(){n(this,a),this.initiatedByBehavior=!1,this.enhance=!1,this.partReplacements=null,this.viewFactory=null,this.originalAttrName=null,this.skipContentProcessing=!1,this.contentFactory=null,this.viewModel=null,this.anchorIsContainer=!1,this.host=null,this.attributes=null,this.type=null,this.attrName=null,this.inheritBindingContext=!1}return a.enhance=function(){var c=new a;return c.enhance=!0,c},a.unitTest=function(c,t){var y=new a;return y.type=c,y.attributes=t||{},y},a.element=function(c,t){var y=new a;return y.type=t,y.attributes={},y.anchorIsContainer=!(c.hasAttribute("containerless")||t.containerless),y.initiatedByBehavior=!0,y},a.attribute=function(c,t){var y=new a;return y.attrName=c,y.type=t||null,y.attributes={},y},a.dynamic=function(c,t,y){var e=new a;return e.host=c,e.viewModel=t,e.viewFactory=y,e.inheritBindingContext=!0,e},a}();Ja.normal=new Ja;var Ka=a.TargetInstruction=(ya=ta=function(){function a(){n(this,a),this.injectorId=null,this.parentInjectorId=null,this.contentSelector=!1,this.selector=null,this.contentExpression=null,this.expressions=null,this.behaviorInstructions=null,this.providers=null,this.viewFactory=null,this.anchorIsContainer=!1,this.elementInstruction=null,this.lifting=!1,this.values=null}return a.contentSelector=function(c,t){var y=new a;return y.parentInjectorId=t,y.contentSelector=!0,y.selector=c.getAttribute("select"),y},a.contentExpression=function(c){var t=new a;return t.contentExpression=c,t},a.lifting=function(c,t){var y=new a;return y.parentInjectorId=c,y.expressions=a.noExpressions,y.behaviorInstructions=[t],
y.viewFactory=t.viewFactory,y.providers=[t.type.target],y.lifting=!0,y},a.normal=function(c,t,y,e,d,h){var i=new a;return i.injectorId=c,i.parentInjectorId=t,i.providers=y,i.behaviorInstructions=e,i.expressions=d,i.anchorIsContainer=h?h.anchorIsContainer:!0,i.elementInstruction=h,i},a.surrogate=function(c,t,y,e){var d=new a;return d.expressions=y,d.behaviorInstructions=t,d.providers=c,d.values=e,d},a}(),ta.noExpressions=Object.freeze([]),ya),La=a.viewStrategy=y.protocol.create("aurelia:view-strategy",{validate:function(a){return"function"!=typeof a.loadViewFactory?"View strategies must implement: loadViewFactory(viewEngine: ViewEngine, compileInstruction: ViewCompileInstruction, loadContext?: ResourceLoadContext): Promise<ViewFactory>":!0},compose:function(a){"function"!=typeof a.makeRelativeTo&&(a.makeRelativeTo=t.PLATFORM.noop)}}),Ma=a.RelativeViewStrategy=(ea=La(),ea(da=function(){function a(c){n(this,a),this.path=c,this.absolutePath=null}return a.prototype.loadViewFactory=function(a,c,t){return null===this.absolutePath&&this.moduleId&&(this.absolutePath=(0,e.relativeToFile)(this.path,this.moduleId)),c.associatedModuleId=this.moduleId,a.loadViewFactory(this.absolutePath||this.path,c,t)},a.prototype.makeRelativeTo=function(a){null===this.absolutePath&&(this.absolutePath=(0,e.relativeToFile)(this.path,a))},a}())||da),Na=a.ConventionalViewStrategy=(ha=La(),ha(ia=function(){function a(c,t){n(this,a),this.moduleId=t.moduleId,this.viewUrl=c.convertOriginToViewUrl(t)}return a.prototype.loadViewFactory=function(a,c,t){return c.associatedModuleId=this.moduleId,a.loadViewFactory(this.viewUrl,c,t)},a}())||ia),Oa=a.NoViewStrategy=(ka=La(),ka(la=function(){function a(){n(this,a)}return a.prototype.loadViewFactory=function(a,c,t){return Promise.resolve(null)},a}())||la),Pa=a.TemplateRegistryViewStrategy=(na=La(),na(oa=function(){function a(c,t){n(this,a),this.moduleId=c,this.entry=t}return a.prototype.loadViewFactory=function(a,c,t){var y=this.entry;return y.factoryIsReady?Promise.resolve(y.factory):(c.associatedModuleId=this.moduleId,a.loadViewFactory(y,c,t))},a}())||oa),Qa=a.InlineViewStrategy=(pa=La(),pa(ra=function(){function a(c,t,y){n(this,a),this.markup=c,this.dependencies=t||null,this.dependencyBaseUrl=y||""}return a.prototype.loadViewFactory=function(a,c,y){var e=this.entry,h=this.dependencies;if(e&&e.factoryIsReady)return Promise.resolve(e.factory);if(this.entry=e=new d.TemplateRegistryEntry(this.moduleId||this.dependencyBaseUrl),e.template=t.DOM.createTemplateFromMarkup(this.markup),null!==h)for(var i=0,k=h.length;k>i;++i){var l=h[i];"string"==typeof l||"function"==typeof l?e.addDependency(l):e.addDependency(l.from,l.as)}return c.associatedModuleId=this.moduleId,a.loadViewFactory(e,c,y)},a}())||ra),Ra=a.ViewLocator=(Ta=sa=function(){function a(){n(this,a)}return a.prototype.getViewStrategy=function(c){if(!c)return null;if("object"===("undefined"==typeof c?"undefined":Ca(c))&&"getViewStrategy"in c){var t=y.Origin.get(c.constructor);return c=c.getViewStrategy(),"string"==typeof c&&(c=new Ma(c)),La.assert(c),t&&c.makeRelativeTo(t.moduleId),c}if("string"==typeof c&&(c=new Ma(c)),La.validate(c))return c;"function"!=typeof c&&(c=c.constructor);var e=y.Origin.get(c),d=y.metadata.get(a.viewStrategyMetadataKey,c);if(d)e&&(d.moduleId=e.moduleId);else{if(!e)throw new Error("Cannot determinte default view strategy for object.",c);d=this.createFallbackViewStrategy(e)}return d},a.prototype.createFallbackViewStrategy=function(a){return new Na(this,a)},a.prototype.convertOriginToViewUrl=function(a){var c=a.moduleId,t=c.endsWith(".js")||c.endsWith(".ts")?c.substring(0,c.length-3):c;return t+".html"},a}(),sa.viewStrategyMetadataKey="aurelia:view-strategy",Ta),Sa=a.BindingLanguage=function(){function a(){n(this,a)}return a.prototype.inspectAttribute=function(a,c,t){throw new Error("A BindingLanguage must implement inspectAttribute(...)")},a.prototype.createAttributeInstruction=function(a,c,t,y){throw new Error("A BindingLanguage must implement createAttributeInstruction(...)")},a.prototype.parseText=function(a,c){throw new Error("A BindingLanguage must implement parseText(...)")},a}(),Ua=a.ViewResources=function(){function a(c,t){n(this,a),this.bindingLanguage=null,this.parent=c||null,this.hasParent=null!==this.parent,this.viewUrl=t||"",this.lookupFunctions={valueConverters:this.getValueConverter.bind(this),bindingBehaviors:this.getBindingBehavior.bind(this)},this.attributes={},this.elements={},this.valueConverters={},this.bindingBehaviors={},this.attributeMap={},this.beforeCompile=this.afterCompile=this.beforeCreate=this.afterCreate=this.beforeBind=this.beforeUnbind=!1}return a.prototype._tryAddHook=function(a,c){if("function"==typeof a[c]){for(var t=a[c].bind(a),y=1,e=void 0;void 0!==this[e=c+y.toString()];)y++;this[c]=!0,this[e]=t}},a.prototype._invokeHook=function(a,c,t,y,e){if(this.hasParent&&this.parent._invokeHook(a,c,t,y,e),this[a]){this[a+"1"](c,t,y,e);var d=a+"2";if(this[d]&&(this[d](c,t,y,e),d=a+"3",this[d])){this[d](c,t,y,e);for(var h=4;void 0!==this[d=a+h.toString()];)this[d](c,t,y,e),h++}}},a.prototype.registerViewEngineHooks=function(a){this._tryAddHook(a,"beforeCompile"),this._tryAddHook(a,"afterCompile"),this._tryAddHook(a,"beforeCreate"),this._tryAddHook(a,"afterCreate"),this._tryAddHook(a,"beforeBind"),this._tryAddHook(a,"beforeUnbind")},a.prototype.getBindingLanguage=function(a){return this.bindingLanguage||(this.bindingLanguage=a)},a.prototype.patchInParent=function(a){var c=this.parent;this.parent=a||null,this.hasParent=null!==this.parent,null===a.parent&&(a.parent=c,a.hasParent=null!==c)},a.prototype.relativeToView=function(a){return(0,e.relativeToFile)(a,this.viewUrl)},a.prototype.registerElement=function(a,c){r(this.elements,a,c,"an Element")},a.prototype.getElement=function(a){return this.elements[a]||(this.hasParent?this.parent.getElement(a):null)},a.prototype.mapAttribute=function(a){return this.attributeMap[a]||(this.hasParent?this.parent.mapAttribute(a):null)},a.prototype.registerAttribute=function(a,c,t){this.attributeMap[a]=t,r(this.attributes,a,c,"an Attribute")},a.prototype.getAttribute=function(a){return this.attributes[a]||(this.hasParent?this.parent.getAttribute(a):null)},a.prototype.registerValueConverter=function(a,c){r(this.valueConverters,a,c,"a ValueConverter")},a.prototype.getValueConverter=function(a){return this.valueConverters[a]||(this.hasParent?this.parent.getValueConverter(a):null)},a.prototype.registerBindingBehavior=function(a,c){r(this.bindingBehaviors,a,c,"a BindingBehavior")},a.prototype.getBindingBehavior=function(a){return this.bindingBehaviors[a]||(this.hasParent?this.parent.getBindingBehavior(a):null)},a}(),Va=a.View=function(){function a(c,t,y,e,d,h){n(this,a),this.viewFactory=c,this.resources=c.resources,this.fragment=t,this.controllers=y,this.bindings=e,this.children=d,this.contentSelectors=h,this.firstChild=t.firstChild,this.lastChild=t.lastChild,this.fromCache=!1,this.isBound=!1,this.isAttached=!1,this.fromCache=!1,this.bindingContext=null,this.overrideContext=null,this.controller=null,this.viewModelScope=null,this._isUserControlled=!1}return a.prototype.returnToCache=function(){this.viewFactory.returnViewToCache(this)},a.prototype.created=function(){var a=void 0,c=void 0,t=this.controllers;for(a=0,c=t.length;c>a;++a)t[a].created(this)},a.prototype.bind=function(a,c,t){var y=void 0,e=void 0,d=void 0,i=void 0,k=void 0;if(!t||!this._isUserControlled){if(this.isBound){if(this.bindingContext===a)return;this.unbind()}for(this.isBound=!0,this.bindingContext=a,this.overrideContext=c||(0,h.createOverrideContext)(a),this.resources._invokeHook("beforeBind",this),e=this.bindings,i=0,k=e.length;k>i;++i)e[i].bind(this);for(null!==this.viewModelScope&&(a.bind(this.viewModelScope.bindingContext,this.viewModelScope.overrideContext),this.viewModelScope=null),y=this.controllers,i=0,k=y.length;k>i;++i)y[i].bind(this);for(d=this.children,i=0,k=d.length;k>i;++i)d[i].bind(a,c,!0)}},a.prototype.addBinding=function(a){this.bindings.push(a),this.isBound&&a.bind(this.bindingContext)},a.prototype.unbind=function(){var a=void 0,c=void 0,t=void 0,y=void 0,e=void 0;if(this.isBound){for(this.isBound=!1,this.resources._invokeHook("beforeUnbind",this),this.bindingContext=null,this.overrideContext=null,null!==this.controller&&this.controller.unbind(),c=this.bindings,y=0,e=c.length;e>y;++y)c[y].unbind();for(a=this.controllers,y=0,e=a.length;e>y;++y)a[y].unbind();for(t=this.children,y=0,e=t.length;e>y;++y)t[y].unbind()}},a.prototype.insertNodesBefore=function(a){var c=a.parentNode;c.insertBefore(this.fragment,a)},a.prototype.appendNodesTo=function(a){a.appendChild(this.fragment)},a.prototype.removeNodes=function(){for(var a=this.firstChild,c=this.lastChild,t=this.fragment,y=void 0,e=a,d=!0;d;)e===c&&(d=!1),y=e.nextSibling,t.appendChild(e),e=y},a.prototype.attached=function(){var a=void 0,c=void 0,t=void 0,y=void 0;if(!this.isAttached){for(this.isAttached=!0,null!==this.controller&&this.controller.attached(),a=this.controllers,t=0,y=a.length;y>t;++t)a[t].attached();for(c=this.children,t=0,y=c.length;y>t;++t)c[t].attached()}},a.prototype.detached=function(){var a=void 0,c=void 0,t=void 0,y=void 0;if(this.isAttached){for(this.isAttached=!1,null!==this.controller&&this.controller.detached(),a=this.controllers,t=0,y=a.length;y>t;++t)a[t].detached();for(c=this.children,t=0,y=c.length;y>t;++t)c[t].detached()}},a}(),Wa=[],Xa=a._ContentSelector=function(){function a(c,t){n(this,a),this.anchor=c,this.selector=t,this.all=!this.selector,this.groups=[]}return a.applySelectors=function(a,c,t){for(var y=a.fragment.firstChild,e=new Map,d=void 0,h=void 0,i=void 0,k=void 0;y;){if(d=y.nextSibling,y.isContentProjectionSource){var l=c.map(function(a){return a.copyForViewSlot()});y.viewSlot._installContentSelectors(l)}else for(h=0,i=c.length;i>h;h++)if(k=c[h],k.matches(y)){var n=e.get(k);n||(n=[],e.set(k,n)),n.push(y);break}y=d}for(h=0,i=c.length;i>h;++h)k=c[h],t(k,e.get(k)||Wa)},a.prototype.copyForViewSlot=function(){return new a(this.anchor,this.selector)},a.prototype.matches=function(a){return this.all||1===a.nodeType&&a.matches(this.selector)},a.prototype.add=function(a){var c=this.anchor,t=c.parentNode,y=void 0,e=void 0;for(y=0,e=a.length;e>y;++y)t.insertBefore(a[y],c);this.groups.push(a)},a.prototype.insert=function(a,c){if(c.length){var t=s(this.groups,a)||this.anchor,y=t.parentNode,e=void 0,d=void 0;for(e=0,d=c.length;d>e;++e)y.insertBefore(c[e],t)}this.groups.splice(a,0,c)},a.prototype.removeAt=function(a,c){var t=this.groups[a],y=void 0,e=void 0;for(y=0,e=t.length;e>y;++y)c.appendChild(t[y]);this.groups.splice(a,1)},a}(),Ya=a.ViewSlot=function(){function a(c,t){var y=arguments.length<=2||void 0===arguments[2]?Da.instance:arguments[2];n(this,a),this.anchor=c,this.viewAddMethod=t?"appendNodesTo":"insertNodesBefore",this.bindingContext=null,this.overrideContext=null,this.animator=y,this.children=[],this.isBound=!1,this.isAttached=!1,this.contentSelectors=null,c.viewSlot=this,c.isContentProjectionSource=!1}return a.prototype.transformChildNodesIntoView=function(){var a=this.anchor;this.children.push({fragment:a,firstChild:a.firstChild,lastChild:a.lastChild,returnToCache:function(){},removeNodes:function(){for(var c=void 0;c=a.lastChild;)a.removeChild(c)},created:function(){},bind:function(){},unbind:function(){},attached:function(){},detached:function(){}})},a.prototype.bind=function(a,c){var t=void 0,y=void 0,e=void 0;if(this.isBound){if(this.bindingContext===a)return;this.unbind()}for(this.isBound=!0,this.bindingContext=a=a||this.bindingContext,this.overrideContext=c=c||this.overrideContext,e=this.children,t=0,y=e.length;y>t;++t)e[t].bind(a,c,!0)},a.prototype.unbind=function(){if(this.isBound){var a=void 0,c=void 0,t=this.children;for(this.isBound=!1,this.bindingContext=null,this.overrideContext=null,a=0,c=t.length;c>a;++a)t[a].unbind()}},a.prototype.add=function(a){if(a[this.viewAddMethod](this.anchor),this.children.push(a),this.isAttached){a.attached();var c=T(a);if(null!==c)return this.animator.enter(c)}},a.prototype.insert=function(a,c){var t=this.children,y=t.length;if(0===a&&0===y||a>=y)return this.add(c);if(c.insertNodesBefore(t[a].firstChild),t.splice(a,0,c),this.isAttached){c.attached();var e=T(c);if(null!==e)return this.animator.enter(e)}},a.prototype.remove=function(a,c,t){return this.removeAt(this.children.indexOf(a),c,t)},a.prototype.removeAt=function(a,c,t){var y=this,e=this.children[a],d=function(){return a=y.children.indexOf(e),e.removeNodes(),y.children.splice(a,1),y.isAttached&&e.detached(),c&&e.returnToCache(),e};if(!t){var h=T(e);if(null!==h)return this.animator.leave(h).then(function(){return d()})}return d()},a.prototype.removeAll=function(a,c){var t=this,y=this.children,e=y.length,d=void 0,h=[];y.forEach(function(a){if(c)return void a.removeNodes();var y=T(a);null!==y?h.push(t.animator.leave(y).then(function(){return a.removeNodes()})):a.removeNodes()});var i=function(){if(t.isAttached)for(d=0;e>d;++d)y[d].detached();if(a)for(d=0;e>d;++d)y[d].returnToCache();t.children=[]};return h.length>0?Promise.all(h).then(function(){return i()}):void i()},a.prototype.attached=function(){var a=void 0,c=void 0,y=void 0,e=void 0;if(!this.isAttached)for(this.isAttached=!0,y=this.children,a=0,c=y.length;c>a;++a){e=y[a],e.attached();var d=e.firstChild?t.DOM.nextElementSibling(e.firstChild):null;e.firstChild&&8===e.firstChild.nodeType&&d&&1===d.nodeType&&d.classList.contains("au-animate")&&this.animator.enter(d)}},a.prototype.detached=function(){var a=void 0,c=void 0,t=void 0;if(this.isAttached)for(this.isAttached=!1,t=this.children,a=0,c=t.length;c>a;++a)t[a].detached()},a.prototype._installContentSelectors=function(a){this.contentSelectors=a,this.add=this._contentSelectorAdd,this.insert=this._contentSelectorInsert,this.remove=this._contentSelectorRemove,this.removeAt=this._contentSelectorRemoveAt,this.removeAll=this._contentSelectorRemoveAll},a.prototype._contentSelectorAdd=function(a){Xa.applySelectors(a,this.contentSelectors,function(a,c){return a.add(c)}),this.children.push(a),this.isAttached&&a.attached()},a.prototype._contentSelectorInsert=function(a,c){0===a&&!this.children.length||a>=this.children.length?this.add(c):(Xa.applySelectors(c,this.contentSelectors,function(c,t){return c.insert(a,t)}),this.children.splice(a,0,c),this.isAttached&&c.attached())},a.prototype._contentSelectorRemove=function(a){var c=this.children.indexOf(a),t=this.contentSelectors,y=void 0,e=void 0;for(y=0,e=t.length;e>y;++y)t[y].removeAt(c,a.fragment);this.children.splice(c,1),this.isAttached&&a.detached()},a.prototype._contentSelectorRemoveAt=function(a){var c=this.children[a],t=this.contentSelectors,y=void 0,e=void 0;for(y=0,e=t.length;e>y;++y)t[y].removeAt(a,c.fragment);return this.children.splice(a,1),this.isAttached&&c.detached(),c},a.prototype._contentSelectorRemoveAll=function(){var a=this.children,c=this.contentSelectors,t=a.length,y=c.length,e=void 0,d=void 0,h=void 0;for(e=0;t>e;++e)for(h=a[e],d=0;y>d;++d)c[d].removeAt(0,h.fragment);if(this.isAttached)for(e=0;t>e;++e)a[e].detached();this.children=[]},a}(),Za=(0,i.resolver)(ba=function(){function a(){n(this,a)}return a.prototype.get=function(a,c){var t=c.__providerId__;return t in a?a[t]:a[t]=a.invoke(c)},a}())||ba,$a=new Za,_a=a.BoundViewFactory=function(){function a(c,t,y){n(this,a),this.parentContainer=c,this.viewFactory=t,this.factoryCreateInstruction={partReplacements:y}}return a.prototype.create=function(){var a=this.viewFactory.create(this.parentContainer.createChild(),this.factoryCreateInstruction);return a._isUserControlled=!0,a},a.prototype.setCacheSize=function(a,c){this.viewFactory.setCacheSize(a,c)},a.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},a.prototype.returnViewToCache=function(a){this.viewFactory.returnViewToCache(a)},Ba(a,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),a}(),ac=a.ViewFactory=function(){function a(c,t,y){n(this,a),this.isCaching=!1,this.template=c,this.instructions=t,this.resources=y,this.cacheSize=-1,this.cache=null}return a.prototype.setCacheSize=function(a,c){a&&("*"===a?a=Number.MAX_VALUE:"string"==typeof a&&(a=parseInt(a,10))),-1!==this.cacheSize&&c||(this.cacheSize=a),this.cacheSize>0?this.cache=[]:this.cache=null,this.isCaching=this.cacheSize>0},a.prototype.getCachedView=function(){return null!==this.cache?this.cache.pop()||null:null},a.prototype.returnViewToCache=function(a){a.isAttached&&a.detached(),a.isBound&&a.unbind(),null!==this.cache&&this.cache.length<this.cacheSize&&(a.fromCache=!0,this.cache.push(a))},a.prototype.create=function(a,c,t){c=c||Ja.normal,t=t||null;var y=this.getCachedView();if(null!==y)return y;var e=c.enhance?this.template:this.template.cloneNode(!0),d=e.querySelectorAll(".au-target"),h=this.instructions,i=this.resources,k=[],l=[],n=[],o=[],p={root:a},r=c.partReplacements,s=void 0,T=void 0,b=void 0,f=void 0,g=void 0;for(this.resources._invokeHook("beforeCreate",this,a,e,c),null!==t&&null!==this.surrogateInstruction&&u(a,t,this.surrogateInstruction,k,l,n),s=0,T=d.length;T>s;++s)f=d[s],g=h[f.getAttribute("au-target-id")],j(p,f,g,k,l,n,o,r,i);return b=new Va(this,e,k,l,n,o),c.initiatedByBehavior||b.created(),this.resources._invokeHook("afterCreate",b),b},a}(),cc=0,tc=0,yc=a.ViewCompiler=(fa=(0,i.inject)(Sa,Ua),fa(ga=function(){function a(c,t){n(this,a),this.bindingLanguage=c,this.resources=t}return a.prototype.compile=function(a,c,y){c=c||this.resources,y=y||Ia.normal,a="string"==typeof a?t.DOM.createTemplateFromMarkup(a):a;var e=void 0,d=void 0,h=void 0;a.content?(d=a.getAttribute("part"),h=a.getAttribute("view-cache"),e=t.DOM.adoptNode(a.content)):e=a,y.targetShadowDOM=y.targetShadowDOM&&t.FEATURE.shadowDOM,c._invokeHook("beforeCompile",e,c,y);var i={};this._compileNode(e,c,i,a,"root",!y.targetShadowDOM),e.insertBefore(t.DOM.createComment("<view>"),e.firstChild),e.appendChild(t.DOM.createComment("</view>"));var k=new ac(e,i,c);return k.surrogateInstruction=y.compileSurrogate?this._compileSurrogate(a,c):null,k.part=d,h&&k.setCacheSize(h),c._invokeHook("afterCompile",k),k},a.prototype._compileNode=function(a,c,y,e,d,h){switch(a.nodeType){case 1:return this._compileElement(a,c,y,e,d,h);case 3:var i=c.getBindingLanguage(this.bindingLanguage).parseText(c,a.wholeText);if(i){var k=t.DOM.createElement("au-marker"),l=z(k);for((a.parentNode||e).insertBefore(k,a),a.textContent=" ",y[l]=Ka.contentExpression(i);a.nextSibling&&3===a.nextSibling.nodeType;)(a.parentNode||e).removeChild(a.nextSibling)}else for(;a.nextSibling&&3===a.nextSibling.nodeType;)a=a.nextSibling;return a.nextSibling;case 11:for(var n=a.firstChild;n;)n=this._compileNode(n,c,y,a,d,h)}return a.nextSibling},a.prototype._compileSurrogate=function(a,c){var t=a.attributes,y=c.getBindingLanguage(this.bindingLanguage),e=void 0,d=void 0,h=void 0,i=void 0,k=void 0,l=void 0,n=void 0,o=void 0,p=void 0,r=void 0,s=[],T=void 0,b=[],f={},g=!1,j=[];for(i=0,k=t.length;k>i;++i)if(l=t[i],n=l.name,o=l.value,p=y.inspectAttribute(c,n,o),r=c.getAttribute(p.attrName),r&&(e=c.mapAttribute(p.attrName),e&&(d=r.attributes[e],d&&(p.defaultBindingMode=d.defaultBindingMode,p.command||p.expression||(p.command=d.hasOptions?"options":null)))),h=y.createAttributeInstruction(c,a,p,void 0,r))if(h.alteredAttr&&(r=c.getAttribute(h.attrName)),h.discrete)s.push(h);else if(r){if(h.type=r,w(h,c),r.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");b.push(h)}else s.push(h.attributes[h.attrName]);else if(r){if(h=Ja.attribute(n,r),h.attributes[c.mapAttribute(n)]=o,r.liftsContent)throw new Error("You cannot place a template controller on a surrogate element.");b.push(h)}else"id"!==n&&"part"!==n&&"replace-part"!==n&&(g=!0,f[n]=o);if(s.length||b.length||g){for(i=0,k=b.length;k>i;++i)h=b[i],h.type.compile(this,c,a,h),j.push(h.type.target);for(i=0,k=s.length;k>i;++i)T=s[i],void 0!==T.attrToRemove&&a.removeAttribute(T.attrToRemove);return Ka.surrogate(j,b,s,f)}return null},a.prototype._compileElement=function(a,c,t,y,e,d){var h=a.tagName.toLowerCase(),i=a.attributes,k=[],l=void 0,n=[],o=[],p=c.getBindingLanguage(this.bindingLanguage),r=void 0,s=void 0,T=void 0,b=void 0,f=void 0,g=void 0,j=void 0,m=void 0,q=void 0,u=void 0,x=void 0,A=void 0,B=void 0,C=void 0,D=void 0,E=void 0;if("content"===h)return d&&(D=z(a),t[D]=Ka.contentSelector(a,e)),a.nextSibling;for("template"===h?(s=this.compile(a,c),s.part=a.getAttribute("part")):(T=c.getElement(a.getAttribute("as-element")||h),T&&(b=Ja.element(a,T),T.processAttributes(this,c,i,b),n.push(b))),g=0,j=i.length;j>g;++g)if(m=i[g],q=m.name,u=m.value,A=p.inspectAttribute(c,q,u),T=c.getAttribute(A.attrName),f=null,T?(C=c.mapAttribute(A.attrName),C&&(B=T.attributes[C],B&&(A.defaultBindingMode=B.defaultBindingMode,A.command||A.expression||(A.command=B.hasOptions?"options":null)))):b&&(f=b.type.attributes[A.attrName],f&&(A.defaultBindingMode=f.defaultBindingMode)),x=f?p.createAttributeInstruction(c,a,A,b):p.createAttributeInstruction(c,a,A,void 0,T))if(x.alteredAttr&&(T=c.getAttribute(x.attrName)),x.discrete)k.push(x);else if(T){if(x.type=T,w(x,c),T.liftsContent){x.originalAttrName=q,r=x;break}n.push(x)}else f?b.attributes[A.attrName].targetProperty=f.name:k.push(x.attributes[x.attrName]);else if(T){if(x=Ja.attribute(q,T),x.attributes[c.mapAttribute(q)]=u,T.liftsContent){x.originalAttrName=q,r=x;break}n.push(x)}else f&&(b.attributes[q]=u);if(r)r.viewFactory=s,a=r.type.compile(this,c,a,r,y),D=z(a),t[D]=Ka.lifting(e,r);else{if(k.length||n.length){for(E=n.length?v():!1,g=0,j=n.length;j>g;++g)x=n[g],x.type.compile(this,c,a,x,y),o.push(x.type.target);for(g=0,j=k.length;j>g;++g)l=k[g],void 0!==l.attrToRemove&&a.removeAttribute(l.attrToRemove);D=z(a),t[D]=Ka.normal(E,e,o,n,k,b)}if(b&&b.skipContentProcessing)return a.nextSibling;for(var F=a.firstChild;F;)F=this._compileNode(F,c,t,a,E||e,d)}return a.nextSibling},a}())||ga),ec=a.ResourceModule=function(){function a(c){n(this,a),this.id=c,this.moduleInstance=null,this.mainResource=null,this.resources=null,this.viewStrategy=null,this.isInitialized=!1,this.onLoaded=null}return a.prototype.initialize=function(a){var c=this.mainResource,t=this.resources,y=this.viewStrategy;if(!this.isInitialized){this.isInitialized=!0,void 0!==c&&(c.metadata.viewStrategy=y,c.initialize(a));for(var e=0,d=t.length;d>e;++e)c=t[e],c.metadata.viewStrategy=y,c.initialize(a)}},a.prototype.register=function(a,c){var t=this.mainResource,y=this.resources;void 0!==t&&(t.register(a,c),c=null);for(var e=0,d=y.length;d>e;++e)y[e].register(a,c),c=null},a.prototype.load=function(a,c){if(null!==this.onLoaded)return this.onLoaded;var t=this.mainResource,y=this.resources,e=void 0;if(void 0!==t){e=new Array(y.length+1),e[0]=t.load(a,c);for(var d=0,h=y.length;h>d;++d)e[d+1]=y[d].load(a,c)}else{e=new Array(y.length);for(var i=0,k=y.length;k>i;++i)e[i]=y[i].load(a,c)}return this.onLoaded=Promise.all(e),this.onLoaded},a}(),dc=a.ResourceDescription=function(){function a(c,t,e){n(this,a),e||(e=y.metadata.get(y.metadata.resource,t),e||(e=new Tc,e.elementName=p(c),y.metadata.define(y.metadata.resource,e,t))),e instanceof Tc?void 0===e.elementName?e.elementName=p(c):void 0===e.attributeName?e.attributeName=p(c):null===e.attributeName&&null===e.elementName&&Tc.convention(c,e):e.name||(e.name=p(c)),this.metadata=e,this.value=t}return a.prototype.initialize=function(a){this.metadata.initialize(a,this.value)},a.prototype.register=function(a,c){this.metadata.register(a,c)},a.prototype.load=function(a,c){return this.metadata.load(a,this.value,c)},a}(),hc=a.ModuleAnalyzer=function(){function a(){n(this,a),this.cache={}}return a.prototype.getAnalysis=function(a){return this.cache[a]},a.prototype.analyze=function(a,c,t){var e=void 0,i=void 0,k=void 0,l=void 0,n=void 0,o=void 0,r=[],s=void 0,T=void 0,b=void 0;if(b=this.cache[a])return b;b=new ec(a),this.cache[a]=b,"function"==typeof c&&(c={"default":c}),t&&(e=new dc(t,c[t]));for(n in c)o=c[n],n!==t&&"function"==typeof o&&(l=y.metadata.get(y.metadata.resource,o),l?(null===l.attributeName&&null===l.elementName&&Tc.convention(n,l),null===l.attributeName&&null===l.elementName&&(l.elementName=p(n)),!e&&l instanceof Tc&&null!==l.elementName?e=new dc(n,o,l):r.push(new dc(n,o,l))):La.decorates(o)?T=o:o instanceof d.TemplateRegistryEntry?T=new Pa(a,o):(s=Tc.convention(n))?(null===s.elementName||e?r.push(new dc(n,o,s)):e=new dc(n,o,s),y.metadata.define(y.metadata.resource,s,o)):(s=h.ValueConverterResource.convention(n))?(r.push(new dc(n,o,s)),y.metadata.define(y.metadata.resource,s,o)):(s=h.BindingBehaviorResource.convention(n))?(r.push(new dc(n,o,s)),y.metadata.define(y.metadata.resource,s,o)):i||(i=o,k=n));return!e&&i&&(e=new dc(k,i)),b.moduleInstance=c,b.mainResource=e,b.resources=r,b.viewStrategy=T,b},a}(),ic=Aa.getLogger("templating"),kc=function(){function a(c){var t=this;n(this,a),c.then(function(a){return t.viewFactory=a})}return a.prototype.create=function(a,c,t,y){return this.viewFactory.create(a,c,t,y)},a.prototype.setCacheSize=function(a,c){this.viewFactory.setCacheSize(a,c)},a.prototype.getCachedView=function(){return this.viewFactory.getCachedView()},a.prototype.returnViewToCache=function(a){this.viewFactory.returnViewToCache(a)},Ba(a,[{key:"isCaching",get:function(){return this.viewFactory.isCaching}}]),a}(),lc=a.ViewEngine=(ja=(0,i.inject)(d.Loader,i.Container,yc,hc,Ua),ja(ma=function(){function a(c,t,y,e,d){n(this,a),this.loader=c,this.container=t,this.viewCompiler=y,this.moduleAnalyzer=e,this.appResources=d,this._pluginMap={}}return a.prototype.addResourcePlugin=function(a,c){var t=a.replace(".","")+"-resource-plugin";this._pluginMap[a]=t,this.loader.addPlugin(t,c)},a.prototype.loadViewFactory=function(a,c,t){var y=this;return t=t||new Ha,A(this.loader,a).then(function(e){return e.onReady?t.hasDependency(a)?Promise.resolve(new kc(e.onReady)):(t.addDependency(a),e.onReady):(t.addDependency(a),e.onReady=y.loadTemplateResources(e,c,t).then(function(a){e.resources=a;var t=y.viewCompiler.compile(e.template,a,c);return e.factory=t,t}),e.onReady)})},a.prototype.loadTemplateResources=function(a,c,t){var y=new Ua(this.appResources,a.address),e=a.dependencies,d=void 0,h=void 0;return c=c||Ia.normal,0!==e.length||c.associatedModuleId?(d=e.map(function(a){return a.src}),h=e.map(function(a){return a.name}),ic.debug("importing resources for "+a.address,d),this.importViewResources(d,h,y,c,t)):Promise.resolve(y)},a.prototype.importViewModelResource=function(a,c){var t=this;return this.loader.loadModule(a).then(function(e){var d=y.Origin.get(e).moduleId,h=t.moduleAnalyzer.analyze(d,e,c);if(!h.mainResource)throw new Error('No view model found in module "'+a+'".');return h.initialize(t.container),h.mainResource})},a.prototype.importViewResources=function(a,c,t,e,d){var h=this;return d=d||new Ha,e=e||Ia.normal,a=a.map(function(a){return h._applyLoaderPlugin(a)}),this.loader.loadAllModules(a).then(function(a){var i=void 0,k=void 0,l=void 0,n=void 0,o=void 0,p=void 0,r=h.container,s=h.moduleAnalyzer,T=new Array(a.length);for(i=0,k=a.length;k>i;++i)o=a[i],n=y.Origin.get(o).moduleId,l=s.analyze(n,o),l.initialize(r),l.register(t,c[i]),T[i]=l;for(e.associatedModuleId&&(p=s.getAnalysis(e.associatedModuleId),p&&p.register(t)),i=0,k=T.length;k>i;++i)T[i]=T[i].load(r,d);return Promise.all(T).then(function(){return t})})},a.prototype._applyLoaderPlugin=function(a){var c=a.lastIndexOf(".");if(-1!==c){var t=a.substring(c),y=this._pluginMap[t];return void 0===y?a:this.loader.applyPluginToUrl(a,y)}return a},a}())||ma),nc=a.Controller=function(){function a(c,t,y,e){n(this,a),this.behavior=c,this.instruction=t,this.viewModel=y,this.isAttached=!1,this.view=null,this.isBound=!1,this.scope=null,this.elementEvents=e||null;var d=c.observerLocator.getOrCreateObserversLookup(y),h=c.handlesBind,i=t.attributes,k=this.boundProperties=[],l=c.properties,o=void 0,p=void 0;for(c._ensurePropertiesDefined(y,d),o=0,p=l.length;p>o;++o)l[o]._initialize(y,d,i,h,k)}return a.prototype.created=function(a){this.behavior.handlesCreated&&this.viewModel.created(a,this.view)},a.prototype.automate=function(a,c){this.view.bindingContext=this.viewModel,this.view.overrideContext=a||(0,h.createOverrideContext)(this.viewModel),this.view._isUserControlled=!0,this.behavior.handlesCreated&&this.viewModel.created(c||null,this.view),this.bind(this.view)},a.prototype.bind=function(a){var c=this.behavior.handlesBind,t=this.boundProperties,y=void 0,e=void 0,d=void 0,i=void 0,k=void 0;if(this.isBound){if(this.scope===a)return;this.unbind()}for(this.isBound=!0,this.scope=a,y=0,e=t.length;e>y;++y)d=t[y],i=d.observer,k=i.selfSubscriber,i.publishing=!1,c&&(i.selfSubscriber=null),d.binding.bind(a),i.call(),i.publishing=!0,i.selfSubscriber=k;var l=void 0;null!==this.view?(c&&(this.view.viewModelScope=a),this.viewModel===a.overrideContext.bindingContext?l=a.overrideContext:this.instruction.inheritBindingContext?l=(0,h.createOverrideContext)(this.viewModel,a.overrideContext):(l=(0,h.createOverrideContext)(this.viewModel),l.__parentOverrideContext=a.overrideContext),this.view.bind(this.viewModel,l)):c&&(l=a.overrideContext,void 0!==a.overrideContext.__parentOverrideContext&&this.viewModel.viewFactory&&this.viewModel.viewFactory.factoryCreateInstruction.partReplacements&&(l=Object.assign({},a.overrideContext),l.parentOverrideContext=a.overrideContext.__parentOverrideContext),this.viewModel.bind(a.bindingContext,l))},a.prototype.unbind=function(){if(this.isBound){var a=this.boundProperties,c=void 0,t=void 0;for(this.isBound=!1,this.scope=null,null!==this.view&&this.view.unbind(),this.behavior.handlesUnbind&&this.viewModel.unbind(),null!==this.elementEvents&&this.elementEvents.disposeAll(),c=0,t=a.length;t>c;++c)a[c].binding.unbind()}},a.prototype.attached=function(){this.isAttached||(this.isAttached=!0,this.behavior.handlesAttached&&this.viewModel.attached(),null!==this.view&&this.view.attached())},a.prototype.detached=function(){this.isAttached&&(this.isAttached=!1,null!==this.view&&this.view.detached(),this.behavior.handlesDetached&&this.viewModel.detached())},a}(),oc=a.BehaviorPropertyObserver=(qa=(0,h.subscriberCollection)(),qa(ua=function(){function a(c,t,y,e,d){n(this,a),this.taskQueue=c,this.obj=t,this.propertyName=y,this.notqueued=!0,this.publishing=!1,this.selfSubscriber=e,this.currentValue=this.oldValue=d}return a.prototype.getValue=function(){return this.currentValue},a.prototype.setValue=function(a){var c=this.currentValue;c!==a&&(this.publishing&&this.notqueued&&(this.notqueued=!1,this.taskQueue.queueMicroTask(this)),this.oldValue=c,this.currentValue=a)},a.prototype.call=function(){var a=this.oldValue,c=this.currentValue;this.notqueued=!0,c!==a&&(this.selfSubscriber&&this.selfSubscriber(c,a),this.callSubscribers(c,a),this.oldValue=c)},a.prototype.subscribe=function(a,c){this.addSubscriber(a,c)},a.prototype.unsubscribe=function(a,c){this.removeSubscriber(a,c)},a}())||ua),pc=a.BindableProperty=function(){function a(c){n(this,a),"string"==typeof c?this.name=c:Object.assign(this,c),this.attribute=this.attribute||p(this.name),this.defaultBindingMode=this.defaultBindingMode||h.bindingMode.oneWay,this.changeHandler=this.changeHandler||null,this.owner=null,this.descriptor=null}return a.prototype.registerWith=function(a,c,t){return c.properties.push(this),c.attributes[this.attribute]=this,this.owner=c,t?(this.descriptor=t,this._configureDescriptor(c,t)):void 0},a.prototype._configureDescriptor=function(a,c){var t=this.name;return c.configurable=!0,c.enumerable=!0,"initializer"in c&&(this.defaultValue=c.initializer,delete c.initializer,delete c.writable),"value"in c&&(this.defaultValue=c.value,delete c.value,delete c.writable),c.get=function(){return B(a,this,t).getValue()},c.set=function(c){B(a,this,t).setValue(c)},c.get.getObserver=function(c){return B(a,c,t)},c},a.prototype.defineOn=function(a,c){var t=this.name,y=void 0;null===this.changeHandler&&(y=t+"Changed",y in a.prototype&&(this.changeHandler=y)),null===this.descriptor&&Object.defineProperty(a.prototype,t,this._configureDescriptor(c,{}));
},a.prototype.createObserver=function(a){var c=null,t=this.defaultValue,y=this.changeHandler,e=this.name,d=void 0;if(!this.hasOptions){if(y in a)c="propertyChanged"in a?function(c,t){a[y](c,t),a.propertyChanged(e,c,t)}:function(c,t){return a[y](c,t)};else if("propertyChanged"in a)c=function(c,t){return a.propertyChanged(e,c,t)};else if(null!==y)throw new Error("Change handler "+y+" was specified but not declared on the class.");return void 0!==t&&(d="function"==typeof t?t.call(a):t),new oc(this.owner.taskQueue,a,this.name,c,d)}},a.prototype._initialize=function(a,c,t,y,e){var d=void 0,h=void 0,i=void 0,k=this.defaultValue;if(this.isDynamic)for(var l in t)this._createDynamicProperty(a,c,y,l,t[l],e);else this.hasOptions||(h=c[this.name],null!==t&&(d=h.selfSubscriber,i=t[this.attribute],y&&(h.selfSubscriber=null),"string"==typeof i?(a[this.name]=i,h.call()):i?e.push({observer:h,binding:i.createBinding(a)}):void 0!==k&&h.call(),h.selfSubscriber=d),h.publishing=!0)},a.prototype._createDynamicProperty=function(a,c,t,y,e,d){var h=y+"Changed",i=null,k=void 0,l=void 0;h in a?i="propertyChanged"in a?function(c,t){a[h](c,t),a.propertyChanged(y,c,t)}:function(c,t){return a[h](c,t)}:"propertyChanged"in a&&(i=function(c,t){return a.propertyChanged(y,c,t)}),k=c[y]=new oc(this.owner.taskQueue,a,y,i),Object.defineProperty(a,y,{configurable:!0,enumerable:!0,get:k.getValue.bind(k),set:k.setValue.bind(k)}),t&&(k.selfSubscriber=null),"string"==typeof e?(a[y]=e,k.call()):e&&(l={observer:k,binding:e.createBinding(a)},d.push(l)),k.publishing=!0,k.selfSubscriber=i},a}(),rc={enhance:!1},sc=0,Tc=a.HtmlBehaviorResource=function(){function a(){n(this,a),this.elementName=null,this.attributeName=null,this.attributeDefaultBindingMode=void 0,this.liftsContent=!1,this.targetShadowDOM=!1,this.processAttributes=E,this.processContent=D,this.usesShadowDOM=!1,this.childBindings=null,this.hasDynamicOptions=!1,this.containerless=!1,this.properties=[],this.attributes={},this.isInitialized=!1}return a.convention=function(c,t){var y=void 0;return c.endsWith("CustomAttribute")&&(y=t||new a,y.attributeName=p(c.substring(0,c.length-15))),c.endsWith("CustomElement")&&(y=t||new a,y.elementName=p(c.substring(0,c.length-13))),y},a.prototype.addChildBinding=function(a){null===this.childBindings&&(this.childBindings=[]),this.childBindings.push(a)},a.prototype.initialize=function(a,c){var y=c.prototype,e=this.properties,d=this.attributeName,i=this.attributeDefaultBindingMode,l=void 0,n=void 0,o=void 0;if(!this.isInitialized)if(this.isInitialized=!0,c.__providerId__=C(),this.observerLocator=a.get(h.ObserverLocator),this.taskQueue=a.get(k.TaskQueue),this.target=c,this.usesShadowDOM=this.targetShadowDOM&&t.FEATURE.shadowDOM,this.handlesCreated="created"in y,this.handlesBind="bind"in y,this.handlesUnbind="unbind"in y,this.handlesAttached="attached"in y,this.handlesDetached="detached"in y,this.htmlName=this.elementName||this.attributeName,null!==d)if(0===e.length&&new pc({name:"value",changeHandler:"valueChanged"in y?"valueChanged":null,attribute:d,defaultBindingMode:i}).registerWith(c,this),o=e[0],1===e.length&&"value"===o.name)o.isDynamic=o.hasOptions=this.hasDynamicOptions,o.defineOn(c,this);else{for(l=0,n=e.length;n>l;++l)e[l].defineOn(c,this);o=new pc({name:"value",changeHandler:"valueChanged"in y?"valueChanged":null,attribute:d,defaultBindingMode:i}),o.hasOptions=!0,o.registerWith(c,this)}else for(l=0,n=e.length;n>l;++l)e[l].defineOn(c,this)},a.prototype.register=function(a,c){null!==this.attributeName&&a.registerAttribute(c||this.attributeName,this,this.attributeName),null!==this.elementName&&a.registerElement(c||this.elementName,this)},a.prototype.load=function(a,c,t,e,d){var h=this,i=void 0;return null!==this.elementName?(e=a.get(Ra).getViewStrategy(e||this.viewStrategy||c),i=new Ia(this.targetShadowDOM,!0),e.moduleId||(e.moduleId=y.Origin.get(c).moduleId),e.loadViewFactory(a.get(lc),i,t).then(function(a){return d&&h.viewFactory||(h.viewFactory=a),a})):Promise.resolve(this)},a.prototype.compile=function(a,c,y,e,d){if(this.liftsContent){if(!e.viewFactory){var h=t.DOM.createElement("template"),i=t.DOM.createDocumentFragment(),k=y.getAttribute("view-cache"),l=y.getAttribute("part");y.removeAttribute(e.originalAttrName),t.DOM.replaceNode(h,y,d),i.appendChild(y),e.viewFactory=a.compile(i,c),l&&(e.viewFactory.part=l,y.removeAttribute("part")),k&&(e.viewFactory.setCacheSize(k),y.removeAttribute("view-cache")),y=h}}else if(null!==this.elementName){var n={};if(this.processContent(a,c,y,e)&&y.hasChildNodes())if(this.usesShadowDOM){for(var o=y.firstChild,p=void 0,r=void 0;o;)p=o.nextSibling,"TEMPLATE"===o.tagName&&(r=o.getAttribute("replace-part"))&&(n[r]=a.compile(o,c),t.DOM.removeNode(o,d),e.partReplacements=n),o=p;e.skipContentProcessing=!1}else{for(var s=t.DOM.createDocumentFragment(),T=y.firstChild,b=void 0,f=void 0;T;)b=T.nextSibling,"TEMPLATE"===T.tagName&&(f=T.getAttribute("replace-part"))?(n[f]=a.compile(T,c),t.DOM.removeNode(T,d),e.partReplacements=n):s.appendChild(T),T=b;e.contentFactory=a.compile(s,c),e.skipContentProcessing=!0}else e.skipContentProcessing=!0}return y},a.prototype.create=function(a,c,y,e){var d=void 0,h=null;c=c||Ja.normal,y=y||null,e=e||null,null!==this.elementName&&y&&(this.usesShadowDOM?(d=y.createShadowRoot(),a.registerInstance(t.DOM.boundary,d)):(d=y,this.targetShadowDOM&&a.registerInstance(t.DOM.boundary,d))),null!==y&&(y.au=h=y.au||{});var i=c.viewModel||a.get(this.target),k=new nc(this,c,i,a.elementEvents),l=this.childBindings,n=void 0;if(this.liftsContent)h.controller=k;else if(null!==this.elementName){if(n=c.viewFactory||this.viewFactory,a.viewModel=i,n&&(k.view=n.create(a,c,y)),null!==y){if(h.controller=k,k.view){if(!this.usesShadowDOM&&c.contentFactory){var o=c.contentFactory.create(a,rc);Xa.applySelectors(o,k.view.contentSelectors,function(a,c){return a.add(c)}),k.contentView=o}if(c.anchorIsContainer){if(null!==l)for(var p=0,r=l.length;r>p;++p)k.view.addBinding(l[p].create(y,i));k.view.appendNodesTo(d)}else k.view.insertNodesBefore(d)}else if(null!==l)for(var s=0,T=l.length;T>s;++s)e.push(l[s].create(y,i))}else if(k.view){if(k.view.controller=k,null!==l)for(var b=0,f=l.length;f>b;++b)k.view.addBinding(l[b].create(c.host,i))}else if(null!==l)for(var g=0,j=l.length;j>g;++g)e.push(l[g].create(c.host,i))}else if(null!==l)for(var m=0,q=l.length;q>m;++m)e.push(l[m].create(y,i));return null!==h&&(h[this.htmlName]=k),c.initiatedByBehavior&&n&&k.view.created(),k},a.prototype._ensurePropertiesDefined=function(a,c){var t=void 0,y=void 0,e=void 0,d=void 0;if(!("__propertiesDefined__"in c))for(c.__propertiesDefined__=!0,t=this.properties,y=0,e=t.length;e>y;++y)d=t[y].createObserver(a),void 0!==d&&(c[d.propertyName]=d)},a}(),bc=function(){function a(c){n(this,a),this.name=c.name,this.changeHandler=c.changeHandler||this.name+"Changed",this.selector=c.selector,this.all=c.all}return a.prototype.create=function(a,c){return new gc(this.selector,a,this.name,c,this.changeHandler,this.all)},a}(),fc=[],gc=function(){function a(c,t,y,e,d,h){n(this,a),this.selector=c,this.target=t,this.property=y,this.viewModel=e,this.changeHandler=d in e?d:null,this.all=h}return a.prototype.bind=function(a){var c=this.target,y=this.viewModel,e=this.selector,d=c.firstElementChild,h=c.__childObserver__;if(h||(h=c.__childObserver__=t.DOM.createMutationObserver(J),h.observe(c,{childList:!0}),h.binders=[]),h.binders.push(this),this.all){var i=y[this.property];for(i?i.length=0:i=y[this.property]=[];d;)d.matches(e)&&i.push(d.au&&d.au.controller?d.au.controller.viewModel:d),d=d.nextElementSibling;null!==this.changeHandler&&this.viewModel[this.changeHandler](fc)}else for(;d;){if(d.matches(e)){var k=d.au&&d.au.controller?d.au.controller.viewModel:d;this.viewModel[this.property]=k,null!==this.changeHandler&&this.viewModel[this.changeHandler](k);break}d=d.nextElementSibling}},a.prototype.onRemove=function(a){if(a.matches(this.selector)){var c=a.au&&a.au.controller?a.au.controller.viewModel:a;if(this.all){var t=this.viewModel[this.property],y=t.indexOf(c);return-1!==y&&t.splice(y,1),!0}return!1}},a.prototype.onAdd=function(a){var c=this.selector;if(a.matches(c)){var t=a.au&&a.au.controller?a.au.controller.viewModel:a;if(this.all){for(var y=this.viewModel[this.property],e=0,d=a.previousElementSibling;d;)d.matches(c)&&e++,d=d.previousElementSibling;return y.splice(e,0,t),!0}this.viewModel[this.property]=t,null!==this.changeHandler&&this.viewModel[this.changeHandler](t)}return!1},a.prototype.unbind=function(){this.target.__childObserver__&&(this.target.__childObserver__.disconnect(),this.target.__childObserver__=null)},a}(),jc=a.CompositionEngine=(va=(0,i.inject)(lc,Ra),va(wa=function(){function a(c,t){n(this,a),this.viewEngine=c,this.viewLocator=t}return a.prototype._createControllerAndSwap=function(a){function c(c){return Promise.resolve(a.viewSlot.removeAll(!0)).then(function(){return a.currentController&&a.currentController.unbind(),a.viewSlot.add(c.view),a.compositionTransactionNotifier&&a.compositionTransactionNotifier.done(),c})}return this.createController(a).then(function(t){return t.automate(a.overrideContext,a.owningView),a.compositionTransactionOwnershipToken?a.compositionTransactionOwnershipToken.waitForCompositionComplete().then(function(){return c(t)}):c(t)})},a.prototype.createController=function(a){var c=this,t=void 0,y=void 0,e=void 0,d=void 0;return this.ensureViewModel(a).then(K).then(function(){t=a.childContainer,y=a.viewModel,e=a.viewModelResource,d=e.metadata;var h=c.viewLocator.getViewStrategy(a.view||y);return a.viewResources&&h.makeRelativeTo(a.viewResources.viewUrl),d.load(t,e.value,null,h,!0)}).then(function(c){return d.create(t,Ja.dynamic(a.host,y,c))})},a.prototype.ensureViewModel=function(a){var c=a.childContainer=a.childContainer||a.container.createChild();if("string"==typeof a.viewModel)return a.viewModel=a.viewResources?a.viewResources.relativeToView(a.viewModel):a.viewModel,this.viewEngine.importViewModelResource(a.viewModel).then(function(y){return c.autoRegister(y.value),a.host&&c.registerInstance(t.DOM.Element,a.host),a.viewModel=c.viewModel=c.get(y.value),a.viewModelResource=y,a});var e=y.metadata.getOrCreateOwn(y.metadata.resource,Tc,a.viewModel.constructor);return e.elementName=e.elementName||"dynamic-element",e.initialize(a.container||c,a.viewModel.constructor),a.viewModelResource={metadata:e,value:a.viewModel.constructor},c.viewModel=a.viewModel,Promise.resolve(a)},a.prototype.compose=function(a){a.childContainer=a.childContainer||a.container.createChild(),a.view=this.viewLocator.getViewStrategy(a.view);var c=a.childContainer.get(Ea),t=c.tryCapture();return t?a.compositionTransactionOwnershipToken=t:a.compositionTransactionNotifier=c.enlist(),a.viewModel?this._createControllerAndSwap(a):a.view?(a.viewResources&&a.view.makeRelativeTo(a.viewResources.viewUrl),a.view.loadViewFactory(this.viewEngine,new Ia).then(function(c){var t=c.create(a.childContainer);t.bind(a.bindingContext,a.overrideContext);var y=function(){return Promise.resolve(a.viewSlot.removeAll(!0)).then(function(){return a.viewSlot.add(t),a.compositionTransactionNotifier&&a.compositionTransactionNotifier.done(),t})};return a.compositionTransactionOwnershipToken?a.compositionTransactionOwnershipToken.waitForCompositionComplete().then(y):y()})):a.viewSlot?(a.viewSlot.removeAll(),a.compositionTransactionNotifier&&a.compositionTransactionNotifier.done(),Promise.resolve(null)):void 0},a}())||wa),mc=a.ElementConfigResource=function(){function a(){n(this,a)}return a.prototype.initialize=function(a,c){},a.prototype.register=function(a,c){},a.prototype.load=function(a,c){var t=new c,y=a.get(h.EventManager);y.registerElementConfig(t)},a}();a.TemplatingEngine=(xa=(0,i.inject)(i.Container,hc,yc,jc),xa(za=function(){function a(c,t,y,e){n(this,a),this._container=c,this._moduleAnalyzer=t,this._viewCompiler=y,this._compositionEngine=e,c.registerInstance(Da,Da.instance=new Da)}return a.prototype.configureAnimator=function(a){this._container.unregister(Da),this._container.registerInstance(Da,Da.instance=a)},a.prototype.compose=function(a){return this._compositionEngine.compose(a)},a.prototype.enhance=function(a){a instanceof t.DOM.Element&&(a={element:a});var c={},y=a.resources||this._container.get(Ua);this._viewCompiler._compileNode(a.element,y,c,a.element.parentNode,"root",!0);var e=new ac(a.element,c,y),d=a.container||this._container.createChild(),h=e.create(d,Ja.enhance());return h.bind(a.bindingContext||{}),h},a.prototype.createControllerForUnitTest=function(a,c){var t,y=a.name,e=this._moduleAnalyzer.analyze("test-module",(t={},t[y]=a,t),y),d=e.mainResource;d.initialize(this._container);var h=this._container.get(a),i=Ja.unitTest(d,c);return new nc(d.metadata,i,h)},a.prototype.createViewModelForUnitTest=function(a,c,t){var y=this.createControllerForUnitTest(a,c);return y.bind((0,h.createScopeForTest)(t)),y.viewModel},a}())||za)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating@1.0.0-beta.1.2.0.js",["npm:aurelia-templating@1.0.0-beta.1.2.0/aurelia-templating"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-path@1.0.0-beta.1.2.0/aurelia-path.js",["exports"],function(a){"use strict";function c(a){for(var c=0;c<a.length;++c){var t=a[c];if("."===t)a.splice(c,1),c-=1;else if(".."===t){if(0===c||1===c&&".."===a[2]||".."===a[c-1])continue;c>0&&(a.splice(c-1,2),c-=2)}}}function t(a,t){var y=t&&t.split("/"),e=a.trim().split("/");if("."===e[0].charAt(0)&&y){var d=y.slice(0,y.length-1);e.unshift.apply(e,d)}return c(e),e.join("/")}function y(a,c){if(!a)return c;if(!c)return a;var t=a.match(/^([^\/]*?:)\//),y=t&&t.length>0?t[1]:"";a=a.substr(y.length);var e=void 0;e=0===a.indexOf("///")&&"file:"===y?"///":0===a.indexOf("//")?"//":0===a.indexOf("/")?"/":"";for(var d="/"===c.slice(-1)?"/":"",h=a.split("/"),i=c.split("/"),k=[],l=0,n=h.length;n>l;++l)if(".."===h[l])k.pop();else{if("."===h[l]||""===h[l])continue;k.push(h[l])}for(var o=0,p=i.length;p>o;++o)if(".."===i[o])k.pop();else{if("."===i[o]||""===i[o])continue;k.push(i[o])}return y+e+k.join("/")+d}function e(a,c){var t=[];if(null===c||void 0===c)return t;if(Array.isArray(c))for(var y=0,d=c.length;d>y;y++){var h=a+"["+("object"===l(c[y])&&null!==c[y]?y:"")+"]";t=t.concat(e(h,c[y]))}else if("object"===("undefined"==typeof c?"undefined":l(c)))for(var i in c)t=t.concat(e(a+"["+i+"]",c[i]));else t.push(o(a)+"="+n(c));return t}function d(a){for(var c=[],t=Object.keys(a||{}).sort(),y=0,d=t.length;d>y;y++){var h=t[y];c=c.concat(e(h,a[h]))}return 0===c.length?"":c.join("&")}function h(a,c,t){return Array.isArray(a)?(a.push(c),a):void 0!==a?t?c:[a,c]:c}function i(a,c,t){for(var y=a,e=c.length-1,d=0;e>=d;d++){var h=""===c[d]?y.length:c[d];y=e>d?y[h]=y[h]||(isNaN(c[d+1])?{}:[]):y[h]=t}}function k(a){var c={};if(!a||"string"!=typeof a)return c;var t=a;"?"===t.charAt(0)&&(t=t.substr(1));for(var y=t.replace(/\+/g," ").split("&"),e=0;e<y.length;e++){var d=y[e].split("="),k=decodeURIComponent(d[0]),l=!1;if(k){var n=k.split("]["),o=n.length-1;if(/\[/.test(n[0])&&/\]$/.test(n[o])?(n[o]=n[o].replace(/\]$/,""),n=n.shift().split("[").concat(n),o=n.length-1):(l=!0,o=0),2===d.length){var p=d[1]?decodeURIComponent(d[1]):"";o?i(c,n,p):c[k]=h(c[k],p,l)}else c[k]=!0}}return c}Object.defineProperty(a,"__esModule",{value:!0}),a.relativeToFile=t,a.join=y,a.buildQueryString=d,a.parseQueryString=k;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},n=encodeURIComponent,o=function(a){return n(a).replace("%24","$")}})}(),function(){var a=System.amdDefine;a("npm:aurelia-path@1.0.0-beta.1.2.0.js",["npm:aurelia-path@1.0.0-beta.1.2.0/aurelia-path"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-route-recognizer@1.0.0-beta.1.2.0/aurelia-route-recognizer.js",["exports","aurelia-path"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(a,c,t){var y=a;"/"===a.charAt(0)&&(y=a.substr(1));for(var e=[],d=y.split("/"),h=0,i=d.length;i>h;++h){var k=d[h],l=k.match(/^:([^\/]+)$/);l?(e.push(new p(l[1])),c.push(l[1]),t.dynamics++):(l=k.match(/^\*([^\/]+)$/),l?(e.push(new r(l[1])),c.push(l[1]),t.stars++):""===k?e.push(new s):(e.push(new o(k)),t.statics++))}return e}function e(a){return a.sort(function(a,c){if(a.types.stars!==c.types.stars)return a.types.stars-c.types.stars;if(a.types.stars){if(a.types.statics!==c.types.statics)return c.types.statics-a.types.statics;if(a.types.dynamics!==c.types.dynamics)return c.types.dynamics-a.types.dynamics}return a.types.dynamics!==c.types.dynamics?a.types.dynamics-c.types.dynamics:a.types.statics!==c.types.statics?c.types.statics-a.types.statics:0})}function d(a,c){for(var t=[],y=0,e=a.length;e>y;y++){var d=a[y];t.push.apply(t,d.match(c))}return t}function h(a,c,t){for(var y=a.handlers,e=a.regex,d=c.match(e),h=1,i=new T(t),k=0,l=y.length;l>k;k++){for(var n=y[k],o=n.names,p={},r=0,s=o.length;s>r;r++)p[o[r]]=d[h++];i.push({handler:n.handler,params:p,isDynamic:!!o.length})}return i}function i(a,c){var t=a;return c.eachChar(function(a){t=t.put(a)}),t}Object.defineProperty(a,"__esModule",{value:!0}),a.RouteRecognizer=a.EpsilonSegment=a.StarSegment=a.DynamicSegment=a.StaticSegment=a.State=void 0;var k=a.State=function(){function a(c){t(this,a),this.charSpec=c,this.nextStates=[]}return a.prototype.get=function(a){for(var c=this.nextStates,t=Array.isArray(c),y=0,c=t?c:c[Symbol.iterator]();;){var e;if(t){if(y>=c.length)break;e=c[y++]}else{if(y=c.next(),y.done)break;e=y.value}var d=e,h=d.charSpec.validChars===a.validChars&&d.charSpec.invalidChars===a.invalidChars;if(h)return d}},a.prototype.put=function(c){var t=this.get(c);return t?t:(t=new a(c),this.nextStates.push(t),c.repeat&&t.nextStates.push(t),t)},a.prototype.match=function(a){for(var c=this.nextStates,t=[],y=0,e=c.length;e>y;y++){var d=c[y],h=d.charSpec;void 0!==h.validChars?-1!==h.validChars.indexOf(a)&&t.push(d):void 0!==h.invalidChars&&-1===h.invalidChars.indexOf(a)&&t.push(d)}return t},a}(),l=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],n=new RegExp("(\\"+l.join("|\\")+")","g"),o=a.StaticSegment=function(){function a(c){t(this,a),this.string=c}return a.prototype.eachChar=function(a){for(var c=this.string,t=0,y=c.length;y>t;++t){var e=c[t];a({validChars:e})}},a.prototype.regex=function(){return this.string.replace(n,"\\$1")},a.prototype.generate=function(){return this.string},a}(),p=a.DynamicSegment=function(){function a(c){t(this,a),this.name=c}return a.prototype.eachChar=function(a){a({invalidChars:"/",repeat:!0})},a.prototype.regex=function(){return"([^/]+)"},a.prototype.generate=function(a,c){return c[this.name]=!0,a[this.name]},a}(),r=a.StarSegment=function(){function a(c){t(this,a),this.name=c}return a.prototype.eachChar=function(a){a({invalidChars:"",repeat:!0})},a.prototype.regex=function(){return"(.+)"},a.prototype.generate=function(a,c){return c[this.name]=!0,a[this.name]},a}(),s=a.EpsilonSegment=function(){function a(){t(this,a)}return a.prototype.eachChar=function(){},a.prototype.regex=function(){return""},a.prototype.generate=function(){return""},a}(),T=(a.RouteRecognizer=function(){function a(){t(this,a),this.rootState=new k,this.names={}}return a.prototype.add=function(a){var c=this;if(Array.isArray(a))return void a.forEach(function(a){return c.add(a)});for(var t=this.rootState,e="^",d={statics:0,dynamics:0,stars:0},h=[],k=a.handler.name,l=!0,n=y(a.path,h,d),o=0,p=n.length;p>o;o++){var r=n[o];r instanceof s||(l=!1,t=t.put({validChars:"/"}),e+="/",t=i(t,r),e+=r.regex())}l&&(t=t.put({validChars:"/"}),e+="/");var T=[{handler:a.handler,names:h}];if(k)for(var b=Array.isArray(k)?k:[k],f=0;f<b.length;f++)this.names[b[f]]={segments:n,handlers:T};return t.handlers=T,t.regex=new RegExp(e+"$"),t.types=d,t},a.prototype.handlersFor=function(a){var c=this.names[a];if(!c)throw new Error("There is no route named "+a);return[].concat(c.handlers)},a.prototype.hasRoute=function(a){return!!this.names[a]},a.prototype.generate=function(a,t){var y=Object.assign({},t),e=this.names[a];if(!e)throw new Error("There is no route named "+a);for(var d=e.segments,h={},i="",k=0,l=d.length;l>k;k++){var n=d[k];if(!(n instanceof s)){i+="/";var o=n.generate(y,h);if(null===o||void 0===o)throw new Error("A value is required for route parameter '"+n.name+"' in route '"+a+"'.");i+=o}}"/"!==i.charAt(0)&&(i="/"+i);for(var p in h)delete y[p];var r=(0,c.buildQueryString)(y);return i+=r?"?"+r:""},a.prototype.recognize=function(a){var t=[this.rootState],y={},i=!1,k=a,l=k.indexOf("?");if(-1!==l){var n=k.substr(l+1,k.length);k=k.substr(0,l),y=(0,c.parseQueryString)(n)}k=decodeURI(k),"/"!==k.charAt(0)&&(k="/"+k);var o=k.length;o>1&&"/"===k.charAt(o-1)&&(k=k.substr(0,o-1),i=!0);for(var p=0,r=k.length;r>p&&(t=d(t,k.charAt(p)),t.length);p++);for(var s=[],T=0,b=t.length;b>T;T++)t[T].handlers&&s.push(t[T]);t=e(s);var f=s[0];return f&&f.handlers?(i&&"(.+)$"===f.regex.source.slice(-5)&&(k+="/"),h(f,k,y)):void 0},a}(),function b(a){t(this,b),this.splice=Array.prototype.splice,this.slice=Array.prototype.slice,this.push=Array.prototype.push,this.length=0,this.queryParams=a||{}})})}(),function(){var a=System.amdDefine;a("npm:aurelia-route-recognizer@1.0.0-beta.1.2.0.js",["npm:aurelia-route-recognizer@1.0.0-beta.1.2.0/aurelia-route-recognizer"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-metadata@1.0.0-beta.1.2.0/aurelia-metadata.js",["exports","aurelia-pal"],function(a,c){"use strict";function t(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function y(){for(var a=arguments.length,c=Array(a),t=0;a>t;t++)c[t]=arguments[t];var y=function(a,t,y){var e=c.length;if(t){for(y=y||{value:a[t],writable:!0,configurable:!0,enumerable:!0};e--;)y=c[e](a,t,y)||y;Object.defineProperty(a,t,y)}else for(;e--;)a=c[e](a)||a;return a};return y.on=y,y}function e(a,c,t){function y(t,y,e){var d=t.constructor.name+"#"+y,h=c?{}:a||{},i="DEPRECATION - "+d;if("function"!=typeof e.value)throw new SyntaxError("Only methods can be marked as deprecated.");return h.message&&(i+=" - "+h.message),p({},e,{value:function(){if(h.error)throw new Error(i);return console.warn(i),e.value.apply(this,arguments)}})}return c?y(a,c,t):y}function d(a){function c(c){var y=function(c){for(var y="function"==typeof c?c.prototype:c,e=t.length;e--;){var d=t[e];Object.defineProperty(y,d,{value:a[d],writable:!0})}};return c?y(c):y}var t=Object.keys(a);return c}function h(){return!0}function i(){}function k(a){return void 0===a?a={}:"function"==typeof a&&(a={validate:a}),a.validate||(a.validate=h),a.compose||(a.compose=i),a}function l(a){return function(c){var t=a(c);return t===!0}}function n(a,c){return function(t){var y=c(t);if(y!==!0)throw new Error(y||a+" was not correctly implemented.")}}function o(a,c){c=k(c);var t=function y(t){var e="function"==typeof t?t.prototype:t;c.compose(e),y.assert(e),Object.defineProperty(e,"protocol:"+a,{enumerable:!1,configurable:!1,writable:!1,value:!0})};return t.validate=l(c.validate),t.assert=n(a,c.validate),t}Object.defineProperty(a,"__esModule",{value:!0}),a.Origin=a.metadata=void 0,a.decorators=y,a.deprecated=e,a.mixin=d,a.protocol=o;var p=Object.assign||function(a){for(var c=1;c<arguments.length;c++){var t=arguments[c];for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(a[y]=t[y])}return a},r=a.metadata={resource:"aurelia:resource",paramTypes:"design:paramtypes",properties:"design:properties",get:function(a,c,t){if(c){var y=r.getOwn(a,c,t);return void 0===y?r.get(a,Object.getPrototypeOf(c),t):y}},getOwn:function(a,c,t){return c?Reflect.getOwnMetadata(a,c,t):void 0},define:function(a,c,t,y){Reflect.defineMetadata(a,c,t,y)},getOrCreateOwn:function(a,c,t,y){var e=r.getOwn(a,t,y);return void 0===e&&(e=new c,Reflect.defineMetadata(a,e,t,y)),e}},s=new Map,T=Object.freeze({moduleId:void 0,moduleMember:void 0});a.Origin=function(){function a(c,y){t(this,a),this.moduleId=c,this.moduleMember=y}return a.get=function(t){var y=s.get(t);return void 0===y&&c.PLATFORM.eachModule(function(c,e){for(var d in e){var h=e[d];if(h===t)return s.set(t,y=new a(c,d)),!0}return e===t?(s.set(t,y=new a(c,"default")),!0):void 0}),y||T},a.set=function(a,c){s.set(a,c)},a}();o.create=function(a,c){c=k(c);var t="protocol:"+a,y=function(t){var y=o(a,c);return t?y(t):y};return y.decorates=function(a){return a[t]===!0},y.validate=l(c.validate),y.assert=n(a,c.validate),y}})}(),function(){var a=System.amdDefine;a("npm:aurelia-metadata@1.0.0-beta.1.2.0.js",["npm:aurelia-metadata@1.0.0-beta.1.2.0/aurelia-metadata"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-dependency-injection@1.0.0-beta.1.2.0/aurelia-dependency-injection.js",["exports","aurelia-metadata","aurelia-pal"],function(a,c,t){"use strict";function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function e(a){return function(t){c.metadata.define(c.metadata.invoker,a,t)}}function d(a){var t=function(a){c.metadata.define(c.metadata.invoker,B.instance,a)};return a?t(a):t}function h(a){return function(t){c.metadata.define(c.metadata.registration,a,t)}}function i(a){return h(new C(a))}function k(a){var c=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return h(new D(a,c))}function l(a,c,t,y){for(var e=t.length,d=new Array(e);e--;)d[e]=a.get(t[e]);return void 0!==y&&(d=d.concat(y)),Reflect.construct(c,d)}function n(a){return a.hasOwnProperty("inject")?"function"==typeof a.inject?a.inject():a.inject:[]}function o(a){var t=function(a){a.inject=c.metadata.getOwn(c.metadata.paramTypes,a)||F};return a?t(a):t}function p(){for(var a=arguments.length,c=Array(a),t=0;a>t;t++)c[t]=arguments[t];return function(a,t,y){if(y){var e=y.value;e.inject=c}else a.inject=c}}Object.defineProperty(a,"__esModule",{value:!0}),a.Container=a.InvocationHandler=a._emptyParameters=a.SingletonRegistration=a.TransientRegistration=a.FactoryInvoker=a.Factory=a.StrategyResolver=a.Parent=a.Optional=a.All=a.Lazy=a.resolver=void 0,a.invoker=e,a.factory=d,a.registration=h,a["transient"]=i,a.singleton=k,a.autoinject=o,a.inject=p;var r,s,T,b,f,g,j,m,q,u,v,w,x,z=a.resolver=c.protocol.create("aurelia:resolver",function(a){return"function"!=typeof a.get?"Resolvers must implement: get(container: Container, key: any): any":!0}),A=(a.Lazy=(r=z(),r(s=function(){function a(c){y(this,a),this._key=c}return a.prototype.get=function(a){var c=this;return function(){return a.get(c._key)}},a.of=function(c){return new a(c)},a}())||s),a.All=(T=z(),T(b=function(){function a(c){y(this,a),this._key=c}return a.prototype.get=function(a){return a.getAll(this._key)},a.of=function(c){return new a(c)},a}())||b),a.Optional=(f=z(),f(g=function(){function a(c){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];y(this,a),this._key=c,this._checkParent=t}return a.prototype.get=function(a){return a.hasResolver(this._key,this._checkParent)?a.get(this._key):null},a.of=function(c){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return new a(c,t)},a}())||g),a.Parent=(j=z(),j(m=function(){function a(c){y(this,a),this._key=c}return a.prototype.get=function(a){return a.parent?a.parent.get(this._key):null},a.of=function(c){return new a(c)},a}())||m),a.StrategyResolver=(q=z(),q(u=function(){function a(c,t){y(this,a),this.strategy=c,this.state=t}return a.prototype.get=function(a,c){switch(this.strategy){case 0:return this.state;case 1:var t=a.invoke(this.state);return this.state=t,this.strategy=0,t;case 2:return a.invoke(this.state);case 3:return this.state(a,c,this);case 4:return this.state[0].get(a,c);case 5:return a.get(this.state);default:throw new Error("Invalid strategy: "+this.strategy)}},a}())||u)),B=(a.Factory=(v=z(),v(w=function(){function a(c){y(this,a),this._key=c}return a.prototype.get=function(a){var c=this;return function(){for(var t=arguments.length,y=Array(t),e=0;t>e;e++)y[e]=arguments[e];return a.invoke(c._key,y)}},a.of=function(c){return new a(c)},a}())||w),a.FactoryInvoker=function(){function a(){y(this,a)}return a.prototype.invoke=function(a,c,t){for(var y=t.length,e=new Array(y);y--;)e[y]=a.get(t[y]);return c.apply(void 0,e)},a.prototype.invokeWithDynamicDependencies=function(a,c,t,y){for(var e=t.length,d=new Array(e);e--;)d[e]=a.get(t[e]);return void 0!==y&&(d=d.concat(y)),c.apply(void 0,d)},a}());B.instance=new B;var C=a.TransientRegistration=function(){function a(c){y(this,a),this._key=c}return a.prototype.registerResolver=function(a,c,t){var y=new A(2,t);return a.registerResolver(this._key||c,y),y},a}(),D=a.SingletonRegistration=function(){function a(c){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];y(this,a),"boolean"==typeof c?this._registerInChild=c:(this._key=c,this._registerInChild=t)}return a.prototype.registerResolver=function(a,c,t){var y=new A(1,t);return this._registerInChild?a.registerResolver(this._key||c,y):a.root.registerResolver(this._key||c,y),y},a}(),E="key/value cannot be null or undefined. Are you trying to inject/register something that doesn't exist with DI?",F=a._emptyParameters=Object.freeze([]);c.metadata.registration="aurelia:registration",c.metadata.invoker="aurelia:invoker";var G=z.decorates,H=a.InvocationHandler=function(){function a(c,t,e){y(this,a),this.fn=c,this.invoker=t,this.dependencies=e}return a.prototype.invoke=function(a,c){return void 0!==c?this.invoker.invokeWithDynamicDependencies(a,this.fn,this.dependencies,c):this.invoker.invoke(a,this.fn,this.dependencies)},a}(),I=(x={},x[0]={invoke:function(a,c){return new c},invokeWithDynamicDependencies:l},x[1]={invoke:function(a,c,t){return new c(a.get(t[0]))},invokeWithDynamicDependencies:l},x[2]={invoke:function(a,c,t){return new c(a.get(t[0]),a.get(t[1]))},invokeWithDynamicDependencies:l},x[3]={invoke:function(a,c,t){return new c(a.get(t[0]),a.get(t[1]),a.get(t[2]))},invokeWithDynamicDependencies:l},x[4]={invoke:function(a,c,t){return new c(a.get(t[0]),a.get(t[1]),a.get(t[2]),a.get(t[3]))},invokeWithDynamicDependencies:l},x[5]={invoke:function(a,c,t){return new c(a.get(t[0]),a.get(t[1]),a.get(t[2]),a.get(t[3]),a.get(t[4]))},invokeWithDynamicDependencies:l},x.fallback={invoke:l,invokeWithDynamicDependencies:l},x);a.Container=function(){function a(c){y(this,a),void 0===c&&(c={}),this._configuration=c,this._onHandlerCreated=c.onHandlerCreated,this._handlers=c.handlers||(c.handlers=new Map),this._resolvers=new Map,this.root=this,this.parent=null}return a.prototype.makeGlobal=function(){return a.instance=this,this},a.prototype.setHandlerCreatedCallback=function(a){this._onHandlerCreated=a,this._configuration.onHandlerCreated=a},a.prototype.registerInstance=function(a,c){this.registerResolver(a,new A(0,void 0===c?a:c))},a.prototype.registerSingleton=function(a,c){this.registerResolver(a,new A(1,void 0===c?a:c))},a.prototype.registerTransient=function(a,c){this.registerResolver(a,new A(2,void 0===c?a:c))},a.prototype.registerHandler=function(a,c){this.registerResolver(a,new A(3,c))},a.prototype.registerAlias=function(a,c){this.registerResolver(c,new A(5,a))},a.prototype.registerResolver=function(a,c){if(null===a||void 0===a)throw new Error(E);var t=this._resolvers,y=t.get(a);void 0===y?t.set(a,c):4===y.strategy?y.state.push(c):t.set(a,new A(4,[y,c]))},a.prototype.autoRegister=function(a,t){var y=void 0;if("function"==typeof a){var e=c.metadata.get(c.metadata.registration,a);void 0===e?(y=new A(1,a),this.registerResolver(void 0===t?a:t,y)):y=e.registerResolver(this,void 0===t?a:t,a)}else y=new A(0,a),this.registerResolver(void 0===t?a:t,y);return y},a.prototype.autoRegisterAll=function(a){for(var c=a.length;c--;)this.autoRegister(a[c])},a.prototype.unregister=function(a){this._resolvers["delete"](a)},a.prototype.hasResolver=function(a){var c=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(null===a||void 0===a)throw new Error(E);return this._resolvers.has(a)||c&&null!==this.parent&&this.parent.hasResolver(a,c)},a.prototype.get=function(c){
if(null===c||void 0===c)throw new Error(E);if(c===a)return this;if(G(c))return c.get(this,c);var t=this._resolvers.get(c);return void 0===t?null===this.parent?this.autoRegister(c).get(this,c):this.parent._get(c):t.get(this,c)},a.prototype._get=function(a){var c=this._resolvers.get(a);return void 0===c?null===this.parent?this.autoRegister(a).get(this,a):this.parent._get(a):c.get(this,a)},a.prototype.getAll=function(a){if(null===a||void 0===a)throw new Error(E);var c=this._resolvers.get(a);if(void 0===c)return null===this.parent?F:this.parent.getAll(a);if(4===c.strategy){for(var t=c.state,y=t.length,e=new Array(y);y--;)e[y]=t[y].get(this,a);return e}return[c.get(this,a)]},a.prototype.createChild=function(){var c=new a(this._configuration);return c.root=this.root,c.parent=this,c},a.prototype.invoke=function(a,c){try{var y=this._handlers.get(a);return void 0===y&&(y=this._createInvocationHandler(a),this._handlers.set(a,y)),y.invoke(this,c)}catch(e){throw new t.AggregateError("Error invoking "+a.name+". Check the inner error for details.",e,!0)}},a.prototype._createInvocationHandler=function(a){var t=void 0;if(void 0===a.inject)t=c.metadata.getOwn(c.metadata.paramTypes,a)||F;else{t=[];for(var y=a;"function"==typeof y;){var e;(e=t).push.apply(e,n(y)),y=Object.getPrototypeOf(y)}}var d=c.metadata.getOwn(c.metadata.invoker,a)||I[t.length]||I.fallback,h=new H(a,d,t);return void 0!==this._onHandlerCreated?this._onHandlerCreated(h):h},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-dependency-injection@1.0.0-beta.1.2.0.js",["npm:aurelia-dependency-injection@1.0.0-beta.1.2.0/aurelia-dependency-injection"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-history@1.0.0-beta.1.2.0/aurelia-history.js",["exports"],function(a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});a.History=function(){function a(){c(this,a)}return a.prototype.activate=function(a){throw new Error("History must implement activate().")},a.prototype.deactivate=function(){throw new Error("History must implement deactivate().")},a.prototype.navigate=function(a,c){throw new Error("History must implement navigate().")},a.prototype.navigateBack=function(){throw new Error("History must implement navigateBack().")},a.prototype.setTitle=function(a){throw new Error("History must implement setTitle().")},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-history@1.0.0-beta.1.2.0.js",["npm:aurelia-history@1.0.0-beta.1.2.0/aurelia-history"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-event-aggregator@1.0.0-beta.1.2.0/aurelia-event-aggregator.js",["exports","aurelia-logging"],function(a,c){"use strict";function t(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function y(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function e(a){var c=new l;return a.subscribeOnce=function(a,t){return c.subscribeOnce(a,t)},a.subscribe=function(a,t){return c.subscribe(a,t)},a.publish=function(a,t){c.publish(a,t)},c}function d(a){a.instance(l,e(a.aurelia))}Object.defineProperty(a,"__esModule",{value:!0}),a.EventAggregator=void 0,a.includeEventsIn=e,a.configure=d;var h=t(c),i=h.getLogger("event-aggregator"),k=function(){function a(c,t){y(this,a),this.messageType=c,this.callback=t}return a.prototype.handle=function(a){a instanceof this.messageType&&this.callback.call(null,a)},a}(),l=a.EventAggregator=function(){function a(){y(this,a),this.eventLookup={},this.messageHandlers=[]}return a.prototype.publish=function(a,c){var t=void 0,y=void 0;if(!a)throw new Error("Event was invalid.");if("string"==typeof a){if(t=this.eventLookup[a]){t=t.slice(),y=t.length;try{for(;y--;)t[y](c,a)}catch(e){i.error(e)}}}else{t=this.messageHandlers.slice(),y=t.length;try{for(;y--;)t[y].handle(a)}catch(e){i.error(e)}}},a.prototype.subscribe=function(a,c){var t=void 0,y=void 0;if(!a)throw new Error("Event channel/type was invalid.");return"string"==typeof a?(t=c,y=this.eventLookup[a]||(this.eventLookup[a]=[])):(t=new k(a,c),y=this.messageHandlers),y.push(t),{dispose:function(){var a=y.indexOf(t);-1!==a&&y.splice(a,1)}}},a.prototype.subscribeOnce=function(a,c){var t=this.subscribe(a,function(a,y){return t.dispose(),c(a,y)});return t},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-event-aggregator@1.0.0-beta.1.2.0.js",["npm:aurelia-event-aggregator@1.0.0-beta.1.2.0/aurelia-event-aggregator"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-router@1.0.0-beta.1.2.0/aurelia-router.js",["exports","aurelia-logging","aurelia-route-recognizer","aurelia-dependency-injection","aurelia-history","aurelia-event-aggregator"],function(a,c,t,y,e,d){"use strict";function h(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function i(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?a:c}function k(a,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function l(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function n(a,c){return c||"#"===a[0]||(a="#"+a),a}function o(a,c,t){if(M.test(a))return a;var y="";return c.length&&"/"!==c[0]&&(y+="/"),y+=c,y.length&&"/"===y[y.length-1]||"/"===a[0]||(y+="/"),y.length&&"/"===y[y.length-1]&&"/"===a[0]&&(y=y.substring(0,y.length-1)),n(y+a,t)}function p(a,c,t){return L.test(a)?n(a,t):o(a,c,t)}function r(a,c){return function(a){return Promise.resolve({status:c,output:a,completed:c===N.completed})}}function s(a){a.previousInstruction=null,a.plan=null}function T(a){return a&&"function"==typeof a.navigate}function b(a,c){var t=a.previousInstruction,y=a.config,e={};if("redirect"in y){var d=p(y.redirect,g(a));return a.queryString&&(d+="?"+a.queryString),Promise.reject(new S(d))}if(t){var h=f(t,a),i=[],k=function(d){var k=t.viewPortInstructions[d],l=y.viewPorts[d];if(!l)throw new Error('Invalid Route Config: Configuration for viewPort "'+d+'" was not found for route: "'+a.config.route+'."');var n=e[d]={name:d,config:l,prevComponent:k.component,prevModuleId:k.moduleId};if(k.moduleId!==l.moduleId)n.strategy=V.replace;else if("determineActivationStrategy"in k.component.viewModel){var o;n.strategy=(o=k.component.viewModel).determineActivationStrategy.apply(o,a.lifecycleArgs)}else y.activationStrategy?n.strategy=y.activationStrategy:h||c?n.strategy=V.invokeLifecycle:n.strategy=V.noChange;if(n.strategy!==V.replace&&k.childRouter){var p=a.getWildcardPath(),r=k.childRouter._createNavigationInstruction(p,a).then(function(a){return n.childNavigationInstruction=a,b(a,n.strategy===V.invokeLifecycle).then(function(c){a.plan=c})});i.push(r)}};for(var l in t.viewPortInstructions)k(l);return Promise.all(i).then(function(){return e})}for(var n in y.viewPorts)e[n]={name:n,strategy:V.replace,config:a.config.viewPorts[n]};return Promise.resolve(e)}function f(a,c){var t=a.params,y=c.params,e=c.config.hasChildRouter?c.getWildCardName():null;for(var d in y)if(d!==e&&t[d]!==y[d])return!0;for(var h in t)if(h!==e&&t[h]!==y[h])return!0;if(!c.options.compareQueryParams)return!1;var i=a.queryParams,k=c.queryParams;for(var l in k)if(i[l]!==k[l])return!0;for(var n in i)if(i[n]!==k[n])return!0;return!1}function g(a){var c=[];for(a=a.parentInstruction;a;)c.unshift(a.getBaseUrl()),a=a.parentInstruction;return c.unshift("/"),c.join("")}function j(a){if("object"!==("undefined"==typeof a?"undefined":J(a)))throw new Error("Invalid Route Config");if("string"!=typeof a.route)throw new Error("Invalid Route Config: You must specify a route pattern.");if(!("redirect"in a||a.moduleId||a.navigationStrategy||a.viewPorts))throw new Error("Invalid Route Config: You must specify a moduleId, redirect, navigationStrategy, or viewPorts.")}function m(a,c,t){return Promise.resolve(c.call(t,a)).then(function(){return"viewPorts"in a.config||(a.config.viewPorts={"default":{moduleId:a.config.moduleId}}),a})}function q(a,c,t,y){function e(a){return y||z(a)?d():t.cancel(a)}function d(){if(i--)try{var a=h[i],y=a[c]();return A(y,e,t.cancel)}catch(d){return t.cancel(d)}return t()}var h=u(a,c),i=h.length;return d()}function u(a,c){var t=arguments.length<=2||void 0===arguments[2]?[]:arguments[2];for(var y in a){var e=a[y],d=e.prevComponent;if((e.strategy===V.invokeLifecycle||e.strategy===V.replace)&&d){var h=d.viewModel;c in h&&t.push(h)}e.childNavigationInstruction?u(e.childNavigationInstruction.plan,c,t):d&&v(d,c,t)}return t}function v(a,c,t){var y=a.childRouter;if(y&&y.currentInstruction){var e=y.currentInstruction.viewPortInstructions;for(var d in e){var h=e[d],i=h.component,k=i.viewModel;c in k&&t.push(k),v(i,c,t)}}}function w(a,c,t,y){function e(a,c){return y||z(a,c)?d():t.cancel(a)}function d(){if(k++,i>k)try{var a=function(){var a,y=h[k],d=(a=y.viewModel)[c].apply(a,y.lifecycleArgs);return{v:A(d,function(a){return e(a,y.router)},t.cancel)}}();if("object"===("undefined"==typeof a?"undefined":J(a)))return a.v}catch(y){return t.cancel(y)}return t()}var h=x(a,c),i=h.length,k=-1;return d()}function x(a,c){var t=arguments.length<=2||void 0===arguments[2]?[]:arguments[2],y=arguments[3],e=a.plan;return Object.keys(e).filter(function(d){var h=e[d],i=a.viewPortInstructions[d],k=i.component.viewModel;(h.strategy===V.invokeLifecycle||h.strategy===V.replace)&&c in k&&t.push({viewModel:k,lifecycleArgs:i.lifecycleArgs,router:y}),h.childNavigationInstruction&&x(h.childNavigationInstruction,c,t,i.component.childRouter||y)}),t}function z(a,c){return a instanceof Error?!1:T(a)?("function"==typeof a.setRouter&&a.setRouter(c),!!a.shouldContinueProcessing):void 0===a?!0:a}function A(a,c,t){if(a&&"function"==typeof a.then)return Promise.resolve(a).then(c)["catch"](t);try{return c(a)}catch(y){return t(y)}}function B(a,c){var t=C(c),y=t.map(function(c){return D(a,c.navigationInstruction,c.viewPortPlan)});return Promise.all(y)}function C(a){var c=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],t=a.plan;for(var y in t){var e=t[y];if(e.strategy===V.replace)c.push({viewPortPlan:e,navigationInstruction:a}),e.childNavigationInstruction&&C(e.childNavigationInstruction,c);else{var d=a.addViewPortInstruction(y,e.strategy,e.prevModuleId,e.prevComponent);e.childNavigationInstruction&&(d.childNavigationInstruction=e.childNavigationInstruction,C(e.childNavigationInstruction,c))}}return c}function D(a,c,t){var y=t.config.moduleId;return E(a,c,t.config).then(function(e){var d=c.addViewPortInstruction(t.name,t.strategy,y,e),h=e.childRouter;if(h){var i=c.getWildcardPath();return h._createNavigationInstruction(i,c).then(function(c){return t.childNavigationInstruction=c,b(c).then(function(t){return c.plan=t,d.childNavigationInstruction=c,B(a,c)})})}})}function E(a,c,t){var y=c.router,e=c.lifecycleArgs;return a.loadRoute(y,t,c).then(function(a){var c=a.viewModel,d=a.childContainer;if(a.router=y,a.config=t,"configureRouter"in c){var h=function(){var t=d.getChildRouter();return a.childRouter=t,{v:t.configure(function(a){return c.configureRouter.apply(c,[a,t].concat(e))}).then(function(){return a})}}();if("object"===("undefined"==typeof h?"undefined":J(h)))return h.v}return a})}function F(a,c,t,y){c&&"completed"in c&&"output"in c||(c=c||{},c.output=new Error("Expected router pipeline to return a navigation result, but got ["+JSON.stringify(c)+"] instead."));var e=null;return T(c.output)?c.output.navigate(y):(e=c,c.completed||(c.output instanceof Error&&ya.error(c.output),H(y))),y._dequeueInstruction(t+1).then(function(a){return e||a||c})}function G(a,c,t,y){if(a.resolve(c),!t){y.isNavigating=!1;var e={instruction:a,result:c},d=void 0;if(c.output instanceof Error)d="error";else if(c.completed){var h=a.queryString?"?"+a.queryString:"";y.history.previousLocation=a.fragment+h,d="success"}else d="canceled";y.events.publish("router:navigation:"+d,e),y.events.publish("router:navigation:complete",e)}return c}function H(a){var c=a.history.previousLocation;c?a.navigate(a.history.previousLocation,{trigger:!1,replace:!0}):ya.error("Router navigation failed, and no previous location could be restored.")}Object.defineProperty(a,"__esModule",{value:!0}),a.AppRouter=a.PipelineProvider=a.LoadRouteStep=a.RouteLoader=a.ActivateNextStep=a.DeactivatePreviousStep=a.CanActivateNextStep=a.CanDeactivatePreviousStep=a.Router=a.BuildNavigationPlanStep=a.activationStrategy=a.RouterConfiguration=a.Redirect=a.NavModel=a.NavigationInstruction=a.CommitChangesStep=a.Pipeline=a.pipelineStatus=void 0,a._normalizeAbsolutePath=n,a._createRootedPath=o,a._resolveUrl=p,a.isNavigationCommand=T,a._buildNavigationPlan=b;var I=h(c),J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},K=function(){function a(a,c){for(var t=0;t<c.length;t++){var y=c[t];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(a,y.key,y)}}return function(c,t,y){return t&&a(c.prototype,t),y&&a(c,y),c}}(),L=/^#?\//,M=/^([a-z][a-z0-9+\-.]*:)?\/\//i,N=a.pipelineStatus={completed:"completed",canceled:"canceled",rejected:"rejected",running:"running"},O=a.Pipeline=function(){function a(){l(this,a),this.steps=[]}return a.prototype.addStep=function(a){var c=void 0;if("function"==typeof a)c=a;else{if("function"==typeof a.getSteps){for(var t=a.getSteps(),y=0,e=t.length;e>y;y++)this.addStep(t[y]);return this}c=a.run.bind(a)}return this.steps.push(c),this},a.prototype.run=function(a){function c(){if(t++,!(t<y.length))return c.complete();var e=y[t];try{return e(a,c)}catch(d){return c.reject(d)}}var t=-1,y=this.steps;return c.complete=r(c,N.completed),c.cancel=r(c,N.canceled),c.reject=r(c,N.rejected),c()},a}(),P=a.CommitChangesStep=function(){function a(){l(this,a)}return a.prototype.run=function(a,c){return a._commitChanges(!0).then(function(){return a._updateTitle(),c()})},a}(),Q=a.NavigationInstruction=function(){function a(c){l(this,a),this.plan=null,this.options={},Object.assign(this,c),this.params=this.params||{},this.viewPortInstructions={};var t=[],y=this;do{var e=Object.assign({},y.params);y.config&&y.config.hasChildRouter&&delete e[y.getWildCardName()],t.unshift(e),y=y.parentInstruction}while(y);var d=Object.assign.apply(Object,[{},this.queryParams].concat(t));this.lifecycleArgs=[d,this.config,this]}return a.prototype.getAllInstructions=function(){var a=[this];for(var c in this.viewPortInstructions){var t=this.viewPortInstructions[c].childNavigationInstruction;t&&a.push.apply(a,t.getAllInstructions())}return a},a.prototype.getAllPreviousInstructions=function(){return this.getAllInstructions().map(function(a){return a.previousInstruction}).filter(function(a){return a})},a.prototype.addViewPortInstruction=function(a,c,t,y){var e=this.viewPortInstructions[a]={name:a,strategy:c,moduleId:t,component:y,childRouter:y.childRouter,lifecycleArgs:this.lifecycleArgs.slice()};return e},a.prototype.getWildCardName=function(){var a=this.config.route.lastIndexOf("*");return this.config.route.substr(a+1)},a.prototype.getWildcardPath=function(){var a=this.getWildCardName(),c=this.params[a]||"";return this.queryString&&(c+="?"+this.queryString),c},a.prototype.getBaseUrl=function(){if(!this.params)return this.fragment;var a=this.getWildCardName(),c=this.params[a]||"";return c?this.fragment.substr(0,this.fragment.lastIndexOf(c)):this.fragment},a.prototype._commitChanges=function(a){var c=this,t=this.router;t.currentInstruction=this,this.previousInstruction&&(this.previousInstruction.config.navModel.isActive=!1),this.config.navModel.isActive=!0,t._refreshBaseUrl(),t.refreshNavigation();var y=[],e=[],d=function(d){var h=c.viewPortInstructions[d],i=t.viewPorts[d];if(!i)throw new Error("There was no router-view found in the view for "+h.moduleId+".");h.strategy===V.replace?(a&&e.push({viewPort:i,viewPortInstruction:h}),y.push(i.process(h,a).then(function(a){return h.childNavigationInstruction?h.childNavigationInstruction._commitChanges():void 0}))):h.childNavigationInstruction&&y.push(h.childNavigationInstruction._commitChanges(a))};for(var h in this.viewPortInstructions)d(h);return Promise.all(y).then(function(){return e.forEach(function(a){return a.viewPort.swap(a.viewPortInstruction)}),null}).then(function(){return s(c)})},a.prototype._updateTitle=function(){var a=this._buildTitle();a&&this.router.history.setTitle(a)},a.prototype._buildTitle=function(){var a=arguments.length<=0||void 0===arguments[0]?" | ":arguments[0],c=this.config.navModel.title||"",t=[];for(var y in this.viewPortInstructions){var e=this.viewPortInstructions[y];if(e.childNavigationInstruction){var d=e.childNavigationInstruction._buildTitle(a);d&&t.push(d)}}return t.length&&(c=t.join(a)+(c?a:"")+c),this.router.title&&(c+=(c?a:"")+this.router.title),c},a}(),R=a.NavModel=function(){function a(c,t){l(this,a),this.isActive=!1,this.title=null,this.href=null,this.relativeHref=null,this.settings={},this.config=null,this.router=c,this.relativeHref=t}return a.prototype.setTitle=function(a){this.title=a,this.isActive&&this.router.updateTitle()},a}(),S=a.Redirect=function(){function a(c){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];l(this,a),this.url=c,this.options=Object.assign({trigger:!0,replace:!0},t),this.shouldContinueProcessing=!1}return a.prototype.setRouter=function(a){this.router=a},a.prototype.navigate=function(a){var c=this.options.useAppRouter?a:this.router||a;c.navigate(this.url,this.options)},a}(),U=a.RouterConfiguration=function(){function a(){l(this,a),this.instructions=[],this.options={},this.pipelineSteps=[]}return a.prototype.addPipelineStep=function(a,c){return this.pipelineSteps.push({name:a,step:c}),this},a.prototype.addAuthorizeStep=function(a){return this.addPipelineStep("authorize",a)},a.prototype.addPreActivateStep=function(a){return this.addPipelineStep("preActivate",a)},a.prototype.addPreRenderStep=function(a){return this.addPipelineStep("preRender",a)},a.prototype.addPostRenderStep=function(a){return this.addPipelineStep("postRender",a)},a.prototype.map=function(a){return Array.isArray(a)?(a.forEach(this.map.bind(this)),this):this.mapRoute(a)},a.prototype.mapRoute=function(a){return this.instructions.push(function(c){var t=[];if(Array.isArray(a.route))for(var y=0,e=a.route.length;e>y;++y){var d=Object.assign({},a);d.route=a.route[y],t.push(d)}else t.push(Object.assign({},a));for(var h=void 0,i=0,k=t.length;k>i;++i){var l=t[i];l.settings=l.settings||{},h||(h=c.createNavModel(l)),c.addRoute(l,h)}}),this},a.prototype.mapUnknownRoutes=function(a){return this.unknownRouteConfig=a,this},a.prototype.exportToRouter=function(a){for(var c=this.instructions,t=0,y=c.length;y>t;++t)c[t](a);this.title&&(a.title=this.title),this.unknownRouteConfig&&a.handleUnknownRoutes(this.unknownRouteConfig),a.options=this.options;var e=this.pipelineSteps;if(e.length){if(!a.isRoot)throw new Error("Pipeline steps can only be added to the root router");for(var d=a.pipelineProvider,h=0,i=e.length;i>h;++h){var k=e[h],l=k.name,n=k.step;d.addStep(l,n)}}},a}(),V=a.activationStrategy={noChange:"no-change",invokeLifecycle:"invoke-lifecycle",replace:"replace"},W=a.BuildNavigationPlanStep=function(){function a(){l(this,a)}return a.prototype.run=function(a,c){return b(a).then(function(t){return a.plan=t,c()})["catch"](c.cancel)},a}(),X=a.Router=function(){function a(c,t){l(this,a),this.parent=null,this.options={},this.container=c,this.history=t,this.reset()}return a.prototype.reset=function(){var a=this;this.viewPorts={},this.routes=[],this.baseUrl="",this.isConfigured=!1,this.isNavigating=!1,this.navigation=[],this.currentInstruction=null,this._fallbackOrder=100,this._recognizer=new t.RouteRecognizer,this._childRecognizer=new t.RouteRecognizer,this._configuredPromise=new Promise(function(c){a._resolveConfiguredPromise=c})},a.prototype.registerViewPort=function(a,c){c=c||"default",this.viewPorts[c]=a},a.prototype.ensureConfigured=function(){return this._configuredPromise},a.prototype.configure=function(a){var c=this;this.isConfigured=!0;var t=a,y=void 0;return"function"==typeof a&&(y=new U,t=a(y)),Promise.resolve(t).then(function(a){a&&a.exportToRouter&&(y=a),y.exportToRouter(c),c.isConfigured=!0,c._resolveConfiguredPromise()})},a.prototype.navigate=function(a,c){return!this.isConfigured&&this.parent?this.parent.navigate(a,c):this.history.navigate(p(a,this.baseUrl,this.history._hasPushState),c)},a.prototype.navigateToRoute=function(a,c,t){var y=this.generate(a,c);return this.navigate(y,t)},a.prototype.navigateBack=function(){this.history.navigateBack()},a.prototype.createChild=function(c){var t=new a(c||this.container.createChild(),this.history);return t.parent=this,t},a.prototype.generate=function(a,c){var t=this._recognizer.hasRoute(a);if((!this.isConfigured||!t)&&this.parent)return this.parent.generate(a,c);if(!t)throw new Error("A route with name '"+a+"' could not be found. Check that `name: '"+a+"'` was specified in the route's config.");var y=this._recognizer.generate(a,c);return o(y,this.baseUrl,this.history._hasPushState)},a.prototype.createNavModel=function(a){var c=new R(this,"href"in a?a.href:a.route);return c.title=a.title,c.order=a.nav,c.href=a.href,c.settings=a.settings,c.config=a,c},a.prototype.addRoute=function(a,c){j(a),"viewPorts"in a||a.navigationStrategy||(a.viewPorts={"default":{moduleId:a.moduleId,view:a.view}}),c||(c=this.createNavModel(a)),this.routes.push(a);var t=a.route;"/"===t.charAt(0)&&(t=t.substr(1));var y=this._recognizer.add({path:t,handler:a});if(t){var e=a.settings;delete a.settings;var d=JSON.parse(JSON.stringify(a));a.settings=e,d.route=t+"/*childRoute",d.hasChildRouter=!0,this._childRecognizer.add({path:d.route,handler:d}),d.navModel=c,d.settings=a.settings}if(a.navModel=c,(c.order||0===c.order)&&-1===this.navigation.indexOf(c)){if(!c.href&&""!==c.href&&(y.types.dynamics||y.types.stars))throw new Error("Invalid route config: dynamic routes must specify an href to be included in the navigation model.");"number"!=typeof c.order&&(c.order=++this._fallbackOrder),this.navigation.push(c),this.navigation=this.navigation.sort(function(a,c){return a.order-c.order})}},a.prototype.hasRoute=function(a){return!!(this._recognizer.hasRoute(a)||this.parent&&this.parent.hasRoute(a))},a.prototype.hasOwnRoute=function(a){return this._recognizer.hasRoute(a)},a.prototype.handleUnknownRoutes=function(a){var c=this;if(!a)throw new Error("Invalid unknown route handler");this.catchAllHandler=function(t){return c._createRouteConfig(a,t).then(function(a){return t.config=a,t})}},a.prototype.updateTitle=function(){return this.parent?this.parent.updateTitle():void this.currentInstruction._updateTitle()},a.prototype.refreshNavigation=function(){for(var a=this.navigation,c=0,t=a.length;t>c;c++){var y=a[c];y.href||(y.href=o(y.relativeHref,this.baseUrl,this.history._hasPushState))}},a.prototype._refreshBaseUrl=function(){if(this.parent){var a=this.parent.currentInstruction.getBaseUrl();this.baseUrl=this.parent.baseUrl+a}},a.prototype._createNavigationInstruction=function(){var a=arguments.length<=0||void 0===arguments[0]?"":arguments[0],c=arguments.length<=1||void 0===arguments[1]?null:arguments[1],t=a,y="",e=a.indexOf("?");-1!==e&&(t=a.substr(0,e),y=a.substr(e+1));var d=this._recognizer.recognize(a);d&&d.length||(d=this._childRecognizer.recognize(a));var h={fragment:t,queryString:y,config:null,parentInstruction:c,previousInstruction:this.currentInstruction,router:this,options:{compareQueryParams:this.options.compareQueryParams}};if(d&&d.length){var i=d[0],k=new Q(Object.assign({},h,{params:i.params,queryParams:i.queryParams||d.queryParams,config:i.config||i.handler}));return"function"==typeof i.handler?m(k,i.handler,i):i.handler&&"navigationStrategy"in i.handler?m(k,i.handler.navigationStrategy,i.handler):Promise.resolve(k)}if(this.catchAllHandler){var l=new Q(Object.assign({},h,{params:{path:t},queryParams:d&&d.queryParams,config:null}));return m(l,this.catchAllHandler)}return Promise.reject(new Error("Route not found: "+a))},a.prototype._createRouteConfig=function(a,c){var t=this;return Promise.resolve(a).then(function(a){return"string"==typeof a?{moduleId:a}:"function"==typeof a?a(c):a}).then(function(a){return"string"==typeof a?{moduleId:a}:a}).then(function(a){return a.route=c.params.path,j(a),a.navModel||(a.navModel=t.createNavModel(a)),a})},K(a,[{key:"isRoot",get:function(){return!this.parent}}]),a}(),Y=a.CanDeactivatePreviousStep=function(){function a(){l(this,a)}return a.prototype.run=function(a,c){return q(a.plan,"canDeactivate",c)},a}(),Z=a.CanActivateNextStep=function(){function a(){l(this,a)}return a.prototype.run=function(a,c){return w(a,"canActivate",c)},a}(),$=a.DeactivatePreviousStep=function(){function a(){l(this,a)}return a.prototype.run=function(a,c){return q(a.plan,"deactivate",c,!0)},a}(),_=a.ActivateNextStep=function(){function a(){l(this,a)}return a.prototype.run=function(a,c){return w(a,"activate",c,!0)},a}(),aa=a.RouteLoader=function(){function a(){l(this,a)}return a.prototype.loadRoute=function(a,c,t){throw Error('Route loaders must implement "loadRoute(router, config, navigationInstruction)".')},a}(),ca=a.LoadRouteStep=function(){function a(c){l(this,a),this.routeLoader=c}return a.inject=function(){return[aa]},a.prototype.run=function(a,c){return B(this.routeLoader,a).then(c)["catch"](c.cancel)},a}(),ta=a.PipelineProvider=function(){function a(c){l(this,a),this.container=c,this.steps=[W,Y,ca,this._createPipelineSlot("authorize"),Z,this._createPipelineSlot("preActivate","modelbind"),$,_,this._createPipelineSlot("preRender","precommit"),P,this._createPipelineSlot("postRender","postcomplete")]}return a.inject=function(){return[y.Container]},a.prototype.createPipeline=function(){var a=this,c=new O;return this.steps.forEach(function(t){return c.addStep(a.container.get(t))}),c},a.prototype.addStep=function(a,c){var t=this.steps.find(function(c){return c.slotName===a||c.slotAlias===a});if(!t)throw new Error("Invalid pipeline slot name: "+a+".");t.steps.push(c)},a.prototype._createPipelineSlot=function(a,c){var t,e,d=(e=t=function(){function a(c){l(this,a),this.container=c}return a.prototype.getSteps=function(){var c=this;return a.steps.map(function(a){return c.container.get(a)})},a}(),t.inject=[y.Container],t.slotName=a,t.slotAlias=c,t.steps=[],e);return d},a}(),ya=I.getLogger("app-router");a.AppRouter=function(a){function c(t,y,e,d){l(this,c);var h=i(this,a.call(this,t,y));return h.pipelineProvider=e,h.events=d,h}return k(c,a),c.inject=function(){return[y.Container,e.History,ta,d.EventAggregator]},c.prototype.reset=function(){a.prototype.reset.call(this),this.maxInstructionCount=10,this._queue?this._queue.length=0:this._queue=[]},c.prototype.loadUrl=function(a){var c=this;return this._createNavigationInstruction(a).then(function(a){return c._queueInstruction(a)})["catch"](function(a){ya.error(a),H(c)})},c.prototype.registerViewPort=function(c,t){var y=this;if(a.prototype.registerViewPort.call(this,c,t),this.isActive)this._dequeueInstruction();else{var e=function(){var a=y._findViewModel(c);if("configureRouter"in a){if(!y.isConfigured){var t=function(){var c=y._resolveConfiguredPromise;return y._resolveConfiguredPromise=function(){},{v:{v:y.configure(function(c){return a.configureRouter(c,y)}).then(function(){y.activate(),c()})}}}();if("object"===("undefined"==typeof t?"undefined":J(t)))return t.v}}else y.activate()}();if("object"===("undefined"==typeof e?"undefined":J(e)))return e.v}return Promise.resolve()},c.prototype.activate=function(a){this.isActive||(this.isActive=!0,this.options=Object.assign({routeHandler:this.loadUrl.bind(this)},this.options,a),this.history.activate(this.options),this._dequeueInstruction())},c.prototype.deactivate=function(){this.isActive=!1,this.history.deactivate()},c.prototype._queueInstruction=function(a){var c=this;return new Promise(function(t){a.resolve=t,c._queue.unshift(a),c._dequeueInstruction()})},c.prototype._dequeueInstruction=function(){var a=this,c=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return Promise.resolve().then(function(){if(!a.isNavigating||c){var t=a._queue.shift();if(a._queue.length=0,t){if(a.isNavigating=!0,t.previousInstruction=a.currentInstruction,c){if(c===a.maxInstructionCount-1)return ya.error(c+1+" navigation instructions have been attempted without success. Restoring last known good location."),H(a),a._dequeueInstruction(c+1);if(c>a.maxInstructionCount)throw new Error("Maximum navigation attempts exceeded. Giving up.")}else a.events.publish("router:navigation:processing",{instruction:t});var y=a.pipelineProvider.createPipeline();return y.run(t).then(function(y){return F(t,y,c,a)})["catch"](function(a){return{output:a instanceof Error?a:new Error(a)}}).then(function(y){return G(t,y,!!c,a)})}}})},c.prototype._findViewModel=function(a){if(this.container.viewModel)return this.container.viewModel;if(a.container)for(var c=a.container;c;){if(c.viewModel)return this.container.viewModel=c.viewModel,c.viewModel;c=c.parent}},c}(X)})}(),function(){var a=System.amdDefine;a("npm:aurelia-router@1.0.0-beta.1.2.0.js",["npm:aurelia-router@1.0.0-beta.1.2.0/aurelia-router"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-pal@1.0.0-beta.1.2.0/aurelia-pal.js",["exports"],function(a){"use strict";function c(a,c,t){if(c){if(c.innerError&&t)return c;c.stack&&(a+="\n------------------------------------------------\ninner error: "+c.stack)}var y=new Error(a);return c&&(y.innerError=c),y}function t(a){"function"!=typeof Object.getPropertyDescriptor&&(Object.getPropertyDescriptor=function(a,c){for(var t=Object.getOwnPropertyDescriptor(a,c),y=Object.getPrototypeOf(a);"undefined"==typeof t&&null!==y;)t=Object.getOwnPropertyDescriptor(y,c),y=Object.getPrototypeOf(y);return t}),a(e,y,d)}Object.defineProperty(a,"__esModule",{value:!0}),a.AggregateError=c,a.initializePAL=t;var y=a.FEATURE={},e=a.PLATFORM={noop:function(){},eachModule:function(){}};e.global=function(){return"undefined"!=typeof self?self:"undefined"!=typeof global?global:new Function("return this")()}();var d=a.DOM={}})}(),function(){var a=System.amdDefine;a("npm:aurelia-pal@1.0.0-beta.1.2.0.js",["npm:aurelia-pal@1.0.0-beta.1.2.0/aurelia-pal"],function(a){return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-logging@1.0.0-beta.1.2.0/aurelia-logging.js",["exports"],function(a){"use strict";function c(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function t(a,c,t){var y=T.length,e=void 0;for(t=b.call(t),t.unshift(a);y--;)e=T[y],e[c].apply(e,t)}function y(){4>s||t(this,"debug",arguments)}function e(){3>s||t(this,"info",arguments)}function d(){2>s||t(this,"warn",arguments)}function h(){1>s||t(this,"error",arguments)}function i(a){a.debug=y,a.info=e,a.warn=d,a.error=h}function k(a){var c=new g(a,f);return T.length&&i(c),c}function l(a){return r[a]||(r[a]=k(a))}function n(a){if(T.push(a),1===T.length)for(var c in r)i(r[c])}function o(a){s=a}Object.defineProperty(a,"__esModule",{value:!0}),a.getLogger=l,a.addAppender=n,a.setLevel=o;var p=a.logLevel={none:0,error:1,warn:2,info:3,debug:4},r={},s=p.none,T=[],b=Array.prototype.slice,f={},g=a.Logger=function(){function a(t,y){if(c(this,a),y!==f)throw new Error('You cannot instantiate "Logger". Use the "getLogger" API instead.');this.id=t}return a.prototype.debug=function(a){},a.prototype.info=function(a){},a.prototype.warn=function(a){},a.prototype.error=function(a){},a}()})}(),function(){var a=System.amdDefine;a("npm:aurelia-logging@1.0.0-beta.1.2.0.js",["npm:aurelia-logging@1.0.0-beta.1.2.0/aurelia-logging"],function(a){
return a})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-router@1.0.0-beta.1.2.0/route-href.js",["exports","aurelia-templating","aurelia-dependency-injection","aurelia-router","aurelia-pal","aurelia-logging"],function(a,c,t,y,e,d){"use strict";function h(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(c[t]=a[t]);return c["default"]=a,c}function i(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0}),a.RouteHref=void 0;var k,l,n,o,p,r,s=h(d),T=s.getLogger("route-href");a.RouteHref=(k=(0,c.customAttribute)("route-href"),l=(0,c.bindable)({name:"route",changeHandler:"processChange"}),n=(0,c.bindable)({name:"params",changeHandler:"processChange"}),o=(0,c.bindable)({name:"attribute",defaultValue:"href"}),p=(0,t.inject)(y.Router,e.DOM.Element),k(r=l(r=n(r=o(r=p(r=function(){function a(c,t){i(this,a),this.router=c,this.element=t}return a.prototype.bind=function(){this.isActive=!0,this.processChange()},a.prototype.unbind=function(){this.isActive=!1},a.prototype.attributeChanged=function(a,c){c&&this.element.removeAttribute(c),this.processChange()},a.prototype.processChange=function(){var a=this;return this.router.ensureConfigured().then(function(){if(a.isActive){var c=a.router.generate(a.route,a.params);a.element.setAttribute(a.attribute,c)}})["catch"](function(a){T.error(a)})},a}())||r)||r)||r)||r)||r)})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-router@1.0.0-beta.1.2.0/aurelia-templating-router.js",["exports","aurelia-router","./route-loader","./router-view","./route-href"],function(a,c,t,y,e){"use strict";function d(a){a.singleton(c.RouteLoader,t.TemplatingRouteLoader).singleton(c.Router,c.AppRouter).globalResources("./router-view","./route-href"),a.container.registerAlias(c.Router,c.AppRouter)}Object.defineProperty(a,"__esModule",{value:!0}),a.configure=a.RouteHref=a.RouterView=a.TemplatingRouteLoader=void 0,a.TemplatingRouteLoader=t.TemplatingRouteLoader,a.RouterView=y.RouterView,a.RouteHref=e.RouteHref,a.configure=d})}(),function(){var a=System.amdDefine;a("npm:aurelia-templating-router@1.0.0-beta.1.2.0.js",["npm:aurelia-templating-router@1.0.0-beta.1.2.0/aurelia-templating-router"],function(a){return a})}();